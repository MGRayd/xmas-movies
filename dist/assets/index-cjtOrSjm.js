function Fw(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function bw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ow={exports:{}},e0={},Lw={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uu=Symbol.for("react.element"),FI=Symbol.for("react.portal"),bI=Symbol.for("react.fragment"),OI=Symbol.for("react.strict_mode"),LI=Symbol.for("react.profiler"),MI=Symbol.for("react.provider"),VI=Symbol.for("react.context"),UI=Symbol.for("react.forward_ref"),jI=Symbol.for("react.suspense"),BI=Symbol.for("react.memo"),zI=Symbol.for("react.lazy"),I1=Symbol.iterator;function $I(t){return t===null||typeof t!="object"?null:(t=I1&&t[I1]||t["@@iterator"],typeof t=="function"?t:null)}var Mw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vw=Object.assign,Uw={};function cl(t,e,r){this.props=t,this.context=e,this.refs=Uw,this.updater=r||Mw}cl.prototype.isReactComponent={};cl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};cl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jw(){}jw.prototype=cl.prototype;function Nm(t,e,r){this.props=t,this.context=e,this.refs=Uw,this.updater=r||Mw}var Pm=Nm.prototype=new jw;Pm.constructor=Nm;Vw(Pm,cl.prototype);Pm.isPureReactComponent=!0;var C1=Array.isArray,Bw=Object.prototype.hasOwnProperty,Dm={current:null},zw={key:!0,ref:!0,__self:!0,__source:!0};function $w(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)Bw.call(e,n)&&!zw.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:uu,type:t,key:s,ref:a,props:i,_owner:Dm.current}}function HI(t,e){return{$$typeof:uu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Fm(t){return typeof t=="object"&&t!==null&&t.$$typeof===uu}function WI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var R1=/\/+/g;function J0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WI(""+t.key):e.toString(36)}function Cf(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case uu:case FI:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+J0(a,0):n,C1(i)?(r="",t!=null&&(r=t.replace(R1,"$&/")+"/"),Cf(i,e,r,"",function(c){return c})):i!=null&&(Fm(i)&&(i=HI(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(R1,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",C1(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+J0(s,o);a+=Cf(s,e,r,l,i)}else if(l=$I(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+J0(s,o++),a+=Cf(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function qu(t,e,r){if(t==null)return t;var n=[],i=0;return Cf(t,n,"","",function(s){return e.call(r,s,i++)}),n}function GI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Jr={current:null},Rf={transition:null},KI={ReactCurrentDispatcher:Jr,ReactCurrentBatchConfig:Rf,ReactCurrentOwner:Dm};function Hw(){throw Error("act(...) is not supported in production builds of React.")}qe.Children={map:qu,forEach:function(t,e,r){qu(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return qu(t,function(){e++}),e},toArray:function(t){return qu(t,function(e){return e})||[]},only:function(t){if(!Fm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};qe.Component=cl;qe.Fragment=bI;qe.Profiler=LI;qe.PureComponent=Nm;qe.StrictMode=OI;qe.Suspense=jI;qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KI;qe.act=Hw;qe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Vw({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Dm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)Bw.call(e,l)&&!zw.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:uu,type:t.type,key:i,ref:s,props:n,_owner:a}};qe.createContext=function(t){return t={$$typeof:VI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:MI,_context:t},t.Consumer=t};qe.createElement=$w;qe.createFactory=function(t){var e=$w.bind(null,t);return e.type=t,e};qe.createRef=function(){return{current:null}};qe.forwardRef=function(t){return{$$typeof:UI,render:t}};qe.isValidElement=Fm;qe.lazy=function(t){return{$$typeof:zI,_payload:{_status:-1,_result:t},_init:GI}};qe.memo=function(t,e){return{$$typeof:BI,type:t,compare:e===void 0?null:e}};qe.startTransition=function(t){var e=Rf.transition;Rf.transition={};try{t()}finally{Rf.transition=e}};qe.unstable_act=Hw;qe.useCallback=function(t,e){return Jr.current.useCallback(t,e)};qe.useContext=function(t){return Jr.current.useContext(t)};qe.useDebugValue=function(){};qe.useDeferredValue=function(t){return Jr.current.useDeferredValue(t)};qe.useEffect=function(t,e){return Jr.current.useEffect(t,e)};qe.useId=function(){return Jr.current.useId()};qe.useImperativeHandle=function(t,e,r){return Jr.current.useImperativeHandle(t,e,r)};qe.useInsertionEffect=function(t,e){return Jr.current.useInsertionEffect(t,e)};qe.useLayoutEffect=function(t,e){return Jr.current.useLayoutEffect(t,e)};qe.useMemo=function(t,e){return Jr.current.useMemo(t,e)};qe.useReducer=function(t,e,r){return Jr.current.useReducer(t,e,r)};qe.useRef=function(t){return Jr.current.useRef(t)};qe.useState=function(t){return Jr.current.useState(t)};qe.useSyncExternalStore=function(t,e,r){return Jr.current.useSyncExternalStore(t,e,r)};qe.useTransition=function(){return Jr.current.useTransition()};qe.version="18.3.1";Lw.exports=qe;var X=Lw.exports;const Ww=bw(X),qI=Fw({__proto__:null,default:Ww},[X]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XI=X,YI=Symbol.for("react.element"),QI=Symbol.for("react.fragment"),JI=Object.prototype.hasOwnProperty,ZI=XI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eC={key:!0,ref:!0,__self:!0,__source:!0};function Gw(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)JI.call(e,n)&&!eC.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:YI,type:t,key:s,ref:a,props:i,_owner:ZI.current}}e0.Fragment=QI;e0.jsx=Gw;e0.jsxs=Gw;Ow.exports=e0;var m=Ow.exports,Xd={},Kw={exports:{}},Tn={},qw={exports:{}},Xw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ie,G){var ce=ie.length;ie.push(G);e:for(;0<ce;){var Ee=ce-1>>>1,j=ie[Ee];if(0<i(j,G))ie[Ee]=G,ie[ce]=j,ce=Ee;else break e}}function r(ie){return ie.length===0?null:ie[0]}function n(ie){if(ie.length===0)return null;var G=ie[0],ce=ie.pop();if(ce!==G){ie[0]=ce;e:for(var Ee=0,j=ie.length,Y=j>>>1;Ee<Y;){var K=2*(Ee+1)-1,W=ie[K],ae=K+1,xe=ie[ae];if(0>i(W,ce))ae<j&&0>i(xe,W)?(ie[Ee]=xe,ie[ae]=ce,Ee=ae):(ie[Ee]=W,ie[K]=ce,Ee=K);else if(ae<j&&0>i(xe,ce))ie[Ee]=xe,ie[ae]=ce,Ee=ae;else break e}}return G}function i(ie,G){var ce=ie.sortIndex-G.sortIndex;return ce!==0?ce:ie.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,h=null,d=3,p=!1,x=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(ie){for(var G=r(c);G!==null;){if(G.callback===null)n(c);else if(G.startTime<=ie)n(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=r(c)}}function D(ie){if(v=!1,w(ie),!x)if(r(l)!==null)x=!0,Se(B);else{var G=r(c);G!==null&&oe(D,G.startTime-ie)}}function B(ie,G){x=!1,v&&(v=!1,k(E),E=-1),p=!0;var ce=d;try{for(w(G),h=r(l);h!==null&&(!(h.expirationTime>G)||ie&&!P());){var Ee=h.callback;if(typeof Ee=="function"){h.callback=null,d=h.priorityLevel;var j=Ee(h.expirationTime<=G);G=t.unstable_now(),typeof j=="function"?h.callback=j:h===r(l)&&n(l),w(G)}else n(l);h=r(l)}if(h!==null)var Y=!0;else{var K=r(c);K!==null&&oe(D,K.startTime-G),Y=!1}return Y}finally{h=null,d=ce,p=!1}}var U=!1,g=null,E=-1,S=5,C=-1;function P(){return!(t.unstable_now()-C<S)}function R(){if(g!==null){var ie=t.unstable_now();C=ie;var G=!0;try{G=g(!0,ie)}finally{G?b():(U=!1,g=null)}}else U=!1}var b;if(typeof T=="function")b=function(){T(R)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,de=fe.port2;fe.port1.onmessage=R,b=function(){de.postMessage(null)}}else b=function(){y(R,0)};function Se(ie){g=ie,U||(U=!0,b())}function oe(ie,G){E=y(function(){ie(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){x||p||(x=!0,Se(B))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(ie){switch(d){case 1:case 2:case 3:var G=3;break;default:G=d}var ce=d;d=G;try{return ie()}finally{d=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,G){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ce=d;d=ie;try{return G()}finally{d=ce}},t.unstable_scheduleCallback=function(ie,G,ce){var Ee=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ee+ce:Ee):ce=Ee,ie){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ce+j,ie={id:u++,callback:G,priorityLevel:ie,startTime:ce,expirationTime:j,sortIndex:-1},ce>Ee?(ie.sortIndex=ce,e(c,ie),r(l)===null&&ie===r(c)&&(v?(k(E),E=-1):v=!0,oe(D,ce-Ee))):(ie.sortIndex=j,e(l,ie),x||p||(x=!0,Se(B))),ie},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(ie){var G=d;return function(){var ce=d;d=G;try{return ie.apply(this,arguments)}finally{d=ce}}}})(Xw);qw.exports=Xw;var tC=qw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rC=X,wn=tC;function _e(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yw=new Set,Sc={};function Ha(t,e){Ho(t,e),Ho(t+"Capture",e)}function Ho(t,e){for(Sc[t]=e,t=0;t<e.length;t++)Yw.add(e[t])}var es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yd=Object.prototype.hasOwnProperty,nC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N1={},P1={};function iC(t){return Yd.call(P1,t)?!0:Yd.call(N1,t)?!1:nC.test(t)?P1[t]=!0:(N1[t]=!0,!1)}function sC(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function aC(t,e,r,n){if(e===null||typeof e>"u"||sC(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Zr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Tr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tr[t]=new Zr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tr[e]=new Zr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tr[t]=new Zr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tr[t]=new Zr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tr[t]=new Zr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tr[t]=new Zr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tr[t]=new Zr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tr[t]=new Zr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tr[t]=new Zr(t,5,!1,t.toLowerCase(),null,!1,!1)});var bm=/[\-:]([a-z])/g;function Om(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bm,Om);Tr[e]=new Zr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bm,Om);Tr[e]=new Zr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bm,Om);Tr[e]=new Zr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tr[t]=new Zr(t,1,!1,t.toLowerCase(),null,!1,!1)});Tr.xlinkHref=new Zr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tr[t]=new Zr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lm(t,e,r,n){var i=Tr.hasOwnProperty(e)?Tr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(aC(e,r,i,n)&&(r=null),n||i===null?iC(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var fs=rC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xu=Symbol.for("react.element"),xo=Symbol.for("react.portal"),_o=Symbol.for("react.fragment"),Mm=Symbol.for("react.strict_mode"),Qd=Symbol.for("react.profiler"),Qw=Symbol.for("react.provider"),Jw=Symbol.for("react.context"),Vm=Symbol.for("react.forward_ref"),Jd=Symbol.for("react.suspense"),Zd=Symbol.for("react.suspense_list"),Um=Symbol.for("react.memo"),Es=Symbol.for("react.lazy"),Zw=Symbol.for("react.offscreen"),D1=Symbol.iterator;function Nl(t){return t===null||typeof t!="object"?null:(t=D1&&t[D1]||t["@@iterator"],typeof t=="function"?t:null)}var Ot=Object.assign,Z0;function zl(t){if(Z0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Z0=e&&e[1]||""}return`
`+Z0+t}var ed=!1;function td(t,e){if(!t||ed)return"";ed=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{ed=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?zl(t):""}function oC(t){switch(t.tag){case 5:return zl(t.type);case 16:return zl("Lazy");case 13:return zl("Suspense");case 19:return zl("SuspenseList");case 0:case 2:case 15:return t=td(t.type,!1),t;case 11:return t=td(t.type.render,!1),t;case 1:return t=td(t.type,!0),t;default:return""}}function ep(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _o:return"Fragment";case xo:return"Portal";case Qd:return"Profiler";case Mm:return"StrictMode";case Jd:return"Suspense";case Zd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Jw:return(t.displayName||"Context")+".Consumer";case Qw:return(t._context.displayName||"Context")+".Provider";case Vm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Um:return e=t.displayName||null,e!==null?e:ep(t.type)||"Memo";case Es:e=t._payload,t=t._init;try{return ep(t(e))}catch{}}return null}function lC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ep(e);case 8:return e===Mm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function eE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cC(t){var e=eE(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Yu(t){t._valueTracker||(t._valueTracker=cC(t))}function tE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=eE(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Yf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tp(t,e){var r=e.checked;return Ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function F1(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=qs(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rE(t,e){e=e.checked,e!=null&&Lm(t,"checked",e,!1)}function rp(t,e){rE(t,e);var r=qs(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?np(t,e.type,r):e.hasOwnProperty("defaultValue")&&np(t,e.type,qs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function b1(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function np(t,e,r){(e!=="number"||Yf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var $l=Array.isArray;function Po(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+qs(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ip(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(_e(91));return Ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function O1(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(_e(92));if($l(r)){if(1<r.length)throw Error(_e(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:qs(r)}}function nE(t,e){var r=qs(e.value),n=qs(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function L1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function iE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?iE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qu,sE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qu=Qu||document.createElement("div"),Qu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ac(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var tc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uC=["Webkit","ms","Moz","O"];Object.keys(tc).forEach(function(t){uC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),tc[e]=tc[t]})});function aE(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||tc.hasOwnProperty(t)&&tc[t]?(""+e).trim():e+"px"}function oE(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=aE(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var fC=Ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ap(t,e){if(e){if(fC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(_e(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(_e(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(_e(61))}if(e.style!=null&&typeof e.style!="object")throw Error(_e(62))}}function op(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lp=null;function jm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cp=null,Do=null,Fo=null;function M1(t){if(t=du(t)){if(typeof cp!="function")throw Error(_e(280));var e=t.stateNode;e&&(e=s0(e),cp(t.stateNode,t.type,e))}}function lE(t){Do?Fo?Fo.push(t):Fo=[t]:Do=t}function cE(){if(Do){var t=Do,e=Fo;if(Fo=Do=null,M1(t),e)for(t=0;t<e.length;t++)M1(e[t])}}function uE(t,e){return t(e)}function fE(){}var rd=!1;function hE(t,e,r){if(rd)return t(e,r);rd=!0;try{return uE(t,e,r)}finally{rd=!1,(Do!==null||Fo!==null)&&(fE(),cE())}}function Ic(t,e){var r=t.stateNode;if(r===null)return null;var n=s0(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(_e(231,e,typeof r));return r}var up=!1;if(es)try{var Pl={};Object.defineProperty(Pl,"passive",{get:function(){up=!0}}),window.addEventListener("test",Pl,Pl),window.removeEventListener("test",Pl,Pl)}catch{up=!1}function hC(t,e,r,n,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var rc=!1,Qf=null,Jf=!1,fp=null,dC={onError:function(t){rc=!0,Qf=t}};function pC(t,e,r,n,i,s,a,o,l){rc=!1,Qf=null,hC.apply(dC,arguments)}function mC(t,e,r,n,i,s,a,o,l){if(pC.apply(this,arguments),rc){if(rc){var c=Qf;rc=!1,Qf=null}else throw Error(_e(198));Jf||(Jf=!0,fp=c)}}function Wa(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function dE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function V1(t){if(Wa(t)!==t)throw Error(_e(188))}function gC(t){var e=t.alternate;if(!e){if(e=Wa(t),e===null)throw Error(_e(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return V1(i),t;if(s===n)return V1(i),e;s=s.sibling}throw Error(_e(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(_e(189))}}if(r.alternate!==n)throw Error(_e(190))}if(r.tag!==3)throw Error(_e(188));return r.stateNode.current===r?t:e}function pE(t){return t=gC(t),t!==null?mE(t):null}function mE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mE(t);if(e!==null)return e;t=t.sibling}return null}var gE=wn.unstable_scheduleCallback,U1=wn.unstable_cancelCallback,vC=wn.unstable_shouldYield,xC=wn.unstable_requestPaint,$t=wn.unstable_now,_C=wn.unstable_getCurrentPriorityLevel,Bm=wn.unstable_ImmediatePriority,vE=wn.unstable_UserBlockingPriority,Zf=wn.unstable_NormalPriority,yC=wn.unstable_LowPriority,xE=wn.unstable_IdlePriority,t0=null,xi=null;function wC(t){if(xi&&typeof xi.onCommitFiberRoot=="function")try{xi.onCommitFiberRoot(t0,t,void 0,(t.current.flags&128)===128)}catch{}}var ti=Math.clz32?Math.clz32:kC,EC=Math.log,TC=Math.LN2;function kC(t){return t>>>=0,t===0?32:31-(EC(t)/TC|0)|0}var Ju=64,Zu=4194304;function Hl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function eh(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Hl(o):(s&=a,s!==0&&(n=Hl(s)))}else a=r&~i,a!==0?n=Hl(a):s!==0&&(n=Hl(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ti(e),i=1<<r,n|=t[r],e&=~i;return n}function SC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AC(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-ti(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=SC(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function hp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _E(){var t=Ju;return Ju<<=1,!(Ju&4194240)&&(Ju=64),t}function nd(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function fu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ti(e),t[e]=r}function IC(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ti(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function zm(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ti(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var mt=0;function yE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wE,$m,EE,TE,kE,dp=!1,ef=[],Ls=null,Ms=null,Vs=null,Cc=new Map,Rc=new Map,ks=[],CC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function j1(t,e){switch(t){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Cc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rc.delete(e.pointerId)}}function Dl(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=du(e),e!==null&&$m(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function RC(t,e,r,n,i){switch(e){case"focusin":return Ls=Dl(Ls,t,e,r,n,i),!0;case"dragenter":return Ms=Dl(Ms,t,e,r,n,i),!0;case"mouseover":return Vs=Dl(Vs,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Cc.set(s,Dl(Cc.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Rc.set(s,Dl(Rc.get(s)||null,t,e,r,n,i)),!0}return!1}function SE(t){var e=va(t.target);if(e!==null){var r=Wa(e);if(r!==null){if(e=r.tag,e===13){if(e=dE(r),e!==null){t.blockedOn=e,kE(t.priority,function(){EE(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=pp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);lp=n,r.target.dispatchEvent(n),lp=null}else return e=du(r),e!==null&&$m(e),t.blockedOn=r,!1;e.shift()}return!0}function B1(t,e,r){Nf(t)&&r.delete(e)}function NC(){dp=!1,Ls!==null&&Nf(Ls)&&(Ls=null),Ms!==null&&Nf(Ms)&&(Ms=null),Vs!==null&&Nf(Vs)&&(Vs=null),Cc.forEach(B1),Rc.forEach(B1)}function Fl(t,e){t.blockedOn===e&&(t.blockedOn=null,dp||(dp=!0,wn.unstable_scheduleCallback(wn.unstable_NormalPriority,NC)))}function Nc(t){function e(i){return Fl(i,t)}if(0<ef.length){Fl(ef[0],t);for(var r=1;r<ef.length;r++){var n=ef[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ls!==null&&Fl(Ls,t),Ms!==null&&Fl(Ms,t),Vs!==null&&Fl(Vs,t),Cc.forEach(e),Rc.forEach(e),r=0;r<ks.length;r++)n=ks[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ks.length&&(r=ks[0],r.blockedOn===null);)SE(r),r.blockedOn===null&&ks.shift()}var bo=fs.ReactCurrentBatchConfig,th=!0;function PC(t,e,r,n){var i=mt,s=bo.transition;bo.transition=null;try{mt=1,Hm(t,e,r,n)}finally{mt=i,bo.transition=s}}function DC(t,e,r,n){var i=mt,s=bo.transition;bo.transition=null;try{mt=4,Hm(t,e,r,n)}finally{mt=i,bo.transition=s}}function Hm(t,e,r,n){if(th){var i=pp(t,e,r,n);if(i===null)dd(t,e,n,rh,r),j1(t,n);else if(RC(i,t,e,r,n))n.stopPropagation();else if(j1(t,n),e&4&&-1<CC.indexOf(t)){for(;i!==null;){var s=du(i);if(s!==null&&wE(s),s=pp(t,e,r,n),s===null&&dd(t,e,n,rh,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else dd(t,e,n,null,r)}}var rh=null;function pp(t,e,r,n){if(rh=null,t=jm(n),t=va(t),t!==null)if(e=Wa(t),e===null)t=null;else if(r=e.tag,r===13){if(t=dE(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rh=t,null}function AE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_C()){case Bm:return 1;case vE:return 4;case Zf:case yC:return 16;case xE:return 536870912;default:return 16}default:return 16}}var Ns=null,Wm=null,Pf=null;function IE(){if(Pf)return Pf;var t,e=Wm,r=e.length,n,i="value"in Ns?Ns.value:Ns.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return Pf=i.slice(t,1<n?1-n:void 0)}function Df(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function tf(){return!0}function z1(){return!1}function kn(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?tf:z1,this.isPropagationStopped=z1,this}return Ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=tf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=tf)},persist:function(){},isPersistent:tf}),e}var ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gm=kn(ul),hu=Ot({},ul,{view:0,detail:0}),FC=kn(hu),id,sd,bl,r0=Ot({},hu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Km,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bl&&(bl&&t.type==="mousemove"?(id=t.screenX-bl.screenX,sd=t.screenY-bl.screenY):sd=id=0,bl=t),id)},movementY:function(t){return"movementY"in t?t.movementY:sd}}),$1=kn(r0),bC=Ot({},r0,{dataTransfer:0}),OC=kn(bC),LC=Ot({},hu,{relatedTarget:0}),ad=kn(LC),MC=Ot({},ul,{animationName:0,elapsedTime:0,pseudoElement:0}),VC=kn(MC),UC=Ot({},ul,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jC=kn(UC),BC=Ot({},ul,{data:0}),H1=kn(BC),zC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$C={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=HC[t])?!!e[t]:!1}function Km(){return WC}var GC=Ot({},hu,{key:function(t){if(t.key){var e=zC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Df(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$C[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Km,charCode:function(t){return t.type==="keypress"?Df(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Df(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),KC=kn(GC),qC=Ot({},r0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W1=kn(qC),XC=Ot({},hu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Km}),YC=kn(XC),QC=Ot({},ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),JC=kn(QC),ZC=Ot({},r0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),e4=kn(ZC),t4=[9,13,27,32],qm=es&&"CompositionEvent"in window,nc=null;es&&"documentMode"in document&&(nc=document.documentMode);var r4=es&&"TextEvent"in window&&!nc,CE=es&&(!qm||nc&&8<nc&&11>=nc),G1=" ",K1=!1;function RE(t,e){switch(t){case"keyup":return t4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yo=!1;function n4(t,e){switch(t){case"compositionend":return NE(e);case"keypress":return e.which!==32?null:(K1=!0,G1);case"textInput":return t=e.data,t===G1&&K1?null:t;default:return null}}function i4(t,e){if(yo)return t==="compositionend"||!qm&&RE(t,e)?(t=IE(),Pf=Wm=Ns=null,yo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return CE&&e.locale!=="ko"?null:e.data;default:return null}}var s4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function q1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!s4[t.type]:e==="textarea"}function PE(t,e,r,n){lE(n),e=nh(e,"onChange"),0<e.length&&(r=new Gm("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ic=null,Pc=null;function a4(t){zE(t,0)}function n0(t){var e=To(t);if(tE(e))return t}function o4(t,e){if(t==="change")return e}var DE=!1;if(es){var od;if(es){var ld="oninput"in document;if(!ld){var X1=document.createElement("div");X1.setAttribute("oninput","return;"),ld=typeof X1.oninput=="function"}od=ld}else od=!1;DE=od&&(!document.documentMode||9<document.documentMode)}function Y1(){ic&&(ic.detachEvent("onpropertychange",FE),Pc=ic=null)}function FE(t){if(t.propertyName==="value"&&n0(Pc)){var e=[];PE(e,Pc,t,jm(t)),hE(a4,e)}}function l4(t,e,r){t==="focusin"?(Y1(),ic=e,Pc=r,ic.attachEvent("onpropertychange",FE)):t==="focusout"&&Y1()}function c4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return n0(Pc)}function u4(t,e){if(t==="click")return n0(e)}function f4(t,e){if(t==="input"||t==="change")return n0(e)}function h4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var si=typeof Object.is=="function"?Object.is:h4;function Dc(t,e){if(si(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Yd.call(e,i)||!si(t[i],e[i]))return!1}return!0}function Q1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function J1(t,e){var r=Q1(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Q1(r)}}function bE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?bE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function OE(){for(var t=window,e=Yf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Yf(t.document)}return e}function Xm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function d4(t){var e=OE(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&bE(r.ownerDocument.documentElement,r)){if(n!==null&&Xm(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=J1(r,s);var a=J1(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var p4=es&&"documentMode"in document&&11>=document.documentMode,wo=null,mp=null,sc=null,gp=!1;function Z1(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;gp||wo==null||wo!==Yf(n)||(n=wo,"selectionStart"in n&&Xm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),sc&&Dc(sc,n)||(sc=n,n=nh(mp,"onSelect"),0<n.length&&(e=new Gm("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=wo)))}function rf(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Eo={animationend:rf("Animation","AnimationEnd"),animationiteration:rf("Animation","AnimationIteration"),animationstart:rf("Animation","AnimationStart"),transitionend:rf("Transition","TransitionEnd")},cd={},LE={};es&&(LE=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function i0(t){if(cd[t])return cd[t];if(!Eo[t])return t;var e=Eo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in LE)return cd[t]=e[r];return t}var ME=i0("animationend"),VE=i0("animationiteration"),UE=i0("animationstart"),jE=i0("transitionend"),BE=new Map,ex="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ra(t,e){BE.set(t,e),Ha(e,[t])}for(var ud=0;ud<ex.length;ud++){var fd=ex[ud],m4=fd.toLowerCase(),g4=fd[0].toUpperCase()+fd.slice(1);ra(m4,"on"+g4)}ra(ME,"onAnimationEnd");ra(VE,"onAnimationIteration");ra(UE,"onAnimationStart");ra("dblclick","onDoubleClick");ra("focusin","onFocus");ra("focusout","onBlur");ra(jE,"onTransitionEnd");Ho("onMouseEnter",["mouseout","mouseover"]);Ho("onMouseLeave",["mouseout","mouseover"]);Ho("onPointerEnter",["pointerout","pointerover"]);Ho("onPointerLeave",["pointerout","pointerover"]);Ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ha("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wl));function tx(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,mC(n,e,void 0,t),t.currentTarget=null}function zE(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;tx(i,o,c),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;tx(i,o,c),s=l}}}if(Jf)throw t=fp,Jf=!1,fp=null,t}function At(t,e){var r=e[wp];r===void 0&&(r=e[wp]=new Set);var n=t+"__bubble";r.has(n)||($E(e,t,2,!1),r.add(n))}function hd(t,e,r){var n=0;e&&(n|=4),$E(r,t,n,e)}var nf="_reactListening"+Math.random().toString(36).slice(2);function Fc(t){if(!t[nf]){t[nf]=!0,Yw.forEach(function(r){r!=="selectionchange"&&(v4.has(r)||hd(r,!1,t),hd(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[nf]||(e[nf]=!0,hd("selectionchange",!1,e))}}function $E(t,e,r,n){switch(AE(e)){case 1:var i=PC;break;case 4:i=DC;break;default:i=Hm}r=i.bind(null,e,r,t),i=void 0,!up||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function dd(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=va(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}hE(function(){var c=s,u=jm(r),h=[];e:{var d=BE.get(t);if(d!==void 0){var p=Gm,x=t;switch(t){case"keypress":if(Df(r)===0)break e;case"keydown":case"keyup":p=KC;break;case"focusin":x="focus",p=ad;break;case"focusout":x="blur",p=ad;break;case"beforeblur":case"afterblur":p=ad;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=$1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=OC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=YC;break;case ME:case VE:case UE:p=VC;break;case jE:p=JC;break;case"scroll":p=FC;break;case"wheel":p=e4;break;case"copy":case"cut":case"paste":p=jC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=W1}var v=(e&4)!==0,y=!v&&t==="scroll",k=v?d!==null?d+"Capture":null:d;v=[];for(var T=c,w;T!==null;){w=T;var D=w.stateNode;if(w.tag===5&&D!==null&&(w=D,k!==null&&(D=Ic(T,k),D!=null&&v.push(bc(T,D,w)))),y)break;T=T.return}0<v.length&&(d=new p(d,x,null,r,u),h.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&r!==lp&&(x=r.relatedTarget||r.fromElement)&&(va(x)||x[ts]))break e;if((p||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,p?(x=r.relatedTarget||r.toElement,p=c,x=x?va(x):null,x!==null&&(y=Wa(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=c),p!==x)){if(v=$1,D="onMouseLeave",k="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(v=W1,D="onPointerLeave",k="onPointerEnter",T="pointer"),y=p==null?d:To(p),w=x==null?d:To(x),d=new v(D,T+"leave",p,r,u),d.target=y,d.relatedTarget=w,D=null,va(u)===c&&(v=new v(k,T+"enter",x,r,u),v.target=w,v.relatedTarget=y,D=v),y=D,p&&x)t:{for(v=p,k=x,T=0,w=v;w;w=uo(w))T++;for(w=0,D=k;D;D=uo(D))w++;for(;0<T-w;)v=uo(v),T--;for(;0<w-T;)k=uo(k),w--;for(;T--;){if(v===k||k!==null&&v===k.alternate)break t;v=uo(v),k=uo(k)}v=null}else v=null;p!==null&&rx(h,d,p,v,!1),x!==null&&y!==null&&rx(h,y,x,v,!0)}}e:{if(d=c?To(c):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var B=o4;else if(q1(d))if(DE)B=f4;else{B=c4;var U=l4}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(B=u4);if(B&&(B=B(t,c))){PE(h,B,r,u);break e}U&&U(t,d,c),t==="focusout"&&(U=d._wrapperState)&&U.controlled&&d.type==="number"&&np(d,"number",d.value)}switch(U=c?To(c):window,t){case"focusin":(q1(U)||U.contentEditable==="true")&&(wo=U,mp=c,sc=null);break;case"focusout":sc=mp=wo=null;break;case"mousedown":gp=!0;break;case"contextmenu":case"mouseup":case"dragend":gp=!1,Z1(h,r,u);break;case"selectionchange":if(p4)break;case"keydown":case"keyup":Z1(h,r,u)}var g;if(qm)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else yo?RE(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(CE&&r.locale!=="ko"&&(yo||E!=="onCompositionStart"?E==="onCompositionEnd"&&yo&&(g=IE()):(Ns=u,Wm="value"in Ns?Ns.value:Ns.textContent,yo=!0)),U=nh(c,E),0<U.length&&(E=new H1(E,t,null,r,u),h.push({event:E,listeners:U}),g?E.data=g:(g=NE(r),g!==null&&(E.data=g)))),(g=r4?n4(t,r):i4(t,r))&&(c=nh(c,"onBeforeInput"),0<c.length&&(u=new H1("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:c}),u.data=g))}zE(h,e)})}function bc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function nh(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ic(t,r),s!=null&&n.unshift(bc(t,s,i)),s=Ic(t,e),s!=null&&n.push(bc(t,s,i))),t=t.return}return n}function uo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rx(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=Ic(r,s),l!=null&&a.unshift(bc(r,l,o))):i||(l=Ic(r,s),l!=null&&a.push(bc(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var x4=/\r\n?/g,_4=/\u0000|\uFFFD/g;function nx(t){return(typeof t=="string"?t:""+t).replace(x4,`
`).replace(_4,"")}function sf(t,e,r){if(e=nx(e),nx(t)!==e&&r)throw Error(_e(425))}function ih(){}var vp=null,xp=null;function _p(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var yp=typeof setTimeout=="function"?setTimeout:void 0,y4=typeof clearTimeout=="function"?clearTimeout:void 0,ix=typeof Promise=="function"?Promise:void 0,w4=typeof queueMicrotask=="function"?queueMicrotask:typeof ix<"u"?function(t){return ix.resolve(null).then(t).catch(E4)}:yp;function E4(t){setTimeout(function(){throw t})}function pd(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Nc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Nc(e)}function Us(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function sx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var fl=Math.random().toString(36).slice(2),gi="__reactFiber$"+fl,Oc="__reactProps$"+fl,ts="__reactContainer$"+fl,wp="__reactEvents$"+fl,T4="__reactListeners$"+fl,k4="__reactHandles$"+fl;function va(t){var e=t[gi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ts]||r[gi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=sx(t);t!==null;){if(r=t[gi])return r;t=sx(t)}return e}t=r,r=t.parentNode}return null}function du(t){return t=t[gi]||t[ts],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function To(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(_e(33))}function s0(t){return t[Oc]||null}var Ep=[],ko=-1;function na(t){return{current:t}}function Ct(t){0>ko||(t.current=Ep[ko],Ep[ko]=null,ko--)}function yt(t,e){ko++,Ep[ko]=t.current,t.current=e}var Xs={},Ur=na(Xs),cn=na(!1),Na=Xs;function Wo(t,e){var r=t.type.contextTypes;if(!r)return Xs;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function un(t){return t=t.childContextTypes,t!=null}function sh(){Ct(cn),Ct(Ur)}function ax(t,e,r){if(Ur.current!==Xs)throw Error(_e(168));yt(Ur,e),yt(cn,r)}function HE(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(_e(108,lC(t)||"Unknown",i));return Ot({},r,n)}function ah(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xs,Na=Ur.current,yt(Ur,t),yt(cn,cn.current),!0}function ox(t,e,r){var n=t.stateNode;if(!n)throw Error(_e(169));r?(t=HE(t,e,Na),n.__reactInternalMemoizedMergedChildContext=t,Ct(cn),Ct(Ur),yt(Ur,t)):Ct(cn),yt(cn,r)}var Bi=null,a0=!1,md=!1;function WE(t){Bi===null?Bi=[t]:Bi.push(t)}function S4(t){a0=!0,WE(t)}function ia(){if(!md&&Bi!==null){md=!0;var t=0,e=mt;try{var r=Bi;for(mt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Bi=null,a0=!1}catch(i){throw Bi!==null&&(Bi=Bi.slice(t+1)),gE(Bm,ia),i}finally{mt=e,md=!1}}return null}var So=[],Ao=0,oh=null,lh=0,Pn=[],Dn=0,Pa=null,zi=1,$i="";function fa(t,e){So[Ao++]=lh,So[Ao++]=oh,oh=t,lh=e}function GE(t,e,r){Pn[Dn++]=zi,Pn[Dn++]=$i,Pn[Dn++]=Pa,Pa=t;var n=zi;t=$i;var i=32-ti(n)-1;n&=~(1<<i),r+=1;var s=32-ti(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,zi=1<<32-ti(e)+i|r<<i|n,$i=s+t}else zi=1<<s|r<<i|n,$i=t}function Ym(t){t.return!==null&&(fa(t,1),GE(t,1,0))}function Qm(t){for(;t===oh;)oh=So[--Ao],So[Ao]=null,lh=So[--Ao],So[Ao]=null;for(;t===Pa;)Pa=Pn[--Dn],Pn[Dn]=null,$i=Pn[--Dn],Pn[Dn]=null,zi=Pn[--Dn],Pn[Dn]=null}var yn=null,xn=null,Pt=!1,Xn=null;function KE(t,e){var r=Fn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function lx(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yn=t,xn=Us(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yn=t,xn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Pa!==null?{id:zi,overflow:$i}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Fn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,yn=t,xn=null,!0):!1;default:return!1}}function Tp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function kp(t){if(Pt){var e=xn;if(e){var r=e;if(!lx(t,e)){if(Tp(t))throw Error(_e(418));e=Us(r.nextSibling);var n=yn;e&&lx(t,e)?KE(n,r):(t.flags=t.flags&-4097|2,Pt=!1,yn=t)}}else{if(Tp(t))throw Error(_e(418));t.flags=t.flags&-4097|2,Pt=!1,yn=t}}}function cx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yn=t}function af(t){if(t!==yn)return!1;if(!Pt)return cx(t),Pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_p(t.type,t.memoizedProps)),e&&(e=xn)){if(Tp(t))throw qE(),Error(_e(418));for(;e;)KE(t,e),e=Us(e.nextSibling)}if(cx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(_e(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){xn=Us(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}xn=null}}else xn=yn?Us(t.stateNode.nextSibling):null;return!0}function qE(){for(var t=xn;t;)t=Us(t.nextSibling)}function Go(){xn=yn=null,Pt=!1}function Jm(t){Xn===null?Xn=[t]:Xn.push(t)}var A4=fs.ReactCurrentBatchConfig;function Ol(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(_e(309));var n=r.stateNode}if(!n)throw Error(_e(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(_e(284));if(!r._owner)throw Error(_e(290,t))}return t}function of(t,e){throw t=Object.prototype.toString.call(e),Error(_e(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ux(t){var e=t._init;return e(t._payload)}function XE(t){function e(k,T){if(t){var w=k.deletions;w===null?(k.deletions=[T],k.flags|=16):w.push(T)}}function r(k,T){if(!t)return null;for(;T!==null;)e(k,T),T=T.sibling;return null}function n(k,T){for(k=new Map;T!==null;)T.key!==null?k.set(T.key,T):k.set(T.index,T),T=T.sibling;return k}function i(k,T){return k=$s(k,T),k.index=0,k.sibling=null,k}function s(k,T,w){return k.index=w,t?(w=k.alternate,w!==null?(w=w.index,w<T?(k.flags|=2,T):w):(k.flags|=2,T)):(k.flags|=1048576,T)}function a(k){return t&&k.alternate===null&&(k.flags|=2),k}function o(k,T,w,D){return T===null||T.tag!==6?(T=Ed(w,k.mode,D),T.return=k,T):(T=i(T,w),T.return=k,T)}function l(k,T,w,D){var B=w.type;return B===_o?u(k,T,w.props.children,D,w.key):T!==null&&(T.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Es&&ux(B)===T.type)?(D=i(T,w.props),D.ref=Ol(k,T,w),D.return=k,D):(D=Uf(w.type,w.key,w.props,null,k.mode,D),D.ref=Ol(k,T,w),D.return=k,D)}function c(k,T,w,D){return T===null||T.tag!==4||T.stateNode.containerInfo!==w.containerInfo||T.stateNode.implementation!==w.implementation?(T=Td(w,k.mode,D),T.return=k,T):(T=i(T,w.children||[]),T.return=k,T)}function u(k,T,w,D,B){return T===null||T.tag!==7?(T=Sa(w,k.mode,D,B),T.return=k,T):(T=i(T,w),T.return=k,T)}function h(k,T,w){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Ed(""+T,k.mode,w),T.return=k,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Xu:return w=Uf(T.type,T.key,T.props,null,k.mode,w),w.ref=Ol(k,null,T),w.return=k,w;case xo:return T=Td(T,k.mode,w),T.return=k,T;case Es:var D=T._init;return h(k,D(T._payload),w)}if($l(T)||Nl(T))return T=Sa(T,k.mode,w,null),T.return=k,T;of(k,T)}return null}function d(k,T,w,D){var B=T!==null?T.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return B!==null?null:o(k,T,""+w,D);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xu:return w.key===B?l(k,T,w,D):null;case xo:return w.key===B?c(k,T,w,D):null;case Es:return B=w._init,d(k,T,B(w._payload),D)}if($l(w)||Nl(w))return B!==null?null:u(k,T,w,D,null);of(k,w)}return null}function p(k,T,w,D,B){if(typeof D=="string"&&D!==""||typeof D=="number")return k=k.get(w)||null,o(T,k,""+D,B);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Xu:return k=k.get(D.key===null?w:D.key)||null,l(T,k,D,B);case xo:return k=k.get(D.key===null?w:D.key)||null,c(T,k,D,B);case Es:var U=D._init;return p(k,T,w,U(D._payload),B)}if($l(D)||Nl(D))return k=k.get(w)||null,u(T,k,D,B,null);of(T,D)}return null}function x(k,T,w,D){for(var B=null,U=null,g=T,E=T=0,S=null;g!==null&&E<w.length;E++){g.index>E?(S=g,g=null):S=g.sibling;var C=d(k,g,w[E],D);if(C===null){g===null&&(g=S);break}t&&g&&C.alternate===null&&e(k,g),T=s(C,T,E),U===null?B=C:U.sibling=C,U=C,g=S}if(E===w.length)return r(k,g),Pt&&fa(k,E),B;if(g===null){for(;E<w.length;E++)g=h(k,w[E],D),g!==null&&(T=s(g,T,E),U===null?B=g:U.sibling=g,U=g);return Pt&&fa(k,E),B}for(g=n(k,g);E<w.length;E++)S=p(g,k,E,w[E],D),S!==null&&(t&&S.alternate!==null&&g.delete(S.key===null?E:S.key),T=s(S,T,E),U===null?B=S:U.sibling=S,U=S);return t&&g.forEach(function(P){return e(k,P)}),Pt&&fa(k,E),B}function v(k,T,w,D){var B=Nl(w);if(typeof B!="function")throw Error(_e(150));if(w=B.call(w),w==null)throw Error(_e(151));for(var U=B=null,g=T,E=T=0,S=null,C=w.next();g!==null&&!C.done;E++,C=w.next()){g.index>E?(S=g,g=null):S=g.sibling;var P=d(k,g,C.value,D);if(P===null){g===null&&(g=S);break}t&&g&&P.alternate===null&&e(k,g),T=s(P,T,E),U===null?B=P:U.sibling=P,U=P,g=S}if(C.done)return r(k,g),Pt&&fa(k,E),B;if(g===null){for(;!C.done;E++,C=w.next())C=h(k,C.value,D),C!==null&&(T=s(C,T,E),U===null?B=C:U.sibling=C,U=C);return Pt&&fa(k,E),B}for(g=n(k,g);!C.done;E++,C=w.next())C=p(g,k,E,C.value,D),C!==null&&(t&&C.alternate!==null&&g.delete(C.key===null?E:C.key),T=s(C,T,E),U===null?B=C:U.sibling=C,U=C);return t&&g.forEach(function(R){return e(k,R)}),Pt&&fa(k,E),B}function y(k,T,w,D){if(typeof w=="object"&&w!==null&&w.type===_o&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Xu:e:{for(var B=w.key,U=T;U!==null;){if(U.key===B){if(B=w.type,B===_o){if(U.tag===7){r(k,U.sibling),T=i(U,w.props.children),T.return=k,k=T;break e}}else if(U.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Es&&ux(B)===U.type){r(k,U.sibling),T=i(U,w.props),T.ref=Ol(k,U,w),T.return=k,k=T;break e}r(k,U);break}else e(k,U);U=U.sibling}w.type===_o?(T=Sa(w.props.children,k.mode,D,w.key),T.return=k,k=T):(D=Uf(w.type,w.key,w.props,null,k.mode,D),D.ref=Ol(k,T,w),D.return=k,k=D)}return a(k);case xo:e:{for(U=w.key;T!==null;){if(T.key===U)if(T.tag===4&&T.stateNode.containerInfo===w.containerInfo&&T.stateNode.implementation===w.implementation){r(k,T.sibling),T=i(T,w.children||[]),T.return=k,k=T;break e}else{r(k,T);break}else e(k,T);T=T.sibling}T=Td(w,k.mode,D),T.return=k,k=T}return a(k);case Es:return U=w._init,y(k,T,U(w._payload),D)}if($l(w))return x(k,T,w,D);if(Nl(w))return v(k,T,w,D);of(k,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,T!==null&&T.tag===6?(r(k,T.sibling),T=i(T,w),T.return=k,k=T):(r(k,T),T=Ed(w,k.mode,D),T.return=k,k=T),a(k)):r(k,T)}return y}var Ko=XE(!0),YE=XE(!1),ch=na(null),uh=null,Io=null,Zm=null;function eg(){Zm=Io=uh=null}function tg(t){var e=ch.current;Ct(ch),t._currentValue=e}function Sp(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Oo(t,e){uh=t,Zm=Io=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ln=!0),t.firstContext=null)}function Mn(t){var e=t._currentValue;if(Zm!==t)if(t={context:t,memoizedValue:e,next:null},Io===null){if(uh===null)throw Error(_e(308));Io=t,uh.dependencies={lanes:0,firstContext:t}}else Io=Io.next=t;return e}var xa=null;function rg(t){xa===null?xa=[t]:xa.push(t)}function QE(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,rg(e)):(r.next=i.next,i.next=r),e.interleaved=r,rs(t,n)}function rs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ts=!1;function ng(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function js(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,st&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,rs(t,r)}return i=n.interleaved,i===null?(e.next=e,rg(n)):(e.next=i.next,i.next=e),n.interleaved=e,rs(t,r)}function Ff(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,zm(t,r)}}function fx(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function fh(t,e,r,n){var i=t.updateQueue;Ts=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,u=c=l=null,o=s;do{var d=o.lane,p=o.eventTime;if((n&d)===d){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=t,v=o;switch(d=e,p=r,v.tag){case 1:if(x=v.payload,typeof x=="function"){h=x.call(p,h,d);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,d=typeof x=="function"?x.call(p,h,d):x,d==null)break e;h=Ot({},h,d);break e;case 2:Ts=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[o]:d.push(o))}else p={eventTime:p,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,a|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Fa|=a,t.lanes=a,t.memoizedState=h}}function hx(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(_e(191,i));i.call(n)}}}var pu={},_i=na(pu),Lc=na(pu),Mc=na(pu);function _a(t){if(t===pu)throw Error(_e(174));return t}function ig(t,e){switch(yt(Mc,e),yt(Lc,t),yt(_i,pu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=sp(e,t)}Ct(_i),yt(_i,e)}function qo(){Ct(_i),Ct(Lc),Ct(Mc)}function ZE(t){_a(Mc.current);var e=_a(_i.current),r=sp(e,t.type);e!==r&&(yt(Lc,t),yt(_i,r))}function sg(t){Lc.current===t&&(Ct(_i),Ct(Lc))}var Ft=na(0);function hh(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gd=[];function ag(){for(var t=0;t<gd.length;t++)gd[t]._workInProgressVersionPrimary=null;gd.length=0}var bf=fs.ReactCurrentDispatcher,vd=fs.ReactCurrentBatchConfig,Da=0,bt=null,tr=null,ur=null,dh=!1,ac=!1,Vc=0,I4=0;function Cr(){throw Error(_e(321))}function og(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!si(t[r],e[r]))return!1;return!0}function lg(t,e,r,n,i,s){if(Da=s,bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bf.current=t===null||t.memoizedState===null?P4:D4,t=r(n,i),ac){s=0;do{if(ac=!1,Vc=0,25<=s)throw Error(_e(301));s+=1,ur=tr=null,e.updateQueue=null,bf.current=F4,t=r(n,i)}while(ac)}if(bf.current=ph,e=tr!==null&&tr.next!==null,Da=0,ur=tr=bt=null,dh=!1,e)throw Error(_e(300));return t}function cg(){var t=Vc!==0;return Vc=0,t}function mi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?bt.memoizedState=ur=t:ur=ur.next=t,ur}function Vn(){if(tr===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=tr.next;var e=ur===null?bt.memoizedState:ur.next;if(e!==null)ur=e,tr=t;else{if(t===null)throw Error(_e(310));tr=t,t={memoizedState:tr.memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},ur===null?bt.memoizedState=ur=t:ur=ur.next=t}return ur}function Uc(t,e){return typeof e=="function"?e(t):e}function xd(t){var e=Vn(),r=e.queue;if(r===null)throw Error(_e(311));r.lastRenderedReducer=t;var n=tr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((Da&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,bt.lanes|=u,Fa|=u}c=c.next}while(c!==null&&c!==s);l===null?a=n:l.next=o,si(n,e.memoizedState)||(ln=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,bt.lanes|=s,Fa|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function _d(t){var e=Vn(),r=e.queue;if(r===null)throw Error(_e(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);si(s,e.memoizedState)||(ln=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function e2(){}function t2(t,e){var r=bt,n=Vn(),i=e(),s=!si(n.memoizedState,i);if(s&&(n.memoizedState=i,ln=!0),n=n.queue,ug(i2.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||ur!==null&&ur.memoizedState.tag&1){if(r.flags|=2048,jc(9,n2.bind(null,r,n,i,e),void 0,null),fr===null)throw Error(_e(349));Da&30||r2(r,e,i)}return i}function r2(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function n2(t,e,r,n){e.value=r,e.getSnapshot=n,s2(e)&&a2(t)}function i2(t,e,r){return r(function(){s2(e)&&a2(t)})}function s2(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!si(t,r)}catch{return!0}}function a2(t){var e=rs(t,1);e!==null&&ri(e,t,1,-1)}function dx(t){var e=mi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uc,lastRenderedState:t},e.queue=t,t=t.dispatch=N4.bind(null,bt,t),[e.memoizedState,t]}function jc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function o2(){return Vn().memoizedState}function Of(t,e,r,n){var i=mi();bt.flags|=t,i.memoizedState=jc(1|e,r,void 0,n===void 0?null:n)}function o0(t,e,r,n){var i=Vn();n=n===void 0?null:n;var s=void 0;if(tr!==null){var a=tr.memoizedState;if(s=a.destroy,n!==null&&og(n,a.deps)){i.memoizedState=jc(e,r,s,n);return}}bt.flags|=t,i.memoizedState=jc(1|e,r,s,n)}function px(t,e){return Of(8390656,8,t,e)}function ug(t,e){return o0(2048,8,t,e)}function l2(t,e){return o0(4,2,t,e)}function c2(t,e){return o0(4,4,t,e)}function u2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function f2(t,e,r){return r=r!=null?r.concat([t]):null,o0(4,4,u2.bind(null,e,t),r)}function fg(){}function h2(t,e){var r=Vn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&og(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function d2(t,e){var r=Vn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&og(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function p2(t,e,r){return Da&21?(si(r,e)||(r=_E(),bt.lanes|=r,Fa|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ln=!0),t.memoizedState=r)}function C4(t,e){var r=mt;mt=r!==0&&4>r?r:4,t(!0);var n=vd.transition;vd.transition={};try{t(!1),e()}finally{mt=r,vd.transition=n}}function m2(){return Vn().memoizedState}function R4(t,e,r){var n=zs(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},g2(t))v2(e,r);else if(r=QE(t,e,r,n),r!==null){var i=Kr();ri(r,t,n,i),x2(r,e,n)}}function N4(t,e,r){var n=zs(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(g2(t))v2(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,si(o,a)){var l=e.interleaved;l===null?(i.next=i,rg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=QE(t,e,i,n),r!==null&&(i=Kr(),ri(r,t,n,i),x2(r,e,n))}}function g2(t){var e=t.alternate;return t===bt||e!==null&&e===bt}function v2(t,e){ac=dh=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function x2(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,zm(t,r)}}var ph={readContext:Mn,useCallback:Cr,useContext:Cr,useEffect:Cr,useImperativeHandle:Cr,useInsertionEffect:Cr,useLayoutEffect:Cr,useMemo:Cr,useReducer:Cr,useRef:Cr,useState:Cr,useDebugValue:Cr,useDeferredValue:Cr,useTransition:Cr,useMutableSource:Cr,useSyncExternalStore:Cr,useId:Cr,unstable_isNewReconciler:!1},P4={readContext:Mn,useCallback:function(t,e){return mi().memoizedState=[t,e===void 0?null:e],t},useContext:Mn,useEffect:px,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Of(4194308,4,u2.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Of(4194308,4,t,e)},useInsertionEffect:function(t,e){return Of(4,2,t,e)},useMemo:function(t,e){var r=mi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=mi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=R4.bind(null,bt,t),[n.memoizedState,t]},useRef:function(t){var e=mi();return t={current:t},e.memoizedState=t},useState:dx,useDebugValue:fg,useDeferredValue:function(t){return mi().memoizedState=t},useTransition:function(){var t=dx(!1),e=t[0];return t=C4.bind(null,t[1]),mi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=bt,i=mi();if(Pt){if(r===void 0)throw Error(_e(407));r=r()}else{if(r=e(),fr===null)throw Error(_e(349));Da&30||r2(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,px(i2.bind(null,n,s,t),[t]),n.flags|=2048,jc(9,n2.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=mi(),e=fr.identifierPrefix;if(Pt){var r=$i,n=zi;r=(n&~(1<<32-ti(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Vc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=I4++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},D4={readContext:Mn,useCallback:h2,useContext:Mn,useEffect:ug,useImperativeHandle:f2,useInsertionEffect:l2,useLayoutEffect:c2,useMemo:d2,useReducer:xd,useRef:o2,useState:function(){return xd(Uc)},useDebugValue:fg,useDeferredValue:function(t){var e=Vn();return p2(e,tr.memoizedState,t)},useTransition:function(){var t=xd(Uc)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:e2,useSyncExternalStore:t2,useId:m2,unstable_isNewReconciler:!1},F4={readContext:Mn,useCallback:h2,useContext:Mn,useEffect:ug,useImperativeHandle:f2,useInsertionEffect:l2,useLayoutEffect:c2,useMemo:d2,useReducer:_d,useRef:o2,useState:function(){return _d(Uc)},useDebugValue:fg,useDeferredValue:function(t){var e=Vn();return tr===null?e.memoizedState=t:p2(e,tr.memoizedState,t)},useTransition:function(){var t=_d(Uc)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:e2,useSyncExternalStore:t2,useId:m2,unstable_isNewReconciler:!1};function Gn(t,e){if(t&&t.defaultProps){e=Ot({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Ap(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ot({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var l0={isMounted:function(t){return(t=t._reactInternals)?Wa(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Kr(),i=zs(t),s=Xi(n,i);s.payload=e,r!=null&&(s.callback=r),e=js(t,s,i),e!==null&&(ri(e,t,i,n),Ff(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Kr(),i=zs(t),s=Xi(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=js(t,s,i),e!==null&&(ri(e,t,i,n),Ff(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Kr(),n=zs(t),i=Xi(r,n);i.tag=2,e!=null&&(i.callback=e),e=js(t,i,n),e!==null&&(ri(e,t,n,r),Ff(e,t,n))}};function mx(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Dc(r,n)||!Dc(i,s):!0}function _2(t,e,r){var n=!1,i=Xs,s=e.contextType;return typeof s=="object"&&s!==null?s=Mn(s):(i=un(e)?Na:Ur.current,n=e.contextTypes,s=(n=n!=null)?Wo(t,i):Xs),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=l0,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function gx(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&l0.enqueueReplaceState(e,e.state,null)}function Ip(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},ng(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Mn(s):(s=un(e)?Na:Ur.current,i.context=Wo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ap(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&l0.enqueueReplaceState(i,i.state,null),fh(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Xo(t,e){try{var r="",n=e;do r+=oC(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function yd(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Cp(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var b4=typeof WeakMap=="function"?WeakMap:Map;function y2(t,e,r){r=Xi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){gh||(gh=!0,Vp=n),Cp(t,e)},r}function w2(t,e,r){r=Xi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Cp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Cp(t,e),typeof n!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function vx(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new b4;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=q4.bind(null,t,e,r),e.then(t,t))}function xx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _x(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Xi(-1,1),e.tag=2,js(r,e,1))),r.lanes|=1),t)}var O4=fs.ReactCurrentOwner,ln=!1;function $r(t,e,r,n){e.child=t===null?YE(e,null,r,n):Ko(e,t.child,r,n)}function yx(t,e,r,n,i){r=r.render;var s=e.ref;return Oo(e,i),n=lg(t,e,r,n,s,i),r=cg(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ns(t,e,i)):(Pt&&r&&Ym(e),e.flags|=1,$r(t,e,n,i),e.child)}function wx(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!_g(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,E2(t,e,s,n,i)):(t=Uf(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Dc,r(a,n)&&t.ref===e.ref)return ns(t,e,i)}return e.flags|=1,t=$s(s,n),t.ref=e.ref,t.return=e,e.child=t}function E2(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Dc(s,n)&&t.ref===e.ref)if(ln=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(ln=!0);else return e.lanes=t.lanes,ns(t,e,i)}return Rp(t,e,r,n,i)}function T2(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(Ro,pn),pn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,yt(Ro,pn),pn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,yt(Ro,pn),pn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,yt(Ro,pn),pn|=n;return $r(t,e,i,r),e.child}function k2(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Rp(t,e,r,n,i){var s=un(r)?Na:Ur.current;return s=Wo(e,s),Oo(e,i),r=lg(t,e,r,n,s,i),n=cg(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ns(t,e,i)):(Pt&&n&&Ym(e),e.flags|=1,$r(t,e,r,i),e.child)}function Ex(t,e,r,n,i){if(un(r)){var s=!0;ah(e)}else s=!1;if(Oo(e,i),e.stateNode===null)Lf(t,e),_2(e,r,n),Ip(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Mn(c):(c=un(r)?Na:Ur.current,c=Wo(e,c));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&gx(e,a,n,c),Ts=!1;var d=e.memoizedState;a.state=d,fh(e,n,a,i),l=e.memoizedState,o!==n||d!==l||cn.current||Ts?(typeof u=="function"&&(Ap(e,r,u,n),l=e.memoizedState),(o=Ts||mx(e,r,o,n,d,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,JE(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Gn(e.type,o),a.props=c,h=e.pendingProps,d=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Mn(l):(l=un(r)?Na:Ur.current,l=Wo(e,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||d!==l)&&gx(e,a,n,l),Ts=!1,d=e.memoizedState,a.state=d,fh(e,n,a,i);var x=e.memoizedState;o!==h||d!==x||cn.current||Ts?(typeof p=="function"&&(Ap(e,r,p,n),x=e.memoizedState),(c=Ts||mx(e,r,c,n,d,x,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,x,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,x,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),a.props=n,a.state=x,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return Np(t,e,r,n,s,i)}function Np(t,e,r,n,i,s){k2(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&ox(e,r,!1),ns(t,e,s);n=e.stateNode,O4.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Ko(e,t.child,null,s),e.child=Ko(e,null,o,s)):$r(t,e,o,s),e.memoizedState=n.state,i&&ox(e,r,!0),e.child}function S2(t){var e=t.stateNode;e.pendingContext?ax(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ax(t,e.context,!1),ig(t,e.containerInfo)}function Tx(t,e,r,n,i){return Go(),Jm(i),e.flags|=256,$r(t,e,r,n),e.child}var Pp={dehydrated:null,treeContext:null,retryLane:0};function Dp(t){return{baseLanes:t,cachePool:null,transitions:null}}function A2(t,e,r){var n=e.pendingProps,i=Ft.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),yt(Ft,i&1),t===null)return kp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=f0(a,n,0,null),t=Sa(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Dp(r),e.memoizedState=Pp,t):hg(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return L4(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=$s(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=$s(o,s):(s=Sa(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?Dp(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=Pp,n}return s=t.child,t=s.sibling,n=$s(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function hg(t,e){return e=f0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function lf(t,e,r,n){return n!==null&&Jm(n),Ko(e,t.child,null,r),t=hg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function L4(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=yd(Error(_e(422))),lf(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=f0({mode:"visible",children:n.children},i,0,null),s=Sa(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Ko(e,t.child,null,a),e.child.memoizedState=Dp(a),e.memoizedState=Pp,s);if(!(e.mode&1))return lf(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(_e(419)),n=yd(s,n,void 0),lf(t,e,a,n)}if(o=(a&t.childLanes)!==0,ln||o){if(n=fr,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,rs(t,i),ri(n,t,i,-1))}return xg(),n=yd(Error(_e(421))),lf(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=X4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,xn=Us(i.nextSibling),yn=e,Pt=!0,Xn=null,t!==null&&(Pn[Dn++]=zi,Pn[Dn++]=$i,Pn[Dn++]=Pa,zi=t.id,$i=t.overflow,Pa=e),e=hg(e,n.children),e.flags|=4096,e)}function kx(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Sp(t.return,e,r)}function wd(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function I2(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if($r(t,e,n.children,r),n=Ft.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kx(t,r,e);else if(t.tag===19)kx(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(yt(Ft,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&hh(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),wd(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&hh(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}wd(e,!0,r,null,s);break;case"together":wd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Lf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ns(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Fa|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(_e(153));if(e.child!==null){for(t=e.child,r=$s(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=$s(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function M4(t,e,r){switch(e.tag){case 3:S2(e),Go();break;case 5:ZE(e);break;case 1:un(e.type)&&ah(e);break;case 4:ig(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;yt(ch,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(yt(Ft,Ft.current&1),e.flags|=128,null):r&e.child.childLanes?A2(t,e,r):(yt(Ft,Ft.current&1),t=ns(t,e,r),t!==null?t.sibling:null);yt(Ft,Ft.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return I2(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),yt(Ft,Ft.current),n)break;return null;case 22:case 23:return e.lanes=0,T2(t,e,r)}return ns(t,e,r)}var C2,Fp,R2,N2;C2=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Fp=function(){};R2=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,_a(_i.current);var s=null;switch(r){case"input":i=tp(t,i),n=tp(t,n),s=[];break;case"select":i=Ot({},i,{value:void 0}),n=Ot({},n,{value:void 0}),s=[];break;case"textarea":i=ip(t,i),n=ip(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ih)}ap(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Sc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Sc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&At("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};N2=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ll(t,e){if(!Pt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Rr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function V4(t,e,r){var n=e.pendingProps;switch(Qm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rr(e),null;case 1:return un(e.type)&&sh(),Rr(e),null;case 3:return n=e.stateNode,qo(),Ct(cn),Ct(Ur),ag(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(af(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xn!==null&&(Bp(Xn),Xn=null))),Fp(t,e),Rr(e),null;case 5:sg(e);var i=_a(Mc.current);if(r=e.type,t!==null&&e.stateNode!=null)R2(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(_e(166));return Rr(e),null}if(t=_a(_i.current),af(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[gi]=e,n[Oc]=s,t=(e.mode&1)!==0,r){case"dialog":At("cancel",n),At("close",n);break;case"iframe":case"object":case"embed":At("load",n);break;case"video":case"audio":for(i=0;i<Wl.length;i++)At(Wl[i],n);break;case"source":At("error",n);break;case"img":case"image":case"link":At("error",n),At("load",n);break;case"details":At("toggle",n);break;case"input":F1(n,s),At("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},At("invalid",n);break;case"textarea":O1(n,s),At("invalid",n)}ap(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&sf(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&sf(n.textContent,o,t),i=["children",""+o]):Sc.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&At("scroll",n)}switch(r){case"input":Yu(n),b1(n,s,!0);break;case"textarea":Yu(n),L1(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=ih)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=iE(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[gi]=e,t[Oc]=n,C2(t,e,!1,!1),e.stateNode=t;e:{switch(a=op(r,n),r){case"dialog":At("cancel",t),At("close",t),i=n;break;case"iframe":case"object":case"embed":At("load",t),i=n;break;case"video":case"audio":for(i=0;i<Wl.length;i++)At(Wl[i],t);i=n;break;case"source":At("error",t),i=n;break;case"img":case"image":case"link":At("error",t),At("load",t),i=n;break;case"details":At("toggle",t),i=n;break;case"input":F1(t,n),i=tp(t,n),At("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Ot({},n,{value:void 0}),At("invalid",t);break;case"textarea":O1(t,n),i=ip(t,n),At("invalid",t);break;default:i=n}ap(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?oE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&sE(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ac(t,l):typeof l=="number"&&Ac(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Sc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&At("scroll",t):l!=null&&Lm(t,s,l,a))}switch(r){case"input":Yu(t),b1(t,n,!1);break;case"textarea":Yu(t),L1(t);break;case"option":n.value!=null&&t.setAttribute("value",""+qs(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Po(t,!!n.multiple,s,!1):n.defaultValue!=null&&Po(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ih)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Rr(e),null;case 6:if(t&&e.stateNode!=null)N2(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(_e(166));if(r=_a(Mc.current),_a(_i.current),af(e)){if(n=e.stateNode,r=e.memoizedProps,n[gi]=e,(s=n.nodeValue!==r)&&(t=yn,t!==null))switch(t.tag){case 3:sf(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sf(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[gi]=e,e.stateNode=n}return Rr(e),null;case 13:if(Ct(Ft),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pt&&xn!==null&&e.mode&1&&!(e.flags&128))qE(),Go(),e.flags|=98560,s=!1;else if(s=af(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(_e(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(_e(317));s[gi]=e}else Go(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Rr(e),s=!1}else Xn!==null&&(Bp(Xn),Xn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ft.current&1?rr===0&&(rr=3):xg())),e.updateQueue!==null&&(e.flags|=4),Rr(e),null);case 4:return qo(),Fp(t,e),t===null&&Fc(e.stateNode.containerInfo),Rr(e),null;case 10:return tg(e.type._context),Rr(e),null;case 17:return un(e.type)&&sh(),Rr(e),null;case 19:if(Ct(Ft),s=e.memoizedState,s===null)return Rr(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Ll(s,!1);else{if(rr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=hh(t),a!==null){for(e.flags|=128,Ll(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return yt(Ft,Ft.current&1|2),e.child}t=t.sibling}s.tail!==null&&$t()>Yo&&(e.flags|=128,n=!0,Ll(s,!1),e.lanes=4194304)}else{if(!n)if(t=hh(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ll(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Pt)return Rr(e),null}else 2*$t()-s.renderingStartTime>Yo&&r!==1073741824&&(e.flags|=128,n=!0,Ll(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=$t(),e.sibling=null,r=Ft.current,yt(Ft,n?r&1|2:r&1),e):(Rr(e),null);case 22:case 23:return vg(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?pn&1073741824&&(Rr(e),e.subtreeFlags&6&&(e.flags|=8192)):Rr(e),null;case 24:return null;case 25:return null}throw Error(_e(156,e.tag))}function U4(t,e){switch(Qm(e),e.tag){case 1:return un(e.type)&&sh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qo(),Ct(cn),Ct(Ur),ag(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sg(e),null;case 13:if(Ct(Ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(_e(340));Go()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ct(Ft),null;case 4:return qo(),null;case 10:return tg(e.type._context),null;case 22:case 23:return vg(),null;case 24:return null;default:return null}}var cf=!1,br=!1,j4=typeof WeakSet=="function"?WeakSet:Set,Re=null;function Co(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Vt(t,e,n)}else r.current=null}function bp(t,e,r){try{r()}catch(n){Vt(t,e,n)}}var Sx=!1;function B4(t,e){if(vp=th,t=OE(),Xm(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,u=0,h=t,d=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===t)break t;if(d===r&&++c===i&&(o=a),d===s&&++u===n&&(l=a),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(xp={focusedElem:t,selectionRange:r},th=!1,Re=e;Re!==null;)if(e=Re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Re=t;else for(;Re!==null;){e=Re;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,y=x.memoizedState,k=e.stateNode,T=k.getSnapshotBeforeUpdate(e.elementType===e.type?v:Gn(e.type,v),y);k.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(D){Vt(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,Re=t;break}Re=e.return}return x=Sx,Sx=!1,x}function oc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&bp(e,r,s)}i=i.next}while(i!==n)}}function c0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Op(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function P2(t){var e=t.alternate;e!==null&&(t.alternate=null,P2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gi],delete e[Oc],delete e[wp],delete e[T4],delete e[k4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function D2(t){return t.tag===5||t.tag===3||t.tag===4}function Ax(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||D2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lp(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ih));else if(n!==4&&(t=t.child,t!==null))for(Lp(t,e,r),t=t.sibling;t!==null;)Lp(t,e,r),t=t.sibling}function Mp(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Mp(t,e,r),t=t.sibling;t!==null;)Mp(t,e,r),t=t.sibling}var mr=null,Kn=!1;function xs(t,e,r){for(r=r.child;r!==null;)F2(t,e,r),r=r.sibling}function F2(t,e,r){if(xi&&typeof xi.onCommitFiberUnmount=="function")try{xi.onCommitFiberUnmount(t0,r)}catch{}switch(r.tag){case 5:br||Co(r,e);case 6:var n=mr,i=Kn;mr=null,xs(t,e,r),mr=n,Kn=i,mr!==null&&(Kn?(t=mr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):mr.removeChild(r.stateNode));break;case 18:mr!==null&&(Kn?(t=mr,r=r.stateNode,t.nodeType===8?pd(t.parentNode,r):t.nodeType===1&&pd(t,r),Nc(t)):pd(mr,r.stateNode));break;case 4:n=mr,i=Kn,mr=r.stateNode.containerInfo,Kn=!0,xs(t,e,r),mr=n,Kn=i;break;case 0:case 11:case 14:case 15:if(!br&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&bp(r,e,a),i=i.next}while(i!==n)}xs(t,e,r);break;case 1:if(!br&&(Co(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Vt(r,e,o)}xs(t,e,r);break;case 21:xs(t,e,r);break;case 22:r.mode&1?(br=(n=br)||r.memoizedState!==null,xs(t,e,r),br=n):xs(t,e,r);break;default:xs(t,e,r)}}function Ix(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new j4),e.forEach(function(n){var i=Y4.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function $n(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:mr=o.stateNode,Kn=!1;break e;case 3:mr=o.stateNode.containerInfo,Kn=!0;break e;case 4:mr=o.stateNode.containerInfo,Kn=!0;break e}o=o.return}if(mr===null)throw Error(_e(160));F2(s,a,i),mr=null,Kn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Vt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)b2(e,t),e=e.sibling}function b2(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($n(e,t),hi(t),n&4){try{oc(3,t,t.return),c0(3,t)}catch(v){Vt(t,t.return,v)}try{oc(5,t,t.return)}catch(v){Vt(t,t.return,v)}}break;case 1:$n(e,t),hi(t),n&512&&r!==null&&Co(r,r.return);break;case 5:if($n(e,t),hi(t),n&512&&r!==null&&Co(r,r.return),t.flags&32){var i=t.stateNode;try{Ac(i,"")}catch(v){Vt(t,t.return,v)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&rE(i,s),op(o,a);var c=op(o,s);for(a=0;a<l.length;a+=2){var u=l[a],h=l[a+1];u==="style"?oE(i,h):u==="dangerouslySetInnerHTML"?sE(i,h):u==="children"?Ac(i,h):Lm(i,u,h,c)}switch(o){case"input":rp(i,s);break;case"textarea":nE(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Po(i,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?Po(i,!!s.multiple,s.defaultValue,!0):Po(i,!!s.multiple,s.multiple?[]:"",!1))}i[Oc]=s}catch(v){Vt(t,t.return,v)}}break;case 6:if($n(e,t),hi(t),n&4){if(t.stateNode===null)throw Error(_e(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Vt(t,t.return,v)}}break;case 3:if($n(e,t),hi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Nc(e.containerInfo)}catch(v){Vt(t,t.return,v)}break;case 4:$n(e,t),hi(t);break;case 13:$n(e,t),hi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(mg=$t())),n&4&&Ix(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(br=(c=br)||u,$n(e,t),br=c):$n(e,t),hi(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Re=t,u=t.child;u!==null;){for(h=Re=u;Re!==null;){switch(d=Re,p=d.child,d.tag){case 0:case 11:case 14:case 15:oc(4,d,d.return);break;case 1:Co(d,d.return);var x=d.stateNode;if(typeof x.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(v){Vt(n,r,v)}}break;case 5:Co(d,d.return);break;case 22:if(d.memoizedState!==null){Rx(h);continue}}p!==null?(p.return=d,Re=p):Rx(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=aE("display",a))}catch(v){Vt(t,t.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){Vt(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:$n(e,t),hi(t),n&4&&Ix(t);break;case 21:break;default:$n(e,t),hi(t)}}function hi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(D2(r)){var n=r;break e}r=r.return}throw Error(_e(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ac(i,""),n.flags&=-33);var s=Ax(t);Mp(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Ax(t);Lp(t,o,a);break;default:throw Error(_e(161))}}catch(l){Vt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function z4(t,e,r){Re=t,O2(t)}function O2(t,e,r){for(var n=(t.mode&1)!==0;Re!==null;){var i=Re,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||cf;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||br;o=cf;var c=br;if(cf=a,(br=l)&&!c)for(Re=i;Re!==null;)a=Re,l=a.child,a.tag===22&&a.memoizedState!==null?Nx(i):l!==null?(l.return=a,Re=l):Nx(i);for(;s!==null;)Re=s,O2(s),s=s.sibling;Re=i,cf=o,br=c}Cx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Re=s):Cx(t)}}function Cx(t){for(;Re!==null;){var e=Re;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:br||c0(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!br)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Gn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&hx(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}hx(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Nc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}br||e.flags&512&&Op(e)}catch(d){Vt(e,e.return,d)}}if(e===t){Re=null;break}if(r=e.sibling,r!==null){r.return=e.return,Re=r;break}Re=e.return}}function Rx(t){for(;Re!==null;){var e=Re;if(e===t){Re=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Re=r;break}Re=e.return}}function Nx(t){for(;Re!==null;){var e=Re;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{c0(4,e)}catch(l){Vt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Vt(e,i,l)}}var s=e.return;try{Op(e)}catch(l){Vt(e,s,l)}break;case 5:var a=e.return;try{Op(e)}catch(l){Vt(e,a,l)}}}catch(l){Vt(e,e.return,l)}if(e===t){Re=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Re=o;break}Re=e.return}}var $4=Math.ceil,mh=fs.ReactCurrentDispatcher,dg=fs.ReactCurrentOwner,bn=fs.ReactCurrentBatchConfig,st=0,fr=null,Yt=null,_r=0,pn=0,Ro=na(0),rr=0,Bc=null,Fa=0,u0=0,pg=0,lc=null,an=null,mg=0,Yo=1/0,ji=null,gh=!1,Vp=null,Bs=null,uf=!1,Ps=null,vh=0,cc=0,Up=null,Mf=-1,Vf=0;function Kr(){return st&6?$t():Mf!==-1?Mf:Mf=$t()}function zs(t){return t.mode&1?st&2&&_r!==0?_r&-_r:A4.transition!==null?(Vf===0&&(Vf=_E()),Vf):(t=mt,t!==0||(t=window.event,t=t===void 0?16:AE(t.type)),t):1}function ri(t,e,r,n){if(50<cc)throw cc=0,Up=null,Error(_e(185));fu(t,r,n),(!(st&2)||t!==fr)&&(t===fr&&(!(st&2)&&(u0|=r),rr===4&&Ss(t,_r)),fn(t,n),r===1&&st===0&&!(e.mode&1)&&(Yo=$t()+500,a0&&ia()))}function fn(t,e){var r=t.callbackNode;AC(t,e);var n=eh(t,t===fr?_r:0);if(n===0)r!==null&&U1(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&U1(r),e===1)t.tag===0?S4(Px.bind(null,t)):WE(Px.bind(null,t)),w4(function(){!(st&6)&&ia()}),r=null;else{switch(yE(n)){case 1:r=Bm;break;case 4:r=vE;break;case 16:r=Zf;break;case 536870912:r=xE;break;default:r=Zf}r=$2(r,L2.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function L2(t,e){if(Mf=-1,Vf=0,st&6)throw Error(_e(327));var r=t.callbackNode;if(Lo()&&t.callbackNode!==r)return null;var n=eh(t,t===fr?_r:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=xh(t,n);else{e=n;var i=st;st|=2;var s=V2();(fr!==t||_r!==e)&&(ji=null,Yo=$t()+500,ka(t,e));do try{G4();break}catch(o){M2(t,o)}while(!0);eg(),mh.current=s,st=i,Yt!==null?e=0:(fr=null,_r=0,e=rr)}if(e!==0){if(e===2&&(i=hp(t),i!==0&&(n=i,e=jp(t,i))),e===1)throw r=Bc,ka(t,0),Ss(t,n),fn(t,$t()),r;if(e===6)Ss(t,n);else{if(i=t.current.alternate,!(n&30)&&!H4(i)&&(e=xh(t,n),e===2&&(s=hp(t),s!==0&&(n=s,e=jp(t,s))),e===1))throw r=Bc,ka(t,0),Ss(t,n),fn(t,$t()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(_e(345));case 2:ha(t,an,ji);break;case 3:if(Ss(t,n),(n&130023424)===n&&(e=mg+500-$t(),10<e)){if(eh(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Kr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=yp(ha.bind(null,t,an,ji),e);break}ha(t,an,ji);break;case 4:if(Ss(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-ti(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=$t()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*$4(n/1960))-n,10<n){t.timeoutHandle=yp(ha.bind(null,t,an,ji),n);break}ha(t,an,ji);break;case 5:ha(t,an,ji);break;default:throw Error(_e(329))}}}return fn(t,$t()),t.callbackNode===r?L2.bind(null,t):null}function jp(t,e){var r=lc;return t.current.memoizedState.isDehydrated&&(ka(t,e).flags|=256),t=xh(t,e),t!==2&&(e=an,an=r,e!==null&&Bp(e)),t}function Bp(t){an===null?an=t:an.push.apply(an,t)}function H4(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!si(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ss(t,e){for(e&=~pg,e&=~u0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ti(e),n=1<<r;t[r]=-1,e&=~n}}function Px(t){if(st&6)throw Error(_e(327));Lo();var e=eh(t,0);if(!(e&1))return fn(t,$t()),null;var r=xh(t,e);if(t.tag!==0&&r===2){var n=hp(t);n!==0&&(e=n,r=jp(t,n))}if(r===1)throw r=Bc,ka(t,0),Ss(t,e),fn(t,$t()),r;if(r===6)throw Error(_e(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ha(t,an,ji),fn(t,$t()),null}function gg(t,e){var r=st;st|=1;try{return t(e)}finally{st=r,st===0&&(Yo=$t()+500,a0&&ia())}}function ba(t){Ps!==null&&Ps.tag===0&&!(st&6)&&Lo();var e=st;st|=1;var r=bn.transition,n=mt;try{if(bn.transition=null,mt=1,t)return t()}finally{mt=n,bn.transition=r,st=e,!(st&6)&&ia()}}function vg(){pn=Ro.current,Ct(Ro)}function ka(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,y4(r)),Yt!==null)for(r=Yt.return;r!==null;){var n=r;switch(Qm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&sh();break;case 3:qo(),Ct(cn),Ct(Ur),ag();break;case 5:sg(n);break;case 4:qo();break;case 13:Ct(Ft);break;case 19:Ct(Ft);break;case 10:tg(n.type._context);break;case 22:case 23:vg()}r=r.return}if(fr=t,Yt=t=$s(t.current,null),_r=pn=e,rr=0,Bc=null,pg=u0=Fa=0,an=lc=null,xa!==null){for(e=0;e<xa.length;e++)if(r=xa[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}xa=null}return t}function M2(t,e){do{var r=Yt;try{if(eg(),bf.current=ph,dh){for(var n=bt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}dh=!1}if(Da=0,ur=tr=bt=null,ac=!1,Vc=0,dg.current=null,r===null||r.return===null){rr=1,Bc=e,Yt=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=_r,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=xx(a);if(p!==null){p.flags&=-257,_x(p,a,o,s,e),p.mode&1&&vx(s,c,e),e=p,l=c;var x=e.updateQueue;if(x===null){var v=new Set;v.add(l),e.updateQueue=v}else x.add(l);break e}else{if(!(e&1)){vx(s,c,e),xg();break e}l=Error(_e(426))}}else if(Pt&&o.mode&1){var y=xx(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),_x(y,a,o,s,e),Jm(Xo(l,o));break e}}s=l=Xo(l,o),rr!==4&&(rr=2),lc===null?lc=[s]:lc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var k=y2(s,l,e);fx(s,k);break e;case 1:o=l;var T=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Bs===null||!Bs.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=w2(s,o,e);fx(s,D);break e}}s=s.return}while(s!==null)}j2(r)}catch(B){e=B,Yt===r&&r!==null&&(Yt=r=r.return);continue}break}while(!0)}function V2(){var t=mh.current;return mh.current=ph,t===null?ph:t}function xg(){(rr===0||rr===3||rr===2)&&(rr=4),fr===null||!(Fa&268435455)&&!(u0&268435455)||Ss(fr,_r)}function xh(t,e){var r=st;st|=2;var n=V2();(fr!==t||_r!==e)&&(ji=null,ka(t,e));do try{W4();break}catch(i){M2(t,i)}while(!0);if(eg(),st=r,mh.current=n,Yt!==null)throw Error(_e(261));return fr=null,_r=0,rr}function W4(){for(;Yt!==null;)U2(Yt)}function G4(){for(;Yt!==null&&!vC();)U2(Yt)}function U2(t){var e=z2(t.alternate,t,pn);t.memoizedProps=t.pendingProps,e===null?j2(t):Yt=e,dg.current=null}function j2(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=U4(r,e),r!==null){r.flags&=32767,Yt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rr=6,Yt=null;return}}else if(r=V4(r,e,pn),r!==null){Yt=r;return}if(e=e.sibling,e!==null){Yt=e;return}Yt=e=t}while(e!==null);rr===0&&(rr=5)}function ha(t,e,r){var n=mt,i=bn.transition;try{bn.transition=null,mt=1,K4(t,e,r,n)}finally{bn.transition=i,mt=n}return null}function K4(t,e,r,n){do Lo();while(Ps!==null);if(st&6)throw Error(_e(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(_e(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(IC(t,s),t===fr&&(Yt=fr=null,_r=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||uf||(uf=!0,$2(Zf,function(){return Lo(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=bn.transition,bn.transition=null;var a=mt;mt=1;var o=st;st|=4,dg.current=null,B4(t,r),b2(r,t),d4(xp),th=!!vp,xp=vp=null,t.current=r,z4(r),xC(),st=o,mt=a,bn.transition=s}else t.current=r;if(uf&&(uf=!1,Ps=t,vh=i),s=t.pendingLanes,s===0&&(Bs=null),wC(r.stateNode),fn(t,$t()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(gh)throw gh=!1,t=Vp,Vp=null,t;return vh&1&&t.tag!==0&&Lo(),s=t.pendingLanes,s&1?t===Up?cc++:(cc=0,Up=t):cc=0,ia(),null}function Lo(){if(Ps!==null){var t=yE(vh),e=bn.transition,r=mt;try{if(bn.transition=null,mt=16>t?16:t,Ps===null)var n=!1;else{if(t=Ps,Ps=null,vh=0,st&6)throw Error(_e(331));var i=st;for(st|=4,Re=t.current;Re!==null;){var s=Re,a=s.child;if(Re.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Re=c;Re!==null;){var u=Re;switch(u.tag){case 0:case 11:case 15:oc(8,u,s)}var h=u.child;if(h!==null)h.return=u,Re=h;else for(;Re!==null;){u=Re;var d=u.sibling,p=u.return;if(P2(u),u===c){Re=null;break}if(d!==null){d.return=p,Re=d;break}Re=p}}}var x=s.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}Re=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Re=a;else e:for(;Re!==null;){if(s=Re,s.flags&2048)switch(s.tag){case 0:case 11:case 15:oc(9,s,s.return)}var k=s.sibling;if(k!==null){k.return=s.return,Re=k;break e}Re=s.return}}var T=t.current;for(Re=T;Re!==null;){a=Re;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,Re=w;else e:for(a=T;Re!==null;){if(o=Re,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:c0(9,o)}}catch(B){Vt(o,o.return,B)}if(o===a){Re=null;break e}var D=o.sibling;if(D!==null){D.return=o.return,Re=D;break e}Re=o.return}}if(st=i,ia(),xi&&typeof xi.onPostCommitFiberRoot=="function")try{xi.onPostCommitFiberRoot(t0,t)}catch{}n=!0}return n}finally{mt=r,bn.transition=e}}return!1}function Dx(t,e,r){e=Xo(r,e),e=y2(t,e,1),t=js(t,e,1),e=Kr(),t!==null&&(fu(t,1,e),fn(t,e))}function Vt(t,e,r){if(t.tag===3)Dx(t,t,r);else for(;e!==null;){if(e.tag===3){Dx(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Bs===null||!Bs.has(n))){t=Xo(r,t),t=w2(e,t,1),e=js(e,t,1),t=Kr(),e!==null&&(fu(e,1,t),fn(e,t));break}}e=e.return}}function q4(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Kr(),t.pingedLanes|=t.suspendedLanes&r,fr===t&&(_r&r)===r&&(rr===4||rr===3&&(_r&130023424)===_r&&500>$t()-mg?ka(t,0):pg|=r),fn(t,e)}function B2(t,e){e===0&&(t.mode&1?(e=Zu,Zu<<=1,!(Zu&130023424)&&(Zu=4194304)):e=1);var r=Kr();t=rs(t,e),t!==null&&(fu(t,e,r),fn(t,r))}function X4(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),B2(t,r)}function Y4(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(_e(314))}n!==null&&n.delete(e),B2(t,r)}var z2;z2=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||cn.current)ln=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ln=!1,M4(t,e,r);ln=!!(t.flags&131072)}else ln=!1,Pt&&e.flags&1048576&&GE(e,lh,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Lf(t,e),t=e.pendingProps;var i=Wo(e,Ur.current);Oo(e,r),i=lg(null,e,n,t,i,r);var s=cg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,un(n)?(s=!0,ah(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ng(e),i.updater=l0,e.stateNode=i,i._reactInternals=e,Ip(e,n,t,r),e=Np(null,e,n,!0,s,r)):(e.tag=0,Pt&&s&&Ym(e),$r(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Lf(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=J4(n),t=Gn(n,t),i){case 0:e=Rp(null,e,n,t,r);break e;case 1:e=Ex(null,e,n,t,r);break e;case 11:e=yx(null,e,n,t,r);break e;case 14:e=wx(null,e,n,Gn(n.type,t),r);break e}throw Error(_e(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Gn(n,i),Rp(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Gn(n,i),Ex(t,e,n,i,r);case 3:e:{if(S2(e),t===null)throw Error(_e(387));n=e.pendingProps,s=e.memoizedState,i=s.element,JE(t,e),fh(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Xo(Error(_e(423)),e),e=Tx(t,e,n,r,i);break e}else if(n!==i){i=Xo(Error(_e(424)),e),e=Tx(t,e,n,r,i);break e}else for(xn=Us(e.stateNode.containerInfo.firstChild),yn=e,Pt=!0,Xn=null,r=YE(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Go(),n===i){e=ns(t,e,r);break e}$r(t,e,n,r)}e=e.child}return e;case 5:return ZE(e),t===null&&kp(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,_p(n,i)?a=null:s!==null&&_p(n,s)&&(e.flags|=32),k2(t,e),$r(t,e,a,r),e.child;case 6:return t===null&&kp(e),null;case 13:return A2(t,e,r);case 4:return ig(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ko(e,null,n,r):$r(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Gn(n,i),yx(t,e,n,i,r);case 7:return $r(t,e,e.pendingProps,r),e.child;case 8:return $r(t,e,e.pendingProps.children,r),e.child;case 12:return $r(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,yt(ch,n._currentValue),n._currentValue=a,s!==null)if(si(s.value,a)){if(s.children===i.children&&!cn.current){e=ns(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Xi(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Sp(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(_e(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Sp(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}$r(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Oo(e,r),i=Mn(i),n=n(i),e.flags|=1,$r(t,e,n,r),e.child;case 14:return n=e.type,i=Gn(n,e.pendingProps),i=Gn(n.type,i),wx(t,e,n,i,r);case 15:return E2(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Gn(n,i),Lf(t,e),e.tag=1,un(n)?(t=!0,ah(e)):t=!1,Oo(e,r),_2(e,n,i),Ip(e,n,i,r),Np(null,e,n,!0,t,r);case 19:return I2(t,e,r);case 22:return T2(t,e,r)}throw Error(_e(156,e.tag))};function $2(t,e){return gE(t,e)}function Q4(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(t,e,r,n){return new Q4(t,e,r,n)}function _g(t){return t=t.prototype,!(!t||!t.isReactComponent)}function J4(t){if(typeof t=="function")return _g(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vm)return 11;if(t===Um)return 14}return 2}function $s(t,e){var r=t.alternate;return r===null?(r=Fn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Uf(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")_g(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case _o:return Sa(r.children,i,s,e);case Mm:a=8,i|=8;break;case Qd:return t=Fn(12,r,e,i|2),t.elementType=Qd,t.lanes=s,t;case Jd:return t=Fn(13,r,e,i),t.elementType=Jd,t.lanes=s,t;case Zd:return t=Fn(19,r,e,i),t.elementType=Zd,t.lanes=s,t;case Zw:return f0(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Qw:a=10;break e;case Jw:a=9;break e;case Vm:a=11;break e;case Um:a=14;break e;case Es:a=16,n=null;break e}throw Error(_e(130,t==null?t:typeof t,""))}return e=Fn(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Sa(t,e,r,n){return t=Fn(7,t,n,e),t.lanes=r,t}function f0(t,e,r,n){return t=Fn(22,t,n,e),t.elementType=Zw,t.lanes=r,t.stateNode={isHidden:!1},t}function Ed(t,e,r){return t=Fn(6,t,null,e),t.lanes=r,t}function Td(t,e,r){return e=Fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Z4(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nd(0),this.expirationTimes=nd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nd(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function yg(t,e,r,n,i,s,a,o,l){return t=new Z4(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Fn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ng(s),t}function eR(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function H2(t){if(!t)return Xs;t=t._reactInternals;e:{if(Wa(t)!==t||t.tag!==1)throw Error(_e(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(un(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(_e(171))}if(t.tag===1){var r=t.type;if(un(r))return HE(t,r,e)}return e}function W2(t,e,r,n,i,s,a,o,l){return t=yg(r,n,!0,t,i,s,a,o,l),t.context=H2(null),r=t.current,n=Kr(),i=zs(r),s=Xi(n,i),s.callback=e??null,js(r,s,i),t.current.lanes=i,fu(t,i,n),fn(t,n),t}function h0(t,e,r,n){var i=e.current,s=Kr(),a=zs(i);return r=H2(r),e.context===null?e.context=r:e.pendingContext=r,e=Xi(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=js(i,e,a),t!==null&&(ri(t,i,a,s),Ff(t,i,a)),a}function _h(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Fx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function wg(t,e){Fx(t,e),(t=t.alternate)&&Fx(t,e)}function tR(){return null}var G2=typeof reportError=="function"?reportError:function(t){console.error(t)};function Eg(t){this._internalRoot=t}d0.prototype.render=Eg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(_e(409));h0(t,e,null,null)};d0.prototype.unmount=Eg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ba(function(){h0(null,t,null,null)}),e[ts]=null}};function d0(t){this._internalRoot=t}d0.prototype.unstable_scheduleHydration=function(t){if(t){var e=TE();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ks.length&&e!==0&&e<ks[r].priority;r++);ks.splice(r,0,t),r===0&&SE(t)}};function Tg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function p0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bx(){}function rR(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=_h(a);s.call(c)}}var a=W2(e,n,t,0,null,!1,!1,"",bx);return t._reactRootContainer=a,t[ts]=a.current,Fc(t.nodeType===8?t.parentNode:t),ba(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=_h(l);o.call(c)}}var l=yg(t,0,!1,null,null,!1,!1,"",bx);return t._reactRootContainer=l,t[ts]=l.current,Fc(t.nodeType===8?t.parentNode:t),ba(function(){h0(e,l,r,n)}),l}function m0(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=_h(a);o.call(l)}}h0(e,a,t,i)}else a=rR(r,e,t,i,n);return _h(a)}wE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Hl(e.pendingLanes);r!==0&&(zm(e,r|1),fn(e,$t()),!(st&6)&&(Yo=$t()+500,ia()))}break;case 13:ba(function(){var n=rs(t,1);if(n!==null){var i=Kr();ri(n,t,1,i)}}),wg(t,1)}};$m=function(t){if(t.tag===13){var e=rs(t,134217728);if(e!==null){var r=Kr();ri(e,t,134217728,r)}wg(t,134217728)}};EE=function(t){if(t.tag===13){var e=zs(t),r=rs(t,e);if(r!==null){var n=Kr();ri(r,t,e,n)}wg(t,e)}};TE=function(){return mt};kE=function(t,e){var r=mt;try{return mt=t,e()}finally{mt=r}};cp=function(t,e,r){switch(e){case"input":if(rp(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=s0(n);if(!i)throw Error(_e(90));tE(n),rp(n,i)}}}break;case"textarea":nE(t,r);break;case"select":e=r.value,e!=null&&Po(t,!!r.multiple,e,!1)}};uE=gg;fE=ba;var nR={usingClientEntryPoint:!1,Events:[du,To,s0,lE,cE,gg]},Ml={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iR={bundleType:Ml.bundleType,version:Ml.version,rendererPackageName:Ml.rendererPackageName,rendererConfig:Ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pE(t),t===null?null:t.stateNode},findFiberByHostInstance:Ml.findFiberByHostInstance||tR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ff.isDisabled&&ff.supportsFiber)try{t0=ff.inject(iR),xi=ff}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nR;Tn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tg(e))throw Error(_e(200));return eR(t,e,null,r)};Tn.createRoot=function(t,e){if(!Tg(t))throw Error(_e(299));var r=!1,n="",i=G2;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=yg(t,1,!1,null,null,r,!1,n,i),t[ts]=e.current,Fc(t.nodeType===8?t.parentNode:t),new Eg(e)};Tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(_e(188)):(t=Object.keys(t).join(","),Error(_e(268,t)));return t=pE(e),t=t===null?null:t.stateNode,t};Tn.flushSync=function(t){return ba(t)};Tn.hydrate=function(t,e,r){if(!p0(e))throw Error(_e(200));return m0(null,t,e,!0,r)};Tn.hydrateRoot=function(t,e,r){if(!Tg(t))throw Error(_e(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=G2;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=W2(e,null,t,1,r??null,i,!1,s,a),t[ts]=e.current,Fc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new d0(e)};Tn.render=function(t,e,r){if(!p0(e))throw Error(_e(200));return m0(null,t,e,!1,r)};Tn.unmountComponentAtNode=function(t){if(!p0(t))throw Error(_e(40));return t._reactRootContainer?(ba(function(){m0(null,null,t,!1,function(){t._reactRootContainer=null,t[ts]=null})}),!0):!1};Tn.unstable_batchedUpdates=gg;Tn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!p0(r))throw Error(_e(200));if(t==null||t._reactInternals===void 0)throw Error(_e(38));return m0(t,e,r,!1,n)};Tn.version="18.3.1-next-f1338f8080-20240426";function K2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(K2)}catch(t){console.error(t)}}K2(),Kw.exports=Tn;var kg=Kw.exports;const sR=bw(kg),aR=Fw({__proto__:null,default:sR},[kg]);var Ox=kg;Xd.createRoot=Ox.createRoot,Xd.hydrateRoot=Ox.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rt(){return Rt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rt.apply(this,arguments)}var Xt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xt||(Xt={}));const Lx="popstate";function oR(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return zc("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Oa(i)}return cR(e,r,null,t)}function Ge(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lR(){return Math.random().toString(36).substr(2,8)}function Mx(t,e){return{usr:t.state,key:t.key,idx:e}}function zc(t,e,r,n){return r===void 0&&(r=null),Rt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?sa(e):e,{state:r,key:e&&e.key||n||lR()})}function Oa(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function sa(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function cR(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Xt.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(Rt({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function h(){o=Xt.Pop;let y=u(),k=y==null?null:y-c;c=y,l&&l({action:o,location:v.location,delta:k})}function d(y,k){o=Xt.Push;let T=zc(v.location,y,k);c=u()+1;let w=Mx(T,c),D=v.createHref(T);try{a.pushState(w,"",D)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(D)}s&&l&&l({action:o,location:v.location,delta:1})}function p(y,k){o=Xt.Replace;let T=zc(v.location,y,k);c=u();let w=Mx(T,c),D=v.createHref(T);a.replaceState(w,"",D),s&&l&&l({action:o,location:v.location,delta:0})}function x(y){let k=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof y=="string"?y:Oa(y);return T=T.replace(/ $/,"%20"),Ge(k,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,k)}let v={get action(){return o},get location(){return t(i,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Lx,h),l=y,()=>{i.removeEventListener(Lx,h),l=null}},createHref(y){return e(i,y)},createURL:x,encodeLocation(y){let k=x(y);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:d,replace:p,go(y){return a.go(y)}};return v}var pt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(pt||(pt={}));const uR=new Set(["lazy","caseSensitive","path","id","index","children"]);function fR(t){return t.index===!0}function yh(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((i,s)=>{let a=[...r,String(s)],o=typeof i.id=="string"?i.id:a.join("-");if(Ge(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ge(!n[o],'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),fR(i)){let l=Rt({},i,e(i),{id:o});return n[o]=l,l}else{let l=Rt({},i,e(i),{id:o,children:void 0});return n[o]=l,i.children&&(l.children=yh(i.children,e,a,n)),l}})}function pa(t,e,r){return r===void 0&&(r="/"),jf(t,e,r,!1)}function jf(t,e,r,n){let i=typeof e=="string"?sa(e):e,s=is(i.pathname||"/",r);if(s==null)return null;let a=q2(t);dR(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=kR(s);o=ER(a[l],c,n)}return o}function hR(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}function q2(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Ge(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Yi([n,l.relativePath]),u=r.concat(l);s.children&&s.children.length>0&&(Ge(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),q2(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:yR(c,s.index),routesMeta:u})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of X2(s.path))i(s,a,l)}),e}function X2(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=X2(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function dR(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:wR(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const pR=/^:[\w-]+$/,mR=3,gR=2,vR=1,xR=10,_R=-2,Vx=t=>t==="*";function yR(t,e){let r=t.split("/"),n=r.length;return r.some(Vx)&&(n+=_R),e&&(n+=gR),r.filter(i=>!Vx(i)).reduce((i,s)=>i+(pR.test(s)?mR:s===""?vR:xR),n)}function wR(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function ER(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=wh({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),d=l.route;if(!h&&c&&r&&!n[n.length-1].route.index&&(h=wh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:Yi([s,h.pathname]),pathnameBase:IR(Yi([s,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(s=Yi([s,h.pathnameBase]))}return a}function wh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=TR(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,u,h)=>{let{paramName:d,isOptional:p}=u;if(d==="*"){let v=o[h]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const x=o[h];return p&&!x?c[d]=void 0:c[d]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function TR(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Qo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function kR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qo(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function is(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function SR(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?sa(t):t;return{pathname:r?r.startsWith("/")?r:AR(r,e):e,search:CR(n),hash:RR(i)}}function AR(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function kd(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Y2(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function g0(t,e){let r=Y2(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function v0(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=sa(t):(i=Rt({},t),Ge(!i.pathname||!i.pathname.includes("?"),kd("?","pathname","search",i)),Ge(!i.pathname||!i.pathname.includes("#"),kd("#","pathname","hash",i)),Ge(!i.search||!i.search.includes("#"),kd("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}o=h>=0?e[h]:"/"}let l=SR(i,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Yi=t=>t.join("/").replace(/\/\/+/g,"/"),IR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Eh{constructor(e,r,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function $c(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Q2=["post","put","patch","delete"],NR=new Set(Q2),PR=["get",...Q2],DR=new Set(PR),FR=new Set([301,302,303,307,308]),bR=new Set([307,308]),Sd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},OR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Vl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Sg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,LR=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),J2="remix-router-transitions";function MR(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;Ge(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let H=t.detectErrorBoundary;i=J=>({hasErrorBoundary:H(J)})}else i=LR;let s={},a=yh(t.routes,i,void 0,s),o,l=t.basename||"/",c=t.dataStrategy||BR,u=t.patchRoutesOnNavigation,h=Rt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),d=null,p=new Set,x=null,v=null,y=null,k=t.hydrationData!=null,T=pa(a,t.history.location,l),w=!1,D=null;if(T==null&&!u){let H=nn(404,{pathname:t.history.location.pathname}),{matches:J,route:ne}=Xx(a);T=J,D={[ne.id]:H}}T&&!t.hydrationData&&Mi(T,a,t.history.location.pathname).active&&(T=null);let B;if(T)if(T.some(H=>H.route.lazy))B=!1;else if(!T.some(H=>H.route.loader))B=!0;else if(h.v7_partialHydration){let H=t.hydrationData?t.hydrationData.loaderData:null,J=t.hydrationData?t.hydrationData.errors:null;if(J){let ne=T.findIndex(pe=>J[pe.route.id]!==void 0);B=T.slice(0,ne+1).every(pe=>!$p(pe.route,H,J))}else B=T.every(ne=>!$p(ne.route,H,J))}else B=t.hydrationData!=null;else if(B=!1,T=[],h.v7_partialHydration){let H=Mi(null,a,t.history.location.pathname);H.active&&H.matches&&(w=!0,T=H.matches)}let U,g={historyAction:t.history.action,location:t.history.location,matches:T,initialized:B,navigation:Sd,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||D,fetchers:new Map,blockers:new Map},E=Xt.Pop,S=!1,C,P=!1,R=new Map,b=null,fe=!1,de=!1,Se=[],oe=new Set,ie=new Map,G=0,ce=-1,Ee=new Map,j=new Set,Y=new Map,K=new Map,W=new Set,ae=new Map,xe=new Map,ke;function he(){if(d=t.history.listen(H=>{let{action:J,location:ne,delta:pe}=H;if(ke){ke(),ke=void 0;return}Qo(xe.size===0||pe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ae=ms({currentLocation:g.location,nextLocation:ne,historyAction:J});if(Ae&&pe!=null){let I=new Promise(M=>{ke=M});t.history.go(pe*-1),ci(Ae,{state:"blocked",location:ne,proceed(){ci(Ae,{state:"proceeding",proceed:void 0,reset:void 0,location:ne}),I.then(()=>t.history.go(pe))},reset(){let M=new Map(g.blockers);M.set(Ae,Vl),z({blockers:M})}});return}return be(J,ne)}),r){tN(e,R);let H=()=>rN(e,R);e.addEventListener("pagehide",H),b=()=>e.removeEventListener("pagehide",H)}return g.initialized||be(Xt.Pop,g.location,{initialHydration:!0}),U}function me(){d&&d(),b&&b(),p.clear(),C&&C.abort(),g.fetchers.forEach((H,J)=>xt(J)),g.blockers.forEach((H,J)=>bi(J))}function $e(H){return p.add(H),()=>p.delete(H)}function z(H,J){J===void 0&&(J={}),g=Rt({},g,H);let ne=[],pe=[];h.v7_fetcherPersist&&g.fetchers.forEach((Ae,I)=>{Ae.state==="idle"&&(W.has(I)?pe.push(I):ne.push(I))}),W.forEach(Ae=>{!g.fetchers.has(Ae)&&!ie.has(Ae)&&pe.push(Ae)}),[...p].forEach(Ae=>Ae(g,{deletedFetchers:pe,viewTransitionOpts:J.viewTransitionOpts,flushSync:J.flushSync===!0})),h.v7_fetcherPersist?(ne.forEach(Ae=>g.fetchers.delete(Ae)),pe.forEach(Ae=>xt(Ae))):pe.forEach(Ae=>W.delete(Ae))}function ot(H,J,ne){var pe,Ae;let{flushSync:I}=ne===void 0?{}:ne,M=g.actionData!=null&&g.navigation.formMethod!=null&&qn(g.navigation.formMethod)&&g.navigation.state==="loading"&&((pe=H.state)==null?void 0:pe._isRedirect)!==!0,N;J.actionData?Object.keys(J.actionData).length>0?N=J.actionData:N=null:M?N=g.actionData:N=null;let F=J.loaderData?Kx(g.loaderData,J.loaderData,J.matches||[],J.errors):g.loaderData,O=g.blockers;O.size>0&&(O=new Map(O),O.forEach((te,ee)=>O.set(ee,Vl)));let L=S===!0||g.navigation.formMethod!=null&&qn(g.navigation.formMethod)&&((Ae=H.state)==null?void 0:Ae._isRedirect)!==!0;o&&(a=o,o=void 0),fe||E===Xt.Pop||(E===Xt.Push?t.history.push(H,H.state):E===Xt.Replace&&t.history.replace(H,H.state));let q;if(E===Xt.Pop){let te=R.get(g.location.pathname);te&&te.has(H.pathname)?q={currentLocation:g.location,nextLocation:H}:R.has(H.pathname)&&(q={currentLocation:H,nextLocation:g.location})}else if(P){let te=R.get(g.location.pathname);te?te.add(H.pathname):(te=new Set([H.pathname]),R.set(g.location.pathname,te)),q={currentLocation:g.location,nextLocation:H}}z(Rt({},J,{actionData:N,loaderData:F,historyAction:E,location:H,initialized:!0,navigation:Sd,revalidation:"idle",restoreScrollPosition:Li(H,J.matches||g.matches),preventScrollReset:L,blockers:O}),{viewTransitionOpts:q,flushSync:I===!0}),E=Xt.Pop,S=!1,P=!1,fe=!1,de=!1,Se=[]}async function We(H,J){if(typeof H=="number"){t.history.go(H);return}let ne=zp(g.location,g.matches,l,h.v7_prependBasename,H,h.v7_relativeSplatPath,J==null?void 0:J.fromRouteId,J==null?void 0:J.relative),{path:pe,submission:Ae,error:I}=Ux(h.v7_normalizeFormMethod,!1,ne,J),M=g.location,N=zc(g.location,pe,J&&J.state);N=Rt({},N,t.history.encodeLocation(N));let F=J&&J.replace!=null?J.replace:void 0,O=Xt.Push;F===!0?O=Xt.Replace:F===!1||Ae!=null&&qn(Ae.formMethod)&&Ae.formAction===g.location.pathname+g.location.search&&(O=Xt.Replace);let L=J&&"preventScrollReset"in J?J.preventScrollReset===!0:void 0,q=(J&&J.flushSync)===!0,te=ms({currentLocation:M,nextLocation:N,historyAction:O});if(te){ci(te,{state:"blocked",location:N,proceed(){ci(te,{state:"proceeding",proceed:void 0,reset:void 0,location:N}),We(H,J)},reset(){let ee=new Map(g.blockers);ee.set(te,Vl),z({blockers:ee})}});return}return await be(O,N,{submission:Ae,pendingError:I,preventScrollReset:L,replace:J&&J.replace,enableViewTransition:J&&J.viewTransition,flushSync:q})}function rt(){if(kt(),z({revalidation:"loading"}),g.navigation.state!=="submitting"){if(g.navigation.state==="idle"){be(g.historyAction,g.location,{startUninterruptedRevalidation:!0});return}be(E||g.historyAction,g.navigation.location,{overrideNavigation:g.navigation,enableViewTransition:P===!0})}}async function be(H,J,ne){C&&C.abort(),C=null,E=H,fe=(ne&&ne.startUninterruptedRevalidation)===!0,so(g.location,g.matches),S=(ne&&ne.preventScrollReset)===!0,P=(ne&&ne.enableViewTransition)===!0;let pe=o||a,Ae=ne&&ne.overrideNavigation,I=ne!=null&&ne.initialHydration&&g.matches&&g.matches.length>0&&!w?g.matches:pa(pe,J,l),M=(ne&&ne.flushSync)===!0;if(I&&g.initialized&&!de&&KR(g.location,J)&&!(ne&&ne.submission&&qn(ne.submission.formMethod))){ot(J,{matches:I},{flushSync:M});return}let N=Mi(I,pe,J.pathname);if(N.active&&N.matches&&(I=N.matches),!I){let{error:Z,notFoundMatches:Q,route:le}=Bn(J.pathname);ot(J,{matches:Q,loaderData:{},errors:{[le.id]:Z}},{flushSync:M});return}C=new AbortController;let F=fo(t.history,J,C.signal,ne&&ne.submission),O;if(ne&&ne.pendingError)O=[ma(I).route.id,{type:pt.error,error:ne.pendingError}];else if(ne&&ne.submission&&qn(ne.submission.formMethod)){let Z=await Ie(F,J,ne.submission,I,N.active,{replace:ne.replace,flushSync:M});if(Z.shortCircuited)return;if(Z.pendingActionResult){let[Q,le]=Z.pendingActionResult;if(mn(le)&&$c(le.error)&&le.error.status===404){C=null,ot(J,{matches:Z.matches,loaderData:{},errors:{[Q]:le.error}});return}}I=Z.matches||I,O=Z.pendingActionResult,Ae=Ad(J,ne.submission),M=!1,N.active=!1,F=fo(t.history,F.url,F.signal)}let{shortCircuited:L,matches:q,loaderData:te,errors:ee}=await Et(F,J,I,N.active,Ae,ne&&ne.submission,ne&&ne.fetcherSubmission,ne&&ne.replace,ne&&ne.initialHydration===!0,M,O);L||(C=null,ot(J,Rt({matches:q||I},qx(O),{loaderData:te,errors:ee})))}async function Ie(H,J,ne,pe,Ae,I){I===void 0&&(I={}),kt();let M=ZR(J,ne);if(z({navigation:M},{flushSync:I.flushSync===!0}),Ae){let O=await An(pe,J.pathname,H.signal);if(O.type==="aborted")return{shortCircuited:!0};if(O.type==="error"){let L=ma(O.partialMatches).route.id;return{matches:O.partialMatches,pendingActionResult:[L,{type:pt.error,error:O.error}]}}else if(O.matches)pe=O.matches;else{let{notFoundMatches:L,error:q,route:te}=Bn(J.pathname);return{matches:L,pendingActionResult:[te.id,{type:pt.error,error:q}]}}}let N,F=Gl(pe,J);if(!F.route.action&&!F.route.lazy)N={type:pt.error,error:nn(405,{method:H.method,pathname:J.pathname,routeId:F.route.id})};else if(N=(await or("action",g,H,[F],pe,null))[F.route.id],H.signal.aborted)return{shortCircuited:!0};if(ya(N)){let O;return I&&I.replace!=null?O=I.replace:O=Hx(N.response.headers.get("Location"),new URL(H.url),l)===g.location.pathname+g.location.search,await Tt(H,N,!0,{submission:ne,replace:O}),{shortCircuited:!0}}if(Ds(N))throw nn(400,{type:"defer-action"});if(mn(N)){let O=ma(pe,F.route.id);return(I&&I.replace)!==!0&&(E=Xt.Push),{matches:pe,pendingActionResult:[O.route.id,N]}}return{matches:pe,pendingActionResult:[F.route.id,N]}}async function Et(H,J,ne,pe,Ae,I,M,N,F,O,L){let q=Ae||Ad(J,I),te=I||M||Qx(q),ee=!fe&&(!h.v7_partialHydration||!F);if(pe){if(ee){let ft=ar(L);z(Rt({navigation:q},ft!==void 0?{actionData:ft}:{}),{flushSync:O})}let He=await An(ne,J.pathname,H.signal);if(He.type==="aborted")return{shortCircuited:!0};if(He.type==="error"){let ft=ma(He.partialMatches).route.id;return{matches:He.partialMatches,loaderData:{},errors:{[ft]:He.error}}}else if(He.matches)ne=He.matches;else{let{error:ft,notFoundMatches:dr,route:In}=Bn(J.pathname);return{matches:dr,loaderData:{},errors:{[In.id]:ft}}}}let Z=o||a,[Q,le]=Bx(t.history,g,ne,te,J,h.v7_partialHydration&&F===!0,h.v7_skipActionErrorRevalidation,de,Se,oe,W,Y,j,Z,l,L);if(Oi(He=>!(ne&&ne.some(ft=>ft.route.id===He))||Q&&Q.some(ft=>ft.route.id===He)),ce=++G,Q.length===0&&le.length===0){let He=Fi();return ot(J,Rt({matches:ne,loaderData:{},errors:L&&mn(L[1])?{[L[0]]:L[1].error}:null},qx(L),He?{fetchers:new Map(g.fetchers)}:{}),{flushSync:O}),{shortCircuited:!0}}if(ee){let He={};if(!pe){He.navigation=q;let ft=ar(L);ft!==void 0&&(He.actionData=ft)}le.length>0&&(He.fetchers=Sr(le)),z(He,{flushSync:O})}le.forEach(He=>{ut(He.key),He.controller&&ie.set(He.key,He.controller)});let ye=()=>le.forEach(He=>ut(He.key));C&&C.signal.addEventListener("abort",ye);let{loaderResults:Ce,fetcherResults:ge}=await vt(g,ne,Q,le,H);if(H.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",ye),le.forEach(He=>ie.delete(He.key));let we=hf(Ce);if(we)return await Tt(H,we.result,!0,{replace:N}),{shortCircuited:!0};if(we=hf(ge),we)return j.add(we.key),await Tt(H,we.result,!0,{replace:N}),{shortCircuited:!0};let{loaderData:Fe,errors:nt}=Gx(g,ne,Ce,L,le,ge,ae);ae.forEach((He,ft)=>{He.subscribe(dr=>{(dr||He.done)&&ae.delete(ft)})}),h.v7_partialHydration&&F&&g.errors&&(nt=Rt({},g.errors,nt));let Ke=Fi(),dt=io(ce),rn=Ke||dt||le.length>0;return Rt({matches:ne,loaderData:Fe,errors:nt},rn?{fetchers:new Map(g.fetchers)}:{})}function ar(H){if(H&&!mn(H[1]))return{[H[0]]:H[1].data};if(g.actionData)return Object.keys(g.actionData).length===0?null:g.actionData}function Sr(H){return H.forEach(J=>{let ne=g.fetchers.get(J.key),pe=Ul(void 0,ne?ne.data:void 0);g.fetchers.set(J.key,pe)}),new Map(g.fetchers)}function en(H,J,ne,pe){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ut(H);let Ae=(pe&&pe.flushSync)===!0,I=o||a,M=zp(g.location,g.matches,l,h.v7_prependBasename,ne,h.v7_relativeSplatPath,J,pe==null?void 0:pe.relative),N=pa(I,M,l),F=Mi(N,I,M);if(F.active&&F.matches&&(N=F.matches),!N){Dt(H,J,nn(404,{pathname:M}),{flushSync:Ae});return}let{path:O,submission:L,error:q}=Ux(h.v7_normalizeFormMethod,!0,M,pe);if(q){Dt(H,J,q,{flushSync:Ae});return}let te=Gl(N,O),ee=(pe&&pe.preventScrollReset)===!0;if(L&&qn(L.formMethod)){Di(H,J,O,te,N,F.active,Ae,ee,L);return}Y.set(H,{routeId:J,path:O}),tn(H,J,O,te,N,F.active,Ae,ee,L)}async function Di(H,J,ne,pe,Ae,I,M,N,F){kt(),Y.delete(H);function O(Je){if(!Je.route.action&&!Je.route.lazy){let fi=nn(405,{method:F.formMethod,pathname:ne,routeId:J});return Dt(H,J,fi,{flushSync:M}),!0}return!1}if(!I&&O(pe))return;let L=g.fetchers.get(H);ht(H,eN(F,L),{flushSync:M});let q=new AbortController,te=fo(t.history,ne,q.signal,F);if(I){let Je=await An(Ae,new URL(te.url).pathname,te.signal,H);if(Je.type==="aborted")return;if(Je.type==="error"){Dt(H,J,Je.error,{flushSync:M});return}else if(Je.matches){if(Ae=Je.matches,pe=Gl(Ae,ne),O(pe))return}else{Dt(H,J,nn(404,{pathname:ne}),{flushSync:M});return}}ie.set(H,q);let ee=G,Q=(await or("action",g,te,[pe],Ae,H))[pe.route.id];if(te.signal.aborted){ie.get(H)===q&&ie.delete(H);return}if(h.v7_fetcherPersist&&W.has(H)){if(ya(Q)||mn(Q)){ht(H,ws(void 0));return}}else{if(ya(Q))if(ie.delete(H),ce>ee){ht(H,ws(void 0));return}else return j.add(H),ht(H,Ul(F)),Tt(te,Q,!1,{fetcherSubmission:F,preventScrollReset:N});if(mn(Q)){Dt(H,J,Q.error);return}}if(Ds(Q))throw nn(400,{type:"defer-action"});let le=g.navigation.location||g.location,ye=fo(t.history,le,q.signal),Ce=o||a,ge=g.navigation.state!=="idle"?pa(Ce,g.navigation.location,l):g.matches;Ge(ge,"Didn't find any matches after fetcher action");let we=++G;Ee.set(H,we);let Fe=Ul(F,Q.data);g.fetchers.set(H,Fe);let[nt,Ke]=Bx(t.history,g,ge,F,le,!1,h.v7_skipActionErrorRevalidation,de,Se,oe,W,Y,j,Ce,l,[pe.route.id,Q]);Ke.filter(Je=>Je.key!==H).forEach(Je=>{let fi=Je.key,El=g.fetchers.get(fi),Lu=Ul(void 0,El?El.data:void 0);g.fetchers.set(fi,Lu),ut(fi),Je.controller&&ie.set(fi,Je.controller)}),z({fetchers:new Map(g.fetchers)});let dt=()=>Ke.forEach(Je=>ut(Je.key));q.signal.addEventListener("abort",dt);let{loaderResults:rn,fetcherResults:He}=await vt(g,ge,nt,Ke,ye);if(q.signal.aborted)return;q.signal.removeEventListener("abort",dt),Ee.delete(H),ie.delete(H),Ke.forEach(Je=>ie.delete(Je.key));let ft=hf(rn);if(ft)return Tt(ye,ft.result,!1,{preventScrollReset:N});if(ft=hf(He),ft)return j.add(ft.key),Tt(ye,ft.result,!1,{preventScrollReset:N});let{loaderData:dr,errors:In}=Gx(g,ge,rn,void 0,Ke,He,ae);if(g.fetchers.has(H)){let Je=ws(Q.data);g.fetchers.set(H,Je)}io(we),g.navigation.state==="loading"&&we>ce?(Ge(E,"Expected pending action"),C&&C.abort(),ot(g.navigation.location,{matches:ge,loaderData:dr,errors:In,fetchers:new Map(g.fetchers)})):(z({errors:In,loaderData:Kx(g.loaderData,dr,ge,In),fetchers:new Map(g.fetchers)}),de=!1)}async function tn(H,J,ne,pe,Ae,I,M,N,F){let O=g.fetchers.get(H);ht(H,Ul(F,O?O.data:void 0),{flushSync:M});let L=new AbortController,q=fo(t.history,ne,L.signal);if(I){let Q=await An(Ae,new URL(q.url).pathname,q.signal,H);if(Q.type==="aborted")return;if(Q.type==="error"){Dt(H,J,Q.error,{flushSync:M});return}else if(Q.matches)Ae=Q.matches,pe=Gl(Ae,ne);else{Dt(H,J,nn(404,{pathname:ne}),{flushSync:M});return}}ie.set(H,L);let te=G,Z=(await or("loader",g,q,[pe],Ae,H))[pe.route.id];if(Ds(Z)&&(Z=await Ag(Z,q.signal,!0)||Z),ie.get(H)===L&&ie.delete(H),!q.signal.aborted){if(W.has(H)){ht(H,ws(void 0));return}if(ya(Z))if(ce>te){ht(H,ws(void 0));return}else{j.add(H),await Tt(q,Z,!1,{preventScrollReset:N});return}if(mn(Z)){Dt(H,J,Z.error);return}Ge(!Ds(Z),"Unhandled fetcher deferred data"),ht(H,ws(Z.data))}}async function Tt(H,J,ne,pe){let{submission:Ae,fetcherSubmission:I,preventScrollReset:M,replace:N}=pe===void 0?{}:pe;J.response.headers.has("X-Remix-Revalidate")&&(de=!0);let F=J.response.headers.get("Location");Ge(F,"Expected a Location header on the redirect Response"),F=Hx(F,new URL(H.url),l);let O=zc(g.location,F,{_isRedirect:!0});if(r){let Q=!1;if(J.response.headers.has("X-Remix-Reload-Document"))Q=!0;else if(Sg.test(F)){const le=t.history.createURL(F);Q=le.origin!==e.location.origin||is(le.pathname,l)==null}if(Q){N?e.location.replace(F):e.location.assign(F);return}}C=null;let L=N===!0||J.response.headers.has("X-Remix-Replace")?Xt.Replace:Xt.Push,{formMethod:q,formAction:te,formEncType:ee}=g.navigation;!Ae&&!I&&q&&te&&ee&&(Ae=Qx(g.navigation));let Z=Ae||I;if(bR.has(J.response.status)&&Z&&qn(Z.formMethod))await be(L,O,{submission:Rt({},Z,{formAction:F}),preventScrollReset:M||S,enableViewTransition:ne?P:void 0});else{let Q=Ad(O,Ae);await be(L,O,{overrideNavigation:Q,fetcherSubmission:I,preventScrollReset:M||S,enableViewTransition:ne?P:void 0})}}async function or(H,J,ne,pe,Ae,I){let M,N={};try{M=await zR(c,H,J,ne,pe,Ae,I,s,i)}catch(F){return pe.forEach(O=>{N[O.route.id]={type:pt.error,error:F}}),N}for(let[F,O]of Object.entries(M))if(qR(O)){let L=O.result;N[F]={type:pt.redirect,response:WR(L,ne,F,Ae,l,h.v7_relativeSplatPath)}}else N[F]=await HR(O);return N}async function vt(H,J,ne,pe,Ae){let I=H.matches,M=or("loader",H,Ae,ne,J,null),N=Promise.all(pe.map(async L=>{if(L.matches&&L.match&&L.controller){let te=(await or("loader",H,fo(t.history,L.path,L.controller.signal),[L.match],L.matches,L.key))[L.match.route.id];return{[L.key]:te}}else return Promise.resolve({[L.key]:{type:pt.error,error:nn(404,{pathname:L.path})}})})),F=await M,O=(await N).reduce((L,q)=>Object.assign(L,q),{});return await Promise.all([QR(J,F,Ae.signal,I,H.loaderData),JR(J,O,pe)]),{loaderResults:F,fetcherResults:O}}function kt(){de=!0,Se.push(...Oi()),Y.forEach((H,J)=>{ie.has(J)&&oe.add(J),ut(J)})}function ht(H,J,ne){ne===void 0&&(ne={}),g.fetchers.set(H,J),z({fetchers:new Map(g.fetchers)},{flushSync:(ne&&ne.flushSync)===!0})}function Dt(H,J,ne,pe){pe===void 0&&(pe={});let Ae=ma(g.matches,J);xt(H),z({errors:{[Ae.route.id]:ne},fetchers:new Map(g.fetchers)},{flushSync:(pe&&pe.flushSync)===!0})}function Ve(H){return K.set(H,(K.get(H)||0)+1),W.has(H)&&W.delete(H),g.fetchers.get(H)||OR}function xt(H){let J=g.fetchers.get(H);ie.has(H)&&!(J&&J.state==="loading"&&Ee.has(H))&&ut(H),Y.delete(H),Ee.delete(H),j.delete(H),h.v7_fetcherPersist&&W.delete(H),oe.delete(H),g.fetchers.delete(H)}function Ht(H){let J=(K.get(H)||0)-1;J<=0?(K.delete(H),W.add(H),h.v7_fetcherPersist||xt(H)):K.set(H,J),z({fetchers:new Map(g.fetchers)})}function ut(H){let J=ie.get(H);J&&(J.abort(),ie.delete(H))}function hn(H){for(let J of H){let ne=Ve(J),pe=ws(ne.data);g.fetchers.set(J,pe)}}function Fi(){let H=[],J=!1;for(let ne of j){let pe=g.fetchers.get(ne);Ge(pe,"Expected fetcher: "+ne),pe.state==="loading"&&(j.delete(ne),H.push(ne),J=!0)}return hn(H),J}function io(H){let J=[];for(let[ne,pe]of Ee)if(pe<H){let Ae=g.fetchers.get(ne);Ge(Ae,"Expected fetcher: "+ne),Ae.state==="loading"&&(ut(ne),Ee.delete(ne),J.push(ne))}return hn(J),J.length>0}function wl(H,J){let ne=g.blockers.get(H)||Vl;return xe.get(H)!==J&&xe.set(H,J),ne}function bi(H){g.blockers.delete(H),xe.delete(H)}function ci(H,J){let ne=g.blockers.get(H)||Vl;Ge(ne.state==="unblocked"&&J.state==="blocked"||ne.state==="blocked"&&J.state==="blocked"||ne.state==="blocked"&&J.state==="proceeding"||ne.state==="blocked"&&J.state==="unblocked"||ne.state==="proceeding"&&J.state==="unblocked","Invalid blocker state transition: "+ne.state+" -> "+J.state);let pe=new Map(g.blockers);pe.set(H,J),z({blockers:pe})}function ms(H){let{currentLocation:J,nextLocation:ne,historyAction:pe}=H;if(xe.size===0)return;xe.size>1&&Qo(!1,"A router only supports one blocker at a time");let Ae=Array.from(xe.entries()),[I,M]=Ae[Ae.length-1],N=g.blockers.get(I);if(!(N&&N.state==="proceeding")&&M({currentLocation:J,nextLocation:ne,historyAction:pe}))return I}function Bn(H){let J=nn(404,{pathname:H}),ne=o||a,{matches:pe,route:Ae}=Xx(ne);return Oi(),{notFoundMatches:pe,route:Ae,error:J}}function Oi(H){let J=[];return ae.forEach((ne,pe)=>{(!H||H(pe))&&(ne.cancel(),J.push(pe),ae.delete(pe))}),J}function ui(H,J,ne){if(x=H,y=J,v=ne||null,!k&&g.navigation===Sd){k=!0;let pe=Li(g.location,g.matches);pe!=null&&z({restoreScrollPosition:pe})}return()=>{x=null,y=null,v=null}}function Sn(H,J){return v&&v(H,J.map(pe=>hR(pe,g.loaderData)))||H.key}function so(H,J){if(x&&y){let ne=Sn(H,J);x[ne]=y()}}function Li(H,J){if(x){let ne=Sn(H,J),pe=x[ne];if(typeof pe=="number")return pe}return null}function Mi(H,J,ne){if(u)if(H){if(Object.keys(H[0].params).length>0)return{active:!0,matches:jf(J,ne,l,!0)}}else return{active:!0,matches:jf(J,ne,l,!0)||[]};return{active:!1,matches:null}}async function An(H,J,ne,pe){if(!u)return{type:"success",matches:H};let Ae=H;for(;;){let I=o==null,M=o||a,N=s;try{await u({signal:ne,path:J,matches:Ae,fetcherKey:pe,patch:(L,q)=>{ne.aborted||$x(L,q,M,N,i)}})}catch(L){return{type:"error",error:L,partialMatches:Ae}}finally{I&&!ne.aborted&&(a=[...a])}if(ne.aborted)return{type:"aborted"};let F=pa(M,J,l);if(F)return{type:"success",matches:F};let O=jf(M,J,l,!0);if(!O||Ae.length===O.length&&Ae.every((L,q)=>L.route.id===O[q].route.id))return{type:"success",matches:null};Ae=O}}function ao(H){s={},o=yh(H,i,void 0,s)}function Zt(H,J){let ne=o==null;$x(H,J,o||a,s,i),ne&&(a=[...a],z({}))}return U={get basename(){return l},get future(){return h},get state(){return g},get routes(){return a},get window(){return e},initialize:he,subscribe:$e,enableScrollRestoration:ui,navigate:We,fetch:en,revalidate:rt,createHref:H=>t.history.createHref(H),encodeLocation:H=>t.history.encodeLocation(H),getFetcher:Ve,deleteFetcher:Ht,dispose:me,getBlocker:wl,deleteBlocker:bi,patchRoutes:Zt,_internalFetchControllers:ie,_internalActiveDeferreds:ae,_internalSetRoutes:ao},U}function VR(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function zp(t,e,r,n,i,s,a,o){let l,c;if(a){l=[];for(let h of e)if(l.push(h),h.route.id===a){c=h;break}}else l=e,c=e[e.length-1];let u=v0(i||".",g0(l,s),is(t.pathname,r)||t.pathname,o==="path");if(i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c){let h=Ig(u.search);if(c.route.index&&!h)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&h){let d=new URLSearchParams(u.search),p=d.getAll("index");d.delete("index"),p.filter(v=>v).forEach(v=>d.append("index",v));let x=d.toString();u.search=x?"?"+x:""}}return n&&r!=="/"&&(u.pathname=u.pathname==="/"?r:Yi([r,u.pathname])),Oa(u)}function Ux(t,e,r,n){if(!n||!VR(n))return{path:r};if(n.formMethod&&!YR(n.formMethod))return{path:r,error:nn(405,{method:n.formMethod})};let i=()=>({path:r,error:nn(400,{type:"invalid-body"})}),s=n.formMethod||"get",a=t?s.toUpperCase():s.toLowerCase(),o=tT(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!qn(a))return i();let d=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((p,x)=>{let[v,y]=x;return""+p+v+"="+y+`
`},""):String(n.body);return{path:r,submission:{formMethod:a,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:d}}}else if(n.formEncType==="application/json"){if(!qn(a))return i();try{let d=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:a,formAction:o,formEncType:n.formEncType,formData:void 0,json:d,text:void 0}}}catch{return i()}}}Ge(typeof FormData=="function","FormData is not available in this environment");let l,c;if(n.formData)l=Hp(n.formData),c=n.formData;else if(n.body instanceof FormData)l=Hp(n.body),c=n.body;else if(n.body instanceof URLSearchParams)l=n.body,c=Wx(l);else if(n.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(n.body),c=Wx(l)}catch{return i()}let u={formMethod:a,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(qn(u.formMethod))return{path:r,submission:u};let h=sa(r);return e&&h.search&&Ig(h.search)&&l.append("index",""),h.search="?"+l,{path:Oa(h),submission:u}}function jx(t,e,r){r===void 0&&(r=!1);let n=t.findIndex(i=>i.route.id===e);return n>=0?t.slice(0,r?n+1:n):t}function Bx(t,e,r,n,i,s,a,o,l,c,u,h,d,p,x,v){let y=v?mn(v[1])?v[1].error:v[1].data:void 0,k=t.createURL(e.location),T=t.createURL(i),w=r;s&&e.errors?w=jx(r,Object.keys(e.errors)[0],!0):v&&mn(v[1])&&(w=jx(r,v[0]));let D=v?v[1].statusCode:void 0,B=a&&D&&D>=400,U=w.filter((E,S)=>{let{route:C}=E;if(C.lazy)return!0;if(C.loader==null)return!1;if(s)return $p(C,e.loaderData,e.errors);if(UR(e.loaderData,e.matches[S],E)||l.some(b=>b===E.route.id))return!0;let P=e.matches[S],R=E;return zx(E,Rt({currentUrl:k,currentParams:P.params,nextUrl:T,nextParams:R.params},n,{actionResult:y,actionStatus:D,defaultShouldRevalidate:B?!1:o||k.pathname+k.search===T.pathname+T.search||k.search!==T.search||Z2(P,R)}))}),g=[];return h.forEach((E,S)=>{if(s||!r.some(fe=>fe.route.id===E.routeId)||u.has(S))return;let C=pa(p,E.path,x);if(!C){g.push({key:S,routeId:E.routeId,path:E.path,matches:null,match:null,controller:null});return}let P=e.fetchers.get(S),R=Gl(C,E.path),b=!1;d.has(S)?b=!1:c.has(S)?(c.delete(S),b=!0):P&&P.state!=="idle"&&P.data===void 0?b=o:b=zx(R,Rt({currentUrl:k,currentParams:e.matches[e.matches.length-1].params,nextUrl:T,nextParams:r[r.length-1].params},n,{actionResult:y,actionStatus:D,defaultShouldRevalidate:B?!1:o})),b&&g.push({key:S,routeId:E.routeId,path:E.path,matches:C,match:R,controller:new AbortController})}),[U,g]}function $p(t,e,r){if(t.lazy)return!0;if(!t.loader)return!1;let n=e!=null&&e[t.id]!==void 0,i=r!=null&&r[t.id]!==void 0;return!n&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!n&&!i}function UR(t,e,r){let n=!e||r.route.id!==e.route.id,i=t[r.route.id]===void 0;return n||i}function Z2(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function zx(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function $x(t,e,r,n,i){var s;let a;if(t){let c=n[t];Ge(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),a=c.children}else a=r;let o=e.filter(c=>!a.some(u=>eT(c,u))),l=yh(o,i,[t||"_","patch",String(((s=a)==null?void 0:s.length)||"0")],n);a.push(...l)}function eT(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((r,n)=>{var i;return(i=e.children)==null?void 0:i.some(s=>eT(r,s))}):!1}async function jR(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let i=r[t.id];Ge(i,"No route found in manifest");let s={};for(let a in n){let l=i[a]!==void 0&&a!=="hasErrorBoundary";Qo(!l,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!l&&!uR.has(a)&&(s[a]=n[a])}Object.assign(i,s),Object.assign(i,Rt({},e(i),{lazy:void 0}))}async function BR(t){let{matches:e}=t,r=e.filter(i=>i.shouldLoad);return(await Promise.all(r.map(i=>i.resolve()))).reduce((i,s,a)=>Object.assign(i,{[r[a].route.id]:s}),{})}async function zR(t,e,r,n,i,s,a,o,l,c){let u=s.map(p=>p.route.lazy?jR(p.route,l,o):void 0),h=s.map((p,x)=>{let v=u[x],y=i.some(T=>T.route.id===p.route.id);return Rt({},p,{shouldLoad:y,resolve:async T=>(T&&n.method==="GET"&&(p.route.lazy||p.route.loader)&&(y=!0),y?$R(e,n,p,v,T,c):Promise.resolve({type:pt.data,result:void 0}))})}),d=await t({matches:h,request:n,params:s[0].params,fetcherKey:a,context:c});try{await Promise.all(u)}catch{}return d}async function $R(t,e,r,n,i,s){let a,o,l=c=>{let u,h=new Promise((x,v)=>u=v);o=()=>u(),e.signal.addEventListener("abort",o);let d=x=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+r.route.id+"]"))):c({request:e,params:r.params,context:s},...x!==void 0?[x]:[]),p=(async()=>{try{return{type:"data",result:await(i?i(v=>d(v)):d())}}catch(x){return{type:"error",result:x}}})();return Promise.race([p,h])};try{let c=r.route[t];if(n)if(c){let u,[h]=await Promise.all([l(c).catch(d=>{u=d}),n]);if(u!==void 0)throw u;a=h}else if(await n,c=r.route[t],c)a=await l(c);else if(t==="action"){let u=new URL(e.url),h=u.pathname+u.search;throw nn(405,{method:e.method,pathname:h,routeId:r.route.id})}else return{type:pt.data,result:void 0};else if(c)a=await l(c);else{let u=new URL(e.url),h=u.pathname+u.search;throw nn(404,{pathname:h})}Ge(a.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:pt.error,result:c}}finally{o&&e.signal.removeEventListener("abort",o)}return a}async function HR(t){let{result:e,type:r}=t;if(rT(e)){let h;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(d){return{type:pt.error,error:d}}return r===pt.error?{type:pt.error,error:new Eh(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:pt.data,data:h,statusCode:e.status,headers:e.headers}}if(r===pt.error){if(Yx(e)){var n,i;if(e.data instanceof Error){var s,a;return{type:pt.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}}return{type:pt.error,error:new Eh(((n=e.init)==null?void 0:n.status)||500,void 0,e.data),statusCode:$c(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:pt.error,error:e,statusCode:$c(e)?e.status:void 0}}if(XR(e)){var o,l;return{type:pt.deferred,deferredData:e,statusCode:(o=e.init)==null?void 0:o.status,headers:((l=e.init)==null?void 0:l.headers)&&new Headers(e.init.headers)}}if(Yx(e)){var c,u;return{type:pt.data,data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:pt.data,data:e}}function WR(t,e,r,n,i,s){let a=t.headers.get("Location");if(Ge(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!Sg.test(a)){let o=n.slice(0,n.findIndex(l=>l.route.id===r)+1);a=zp(new URL(e.url),o,i,!0,a,s),t.headers.set("Location",a)}return t}function Hx(t,e,r){if(Sg.test(t)){let n=t,i=n.startsWith("//")?new URL(e.protocol+n):new URL(n),s=is(i.pathname,r)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function fo(t,e,r,n){let i=t.createURL(tT(e)).toString(),s={signal:r};if(n&&qn(n.formMethod)){let{formMethod:a,formEncType:o}=n;s.method=a.toUpperCase(),o==="application/json"?(s.headers=new Headers({"Content-Type":o}),s.body=JSON.stringify(n.json)):o==="text/plain"?s.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?s.body=Hp(n.formData):s.body=n.formData}return new Request(i,s)}function Hp(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function Wx(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function GR(t,e,r,n,i){let s={},a=null,o,l=!1,c={},u=r&&mn(r[1])?r[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let d=h.route.id,p=e[d];if(Ge(!ya(p),"Cannot handle redirect results in processLoaderData"),mn(p)){let x=p.error;u!==void 0&&(x=u,u=void 0),a=a||{};{let v=ma(t,d);a[v.route.id]==null&&(a[v.route.id]=x)}s[d]=void 0,l||(l=!0,o=$c(p.error)?p.error.status:500),p.headers&&(c[d]=p.headers)}else Ds(p)?(n.set(d,p.deferredData),s[d]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(o=p.statusCode),p.headers&&(c[d]=p.headers)):(s[d]=p.data,p.statusCode&&p.statusCode!==200&&!l&&(o=p.statusCode),p.headers&&(c[d]=p.headers))}),u!==void 0&&r&&(a={[r[0]]:u},s[r[0]]=void 0),{loaderData:s,errors:a,statusCode:o||200,loaderHeaders:c}}function Gx(t,e,r,n,i,s,a){let{loaderData:o,errors:l}=GR(e,r,n,a);return i.forEach(c=>{let{key:u,match:h,controller:d}=c,p=s[u];if(Ge(p,"Did not find corresponding fetcher result"),!(d&&d.signal.aborted))if(mn(p)){let x=ma(t.matches,h==null?void 0:h.route.id);l&&l[x.route.id]||(l=Rt({},l,{[x.route.id]:p.error})),t.fetchers.delete(u)}else if(ya(p))Ge(!1,"Unhandled fetcher revalidation redirect");else if(Ds(p))Ge(!1,"Unhandled fetcher deferred data");else{let x=ws(p.data);t.fetchers.set(u,x)}}),{loaderData:o,errors:l}}function Kx(t,e,r,n){let i=Rt({},e);for(let s of r){let a=s.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(i[a]=e[a]):t[a]!==void 0&&s.route.loader&&(i[a]=t[a]),n&&n.hasOwnProperty(a))break}return i}function qx(t){return t?mn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ma(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function Xx(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function nn(t,e){let{pathname:r,routeId:n,method:i,type:s,message:a}=e===void 0?{}:e,o="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&r&&n?l="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(o="Forbidden",l='Route "'+n+'" does not match URL "'+r+'"'):t===404?(o="Not Found",l='No route matches URL "'+r+'"'):t===405&&(o="Method Not Allowed",i&&r&&n?l="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Eh(t||500,o,new Error(l),!0)}function hf(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[n,i]=e[r];if(ya(i))return{key:n,result:i}}}function tT(t){let e=typeof t=="string"?sa(t):t;return Oa(Rt({},e,{hash:""}))}function KR(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function qR(t){return rT(t.result)&&FR.has(t.result.status)}function Ds(t){return t.type===pt.deferred}function mn(t){return t.type===pt.error}function ya(t){return(t&&t.type)===pt.redirect}function Yx(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function XR(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function rT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function YR(t){return DR.has(t.toLowerCase())}function qn(t){return NR.has(t.toLowerCase())}async function QR(t,e,r,n,i){let s=Object.entries(e);for(let a=0;a<s.length;a++){let[o,l]=s[a],c=t.find(d=>(d==null?void 0:d.route.id)===o);if(!c)continue;let u=n.find(d=>d.route.id===c.route.id),h=u!=null&&!Z2(u,c)&&(i&&i[c.route.id])!==void 0;Ds(l)&&h&&await Ag(l,r,!1).then(d=>{d&&(e[o]=d)})}}async function JR(t,e,r){for(let n=0;n<r.length;n++){let{key:i,routeId:s,controller:a}=r[n],o=e[i];t.find(c=>(c==null?void 0:c.route.id)===s)&&Ds(o)&&(Ge(a,"Expected an AbortController for revalidating fetcher deferred result"),await Ag(o,a.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function Ag(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:pt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:pt.error,error:i}}return{type:pt.data,data:t.deferredData.data}}}function Ig(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Gl(t,e){let r=typeof e=="string"?sa(e).search:e.search;if(t[t.length-1].route.index&&Ig(r||""))return t[t.length-1];let n=Y2(t);return n[n.length-1]}function Qx(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:s,json:a}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:a,text:void 0}}}function Ad(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ZR(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ul(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function eN(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ws(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function tN(t,e){try{let r=t.sessionStorage.getItem(J2);if(r){let n=JSON.parse(r);for(let[i,s]of Object.entries(n||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function rN(t,e){if(e.size>0){let r={};for(let[n,i]of e)r[n]=[...i];try{t.sessionStorage.setItem(J2,JSON.stringify(r))}catch(n){Qo(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Th(){return Th=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Th.apply(this,arguments)}const mu=X.createContext(null),Cg=X.createContext(null),hs=X.createContext(null),Rg=X.createContext(null),Ii=X.createContext({outlet:null,matches:[],isDataRoute:!1}),nT=X.createContext(null);function nN(t,e){let{relative:r}=e===void 0?{}:e;hl()||Ge(!1);let{basename:n,navigator:i}=X.useContext(hs),{hash:s,pathname:a,search:o}=x0(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:Yi([n,a])),i.createHref({pathname:l,search:o,hash:s})}function hl(){return X.useContext(Rg)!=null}function Ga(){return hl()||Ge(!1),X.useContext(Rg).location}function iT(t){X.useContext(hs).static||X.useLayoutEffect(t)}function Ka(){let{isDataRoute:t}=X.useContext(Ii);return t?xN():iN()}function iN(){hl()||Ge(!1);let t=X.useContext(mu),{basename:e,future:r,navigator:n}=X.useContext(hs),{matches:i}=X.useContext(Ii),{pathname:s}=Ga(),a=JSON.stringify(g0(i,r.v7_relativeSplatPath)),o=X.useRef(!1);return iT(()=>{o.current=!0}),X.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=v0(c,JSON.parse(a),s,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Yi([e,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[e,n,a,s,t])}const sN=X.createContext(null);function aN(t){let e=X.useContext(Ii).outlet;return e&&X.createElement(sN.Provider,{value:t},e)}function oN(){let{matches:t}=X.useContext(Ii),e=t[t.length-1];return e?e.params:{}}function x0(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=X.useContext(hs),{matches:i}=X.useContext(Ii),{pathname:s}=Ga(),a=JSON.stringify(g0(i,n.v7_relativeSplatPath));return X.useMemo(()=>v0(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function lN(t,e,r,n){hl()||Ge(!1);let{navigator:i}=X.useContext(hs),{matches:s}=X.useContext(Ii),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Ga(),u;u=c;let h=u.pathname||"/",d=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");d="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=pa(t,{pathname:d});return dN(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Yi([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Yi([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n)}function cN(){let t=vN(),e=$c(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),r?X.createElement("pre",{style:i},r):null,null)}const uN=X.createElement(cN,null);class fN extends X.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?X.createElement(Ii.Provider,{value:this.props.routeContext},X.createElement(nT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hN(t){let{routeContext:e,match:r,children:n}=t,i=X.useContext(mu);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),X.createElement(Ii.Provider,{value:e},n)}function dN(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let u=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);u>=0||Ge(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<a.length;u++){let h=a[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:d,errors:p}=r,x=h.route.loader&&d[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||x){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,h,d)=>{let p,x=!1,v=null,y=null;r&&(p=o&&h.route.id?o[h.route.id]:void 0,v=h.route.errorElement||uN,l&&(c<0&&d===0?(_N("route-fallback"),x=!0,y=null):c===d&&(x=!0,y=h.route.hydrateFallbackElement||null)));let k=e.concat(a.slice(0,d+1)),T=()=>{let w;return p?w=v:x?w=y:h.route.Component?w=X.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=u,X.createElement(hN,{match:h,routeContext:{outlet:u,matches:k,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?X.createElement(fN,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:T(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):T()},null)}var sT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(sT||{}),aT=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(aT||{});function pN(t){let e=X.useContext(mu);return e||Ge(!1),e}function mN(t){let e=X.useContext(Cg);return e||Ge(!1),e}function gN(t){let e=X.useContext(Ii);return e||Ge(!1),e}function oT(t){let e=gN(),r=e.matches[e.matches.length-1];return r.route.id||Ge(!1),r.route.id}function vN(){var t;let e=X.useContext(nT),r=mN(aT.UseRouteError),n=oT();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function xN(){let{router:t}=pN(sT.UseNavigateStable),e=oT(),r=X.useRef(!1);return iT(()=>{r.current=!0}),X.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Th({fromRouteId:e},s)))},[t,e])}const Jx={};function _N(t,e,r){Jx[t]||(Jx[t]=!0)}function yN(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function wN(t){let{to:e,replace:r,state:n,relative:i}=t;hl()||Ge(!1);let{future:s,static:a}=X.useContext(hs),{matches:o}=X.useContext(Ii),{pathname:l}=Ga(),c=Ka(),u=v0(e,g0(o,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(u);return X.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:i}),[c,h,i,r,n]),null}function lT(t){return aN(t.context)}function EN(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Xt.Pop,navigator:s,static:a=!1,future:o}=t;hl()&&Ge(!1);let l=e.replace(/^\/*/,"/"),c=X.useMemo(()=>({basename:l,navigator:s,static:a,future:Th({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=sa(n));let{pathname:u="/",search:h="",hash:d="",state:p=null,key:x="default"}=n,v=X.useMemo(()=>{let y=is(u,l);return y==null?null:{location:{pathname:y,search:h,hash:d,state:p,key:x},navigationType:i}},[l,u,h,d,p,x,i]);return v==null?null:X.createElement(hs.Provider,{value:c},X.createElement(Rg.Provider,{children:r,value:v}))}new Promise(()=>{});function TN(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:X.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:X.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:X.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jo(){return Jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jo.apply(this,arguments)}function cT(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function kN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function SN(t,e){return t.button===0&&(!e||e==="_self")&&!kN(t)}const AN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],IN=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],CN="6";try{window.__reactRouterVersion=CN}catch{}function RN(t,e){return MR({basename:void 0,future:Jo({},void 0,{v7_prependBasename:!0}),history:oR({window:void 0}),hydrationData:NN(),routes:t,mapRouteProperties:TN,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function NN(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Jo({},e,{errors:PN(e.errors)})),e}function PN(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new Eh(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let a=new s(i.message);a.stack="",r[n]=a}catch{}}if(r[n]==null){let s=new Error(i.message);s.stack="",r[n]=s}}else r[n]=i;return r}const uT=X.createContext({isTransitioning:!1}),DN=X.createContext(new Map),FN="startTransition",Zx=qI[FN],bN="flushSync",e_=aR[bN];function ON(t){Zx?Zx(t):t()}function jl(t){e_?e_(t):t()}let LN=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function MN(t){let{fallbackElement:e,router:r,future:n}=t,[i,s]=X.useState(r.state),[a,o]=X.useState(),[l,c]=X.useState({isTransitioning:!1}),[u,h]=X.useState(),[d,p]=X.useState(),[x,v]=X.useState(),y=X.useRef(new Map),{v7_startTransition:k}=n||{},T=X.useCallback(E=>{k?ON(E):E()},[k]),w=X.useCallback((E,S)=>{let{deletedFetchers:C,flushSync:P,viewTransitionOpts:R}=S;E.fetchers.forEach((fe,de)=>{fe.data!==void 0&&y.current.set(de,fe.data)}),C.forEach(fe=>y.current.delete(fe));let b=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!R||b){P?jl(()=>s(E)):T(()=>s(E));return}if(P){jl(()=>{d&&(u&&u.resolve(),d.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let fe=r.window.document.startViewTransition(()=>{jl(()=>s(E))});fe.finished.finally(()=>{jl(()=>{h(void 0),p(void 0),o(void 0),c({isTransitioning:!1})})}),jl(()=>p(fe));return}d?(u&&u.resolve(),d.skipTransition(),v({state:E,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(o(E),c({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[r.window,d,u,y,T]);X.useLayoutEffect(()=>r.subscribe(w),[r,w]),X.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new LN)},[l]),X.useEffect(()=>{if(u&&a&&r.window){let E=a,S=u.promise,C=r.window.document.startViewTransition(async()=>{T(()=>s(E)),await S});C.finished.finally(()=>{h(void 0),p(void 0),o(void 0),c({isTransitioning:!1})}),p(C)}},[T,a,u,r.window]),X.useEffect(()=>{u&&a&&i.location.key===a.location.key&&u.resolve()},[u,d,i.location,a]),X.useEffect(()=>{!l.isTransitioning&&x&&(o(x.state),c({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),v(void 0))},[l.isTransitioning,x]),X.useEffect(()=>{},[]);let D=X.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:E=>r.navigate(E),push:(E,S,C)=>r.navigate(E,{state:S,preventScrollReset:C==null?void 0:C.preventScrollReset}),replace:(E,S,C)=>r.navigate(E,{replace:!0,state:S,preventScrollReset:C==null?void 0:C.preventScrollReset})}),[r]),B=r.basename||"/",U=X.useMemo(()=>({router:r,navigator:D,static:!1,basename:B}),[r,D,B]),g=X.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return X.useEffect(()=>yN(n,r.future),[n,r.future]),X.createElement(X.Fragment,null,X.createElement(mu.Provider,{value:U},X.createElement(Cg.Provider,{value:i},X.createElement(DN.Provider,{value:y.current},X.createElement(uT.Provider,{value:l},X.createElement(EN,{basename:B,location:i.location,navigationType:i.historyAction,navigator:D,future:g},i.initialized||r.future.v7_partialHydration?X.createElement(VN,{routes:r.routes,future:r.future,state:i}):e))))),null)}const VN=X.memo(UN);function UN(t){let{routes:e,future:r,state:n}=t;return lN(e,void 0,n,r)}const jN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,it=X.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:h}=e,d=cT(e,AN),{basename:p}=X.useContext(hs),x,v=!1;if(typeof c=="string"&&BN.test(c)&&(x=c,jN))try{let w=new URL(window.location.href),D=c.startsWith("//")?new URL(w.protocol+c):new URL(c),B=is(D.pathname,p);D.origin===w.origin&&B!=null?c=B+D.search+D.hash:v=!0}catch{}let y=nN(c,{relative:i}),k=$N(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:h});function T(w){n&&n(w),w.defaultPrevented||k(w)}return X.createElement("a",Jo({},d,{href:x||y,onClick:v||s?n:T,ref:r,target:l}))}),ua=X.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:c,children:u}=e,h=cT(e,IN),d=x0(l,{relative:h.relative}),p=Ga(),x=X.useContext(Cg),{navigator:v,basename:y}=X.useContext(hs),k=x!=null&&HN(d)&&c===!0,T=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,w=p.pathname,D=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(w=w.toLowerCase(),D=D?D.toLowerCase():null,T=T.toLowerCase()),D&&y&&(D=is(D,y)||D);const B=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let U=w===T||!a&&w.startsWith(T)&&w.charAt(B)==="/",g=D!=null&&(D===T||!a&&D.startsWith(T)&&D.charAt(T.length)==="/"),E={isActive:U,isPending:g,isTransitioning:k},S=U?n:void 0,C;typeof s=="function"?C=s(E):C=[s,U?"active":null,g?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(E):o;return X.createElement(it,Jo({},h,{"aria-current":S,className:C,ref:r,style:P,to:l,viewTransition:c}),typeof u=="function"?u(E):u)});var Wp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Wp||(Wp={}));var t_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(t_||(t_={}));function zN(t){let e=X.useContext(mu);return e||Ge(!1),e}function $N(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=Ka(),c=Ga(),u=x0(t,{relative:a});return X.useCallback(h=>{if(SN(h,r)){h.preventDefault();let d=n!==void 0?n:Oa(c)===Oa(u);l(t,{replace:d,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,u,n,i,r,t,s,a,o])}function HN(t,e){e===void 0&&(e={});let r=X.useContext(uT);r==null&&Ge(!1);let{basename:n}=zN(Wp.useViewTransitionState),i=x0(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=is(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=is(r.nextLocation.pathname,n)||r.nextLocation.pathname;return wh(i.pathname,a)!=null||wh(i.pathname,s)!=null}var r_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},WN=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],o=t[r++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},hT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,h=(s&3)<<4|o>>4;let d=(o&15)<<2|c>>6,p=c&63;l||(p=64,a||(d=64)),n.push(r[u],r[h],r[d],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const c=i<t.length?r[t.charAt(i)]:64;++i;const h=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||h==null)throw new GN;const d=s<<2|o>>4;if(n.push(d),c!==64){const p=o<<4&240|c>>2;if(n.push(p),h!==64){const x=c<<6&192|h;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KN=function(t){const e=fT(t);return hT.encodeByteArray(e,!0)},kh=function(t){return KN(t).replace(/\./g,"")},dT=function(t){try{return hT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=()=>qN().__FIREBASE_DEFAULTS__,YN=()=>{if(typeof process>"u"||typeof r_>"u")return;const t=r_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dT(t[1]);return e&&JSON.parse(e)},_0=()=>{try{return XN()||YN()||QN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pT=t=>{var e,r;return(r=(e=_0())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},Ng=t=>{const e=pT(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},mT=()=>{var t;return(t=_0())===null||t===void 0?void 0:t.config},gT=t=>{var e;return(e=_0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[kh(JSON.stringify(r)),kh(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jr())}function eP(){var t;const e=(t=_0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iP(){const t=jr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sP(){return!eP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aP(){try{return typeof indexedDB=="object"}catch{return!1}}function oP(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP="FirebaseError";class Ci extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=lP,Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gu.prototype.create)}}class gu{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?cP(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Ci(i,o,n)}}function cP(t,e){return t.replace(uP,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const uP=/\{\$([^}]+)}/g;function fP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sh(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(n_(s)&&n_(a)){if(!Sh(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function n_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function hP(t,e){const r=new dP(t,e);return r.subscribe.bind(r)}class dP{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");pP(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Id),i.error===void 0&&(i.error=Id),i.complete===void 0&&(i.complete=Id);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pP(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Id(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t){return t&&t._delegate?t._delegate:t}class ss{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new JN;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vP(e))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=da){return this.instances.has(e)}getOptions(e=da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:gP(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=da){return this.component?this.component.multipleInstances?e:da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gP(t){return t===da?void 0:t}function vP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new mP(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ye||(Ye={}));const _P={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},yP=Ye.INFO,wP={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},EP=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=wP[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pg{constructor(e){this.name=e,this._logLevel=yP,this._logHandler=EP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_P[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const TP=(t,e)=>e.some(r=>t instanceof r);let i_,s_;function kP(){return i_||(i_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SP(){return s_||(s_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xT=new WeakMap,Gp=new WeakMap,_T=new WeakMap,Cd=new WeakMap,Dg=new WeakMap;function AP(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(Hs(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&xT.set(r,t)}).catch(()=>{}),Dg.set(e,t),e}function IP(t){if(Gp.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Gp.set(t,e)}let Kp={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Gp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_T.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Hs(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CP(t){Kp=t(Kp)}function RP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Rd(this),e,...r);return _T.set(n,e.sort?e.sort():[e]),Hs(n)}:SP().includes(t)?function(...e){return t.apply(Rd(this),e),Hs(xT.get(this))}:function(...e){return Hs(t.apply(Rd(this),e))}}function NP(t){return typeof t=="function"?RP(t):(t instanceof IDBTransaction&&IP(t),TP(t,kP())?new Proxy(t,Kp):t)}function Hs(t){if(t instanceof IDBRequest)return AP(t);if(Cd.has(t))return Cd.get(t);const e=NP(t);return e!==t&&(Cd.set(t,e),Dg.set(e,t)),e}const Rd=t=>Dg.get(t);function PP(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Hs(a);return n&&a.addEventListener("upgradeneeded",l=>{n(Hs(a.result),l.oldVersion,l.newVersion,Hs(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const DP=["get","getKey","getAll","getAllKeys","count"],FP=["put","add","delete","clear"],Nd=new Map;function a_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nd.get(e))return Nd.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=FP.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||DP.includes(r)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),i&&l.done]))[0]};return Nd.set(e,s),s}CP(t=>({...t,get:(e,r,n)=>a_(e,r)||t.get(e,r,n),has:(e,r)=>!!a_(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(OP(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function OP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qp="@firebase/app",o_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new Pg("@firebase/app"),LP="@firebase/app-compat",MP="@firebase/analytics-compat",VP="@firebase/analytics",UP="@firebase/app-check-compat",jP="@firebase/app-check",BP="@firebase/auth",zP="@firebase/auth-compat",$P="@firebase/database",HP="@firebase/data-connect",WP="@firebase/database-compat",GP="@firebase/functions",KP="@firebase/functions-compat",qP="@firebase/installations",XP="@firebase/installations-compat",YP="@firebase/messaging",QP="@firebase/messaging-compat",JP="@firebase/performance",ZP="@firebase/performance-compat",eD="@firebase/remote-config",tD="@firebase/remote-config-compat",rD="@firebase/storage",nD="@firebase/storage-compat",iD="@firebase/firestore",sD="@firebase/vertexai-preview",aD="@firebase/firestore-compat",oD="firebase",lD="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="[DEFAULT]",cD={[qp]:"fire-core",[LP]:"fire-core-compat",[VP]:"fire-analytics",[MP]:"fire-analytics-compat",[jP]:"fire-app-check",[UP]:"fire-app-check-compat",[BP]:"fire-auth",[zP]:"fire-auth-compat",[$P]:"fire-rtdb",[HP]:"fire-data-connect",[WP]:"fire-rtdb-compat",[GP]:"fire-fn",[KP]:"fire-fn-compat",[qP]:"fire-iid",[XP]:"fire-iid-compat",[YP]:"fire-fcm",[QP]:"fire-fcm-compat",[JP]:"fire-perf",[ZP]:"fire-perf-compat",[eD]:"fire-rc",[tD]:"fire-rc-compat",[rD]:"fire-gcs",[nD]:"fire-gcs-compat",[iD]:"fire-fst",[aD]:"fire-fst-compat",[sD]:"fire-vertex","fire-js":"fire-js",[oD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Map,uD=new Map,Yp=new Map;function l_(t,e){try{t.container.addComponent(e)}catch(r){as.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Ys(t){const e=t.name;if(Yp.has(e))return as.debug(`There were multiple attempts to register component ${e}.`),!1;Yp.set(e,t);for(const r of Ah.values())l_(r,t);for(const r of uD.values())l_(r,t);return!0}function xu(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Hi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new gu("app","Firebase",fD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=lD;function yT(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Xp,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Ws.create("bad-app-name",{appName:String(i)});if(r||(r=mT()),!r)throw Ws.create("no-options");const s=Ah.get(i);if(s){if(Sh(r,s.options)&&Sh(n,s.config))return s;throw Ws.create("duplicate-app",{appName:i})}const a=new xP(i);for(const l of Yp.values())a.addComponent(l);const o=new hD(r,n,a);return Ah.set(i,o),o}function y0(t=Xp){const e=Ah.get(t);if(!e&&t===Xp&&mT())return yT();if(!e)throw Ws.create("no-app",{appName:t});return e}function On(t,e,r){var n;let i=(n=cD[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),as.warn(o.join(" "));return}Ys(new ss(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="firebase-heartbeat-database",pD=1,Hc="firebase-heartbeat-store";let Pd=null;function wT(){return Pd||(Pd=PP(dD,pD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hc)}catch(r){console.warn(r)}}}}).catch(t=>{throw Ws.create("idb-open",{originalErrorMessage:t.message})})),Pd}async function mD(t){try{const r=(await wT()).transaction(Hc),n=await r.objectStore(Hc).get(ET(t));return await r.done,n}catch(e){if(e instanceof Ci)as.warn(e.message);else{const r=Ws.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});as.warn(r.message)}}}async function c_(t,e){try{const n=(await wT()).transaction(Hc,"readwrite");await n.objectStore(Hc).put(e,ET(t)),await n.done}catch(r){if(r instanceof Ci)as.warn(r.message);else{const n=Ws.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});as.warn(n.message)}}}function ET(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=1024,vD=30*24*60*60*1e3;class xD{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new yD(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=u_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=vD}),this._storage.overwrite(this._heartbeatsCache))}catch(n){as.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=u_(),{heartbeatsToSend:n,unsentEntries:i}=_D(this._heartbeatsCache.heartbeats),s=kh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return as.warn(r),""}}}function u_(){return new Date().toISOString().substring(0,10)}function _D(t,e=gD){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),f_(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),f_(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class yD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aP()?oP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await mD(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return c_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return c_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function f_(t){return kh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t){Ys(new ss("platform-logger",e=>new bP(e),"PRIVATE")),Ys(new ss("heartbeat",e=>new xD(e),"PRIVATE")),On(qp,o_,t),On(qp,o_,"esm2017"),On("fire-js","")}wD("");function Fg(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function TT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ED=TT,kT=new gu("auth","Firebase",TT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new Pg("@firebase/auth");function TD(t,...e){Ih.logLevel<=Ye.WARN&&Ih.warn(`Auth (${qa}): ${t}`,...e)}function Bf(t,...e){Ih.logLevel<=Ye.ERROR&&Ih.error(`Auth (${qa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t,...e){throw Og(t,...e)}function ni(t,...e){return Og(t,...e)}function bg(t,e,r){const n=Object.assign(Object.assign({},ED()),{[e]:r});return new gu("auth","Firebase",n).create(e,{appName:t.name})}function Aa(t){return bg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kD(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&Ti(t,"argument-error"),bg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Og(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return kT.create(t,...e)}function Le(t,e,...r){if(!t)throw Og(e,...r)}function Wi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bf(e),new Error(e)}function os(t,e){t||Wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function SD(){return h_()==="http:"||h_()==="https:"}function h_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SD()||rP()||"connection"in navigator)?navigator.onLine:!0}function ID(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,r){this.shortDelay=e,this.longDelay=r,os(r>e,"Short delay should be less than long delay!"),this.isMobile=ZN()||nP()}get(){return AD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(t,e){os(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=new _u(3e4,6e4);function Mg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function dl(t,e,r,n,i={}){return AT(t,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const o=vu(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return tP()||(c.referrerPolicy="no-referrer"),ST.fetch()(IT(t,t.config.apiHost,r,o),c)})}async function AT(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},CD),e);try{const i=new PD(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw df(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw df(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw df(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw df(t,"user-disabled",a);const u=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw bg(t,u,c);Ti(t,u)}}catch(i){if(i instanceof Ci)throw i;Ti(t,"network-request-failed",{message:String(i)})}}async function ND(t,e,r,n,i={}){const s=await dl(t,e,r,n,i);return"mfaPendingCredential"in s&&Ti(t,"multi-factor-auth-required",{_serverResponse:s}),s}function IT(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?Lg(t.config,i):`${t.config.apiScheme}://${i}`}class PD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(ni(this.auth,"network-request-failed")),RD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function df(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=ni(t,e,n);return i.customData._tokenResponse=r,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(t,e){return dl(t,"POST","/v1/accounts:delete",e)}async function CT(t,e){return dl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RT(t,e=!1){const r=Jt(t),n=await r.getIdToken(e),i=Vg(n);Le(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:uc(Dd(i.auth_time)),issuedAtTime:uc(Dd(i.iat)),expirationTime:uc(Dd(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Dd(t){return Number(t)*1e3}function Vg(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Bf("JWT malformed, contained fewer than 3 sections"),null;try{const i=dT(r);return i?JSON.parse(i):(Bf("Failed to decode base64 JWT payload"),null)}catch(i){return Bf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function d_(t){const e=Vg(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Ci&&FD(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function FD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=uc(this.lastLoginAt),this.creationTime=uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Wc(t,CT(r,{idToken:n}));Le(i==null?void 0:i.users.length,r,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?NT(s.providerUserInfo):[],o=LD(t.providerData,a),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Jp(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function OD(t){const e=Jt(t);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LD(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function NT(t){return t.map(e=>{var{providerId:r}=e,n=Fg(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(t,e){const r=await AT(t,{},async()=>{const n=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=IT(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",ST.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function VD(t,e){return dl(t,"POST","/v2/accounts:revokeToken",Mg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const r=d_(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await MD(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,a=new Mo;return n&&(Le(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(Le(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Le(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gi{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,s=Fg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Jp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await Wc(this,this.stsTokenManager.getToken(this.auth,e));return Le(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return RT(this,e)}reload(){return OD(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Ch(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hi(this.auth.app))return Promise.reject(Aa(this.auth));const e=await this.getIdToken();return await Wc(this,DD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,s,a,o,l,c,u;const h=(n=r.displayName)!==null&&n!==void 0?n:void 0,d=(i=r.email)!==null&&i!==void 0?i:void 0,p=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,x=(a=r.photoURL)!==null&&a!==void 0?a:void 0,v=(o=r.tenantId)!==null&&o!==void 0?o:void 0,y=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,k=(c=r.createdAt)!==null&&c!==void 0?c:void 0,T=(u=r.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:D,isAnonymous:B,providerData:U,stsTokenManager:g}=r;Le(w&&g,e,"internal-error");const E=Mo.fromJSON(this.name,g);Le(typeof w=="string",e,"internal-error"),_s(h,e.name),_s(d,e.name),Le(typeof D=="boolean",e,"internal-error"),Le(typeof B=="boolean",e,"internal-error"),_s(p,e.name),_s(x,e.name),_s(v,e.name),_s(y,e.name),_s(k,e.name),_s(T,e.name);const S=new Gi({uid:w,auth:e,email:d,emailVerified:D,displayName:h,isAnonymous:B,photoURL:x,phoneNumber:p,tenantId:v,stsTokenManager:E,createdAt:k,lastLoginAt:T});return U&&Array.isArray(U)&&(S.providerData=U.map(C=>Object.assign({},C))),y&&(S._redirectEventId=y),S}static async _fromIdTokenResponse(e,r,n=!1){const i=new Mo;i.updateFromServerResponse(r);const s=new Gi({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Ch(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Le(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?NT(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Mo;o.updateFromIdToken(n);const l=new Gi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Jp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=new Map;function Ki(t){os(t instanceof Function,"Expected a class definition");let e=p_.get(t);return e?(os(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,p_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}PT.type="NONE";const m_=PT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(t,e,r){return`firebase:${t}:${e}:${r}`}class Vo{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=zf(this.userKey,i.apiKey,s),this.fullPersistenceKey=zf("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Gi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Vo(Ki(m_),e,n);const i=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ki(m_);const a=zf(n,e.config.apiKey,e.name);let o=null;for(const c of r)try{const u=await c._get(a);if(u){const h=Gi._fromJSON(e,u);c!==s&&(o=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Vo(s,e,n):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(r.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new Vo(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MT(e))return"Blackberry";if(VT(e))return"Webos";if(FT(e))return"Safari";if((e.includes("chrome/")||bT(e))&&!e.includes("edge/"))return"Chrome";if(LT(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function DT(t=jr()){return/firefox\//i.test(t)}function FT(t=jr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bT(t=jr()){return/crios\//i.test(t)}function OT(t=jr()){return/iemobile/i.test(t)}function LT(t=jr()){return/android/i.test(t)}function MT(t=jr()){return/blackberry/i.test(t)}function VT(t=jr()){return/webos/i.test(t)}function Ug(t=jr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UD(t=jr()){var e;return Ug(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jD(){return iP()&&document.documentMode===10}function UT(t=jr()){return Ug(t)||LT(t)||VT(t)||MT(t)||/windows phone/i.test(t)||OT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t,e=[]){let r;switch(t){case"Browser":r=g_(jr());break;case"Worker":r=`${g_(jr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${qa}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(t,e={}){return dl(t,"GET","/v2/passwordPolicy",Mg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=6;class HD{constructor(e){var r,n,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=a.minPasswordLength)!==null&&r!==void 0?r:$D,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v_(this),this.idTokenSubscription=new v_(this),this.beforeStateQueue=new BD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Ki(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Vo.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await CT(this,{idToken:e}),n=await Gi._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Hi(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ID()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hi(this.app))return Promise.reject(Aa(this));const r=e?Jt(e):null;return r&&Le(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hi(this.app)?Promise.reject(Aa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hi(this.app)?Promise.reject(Aa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zD(this),r=new HD(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gu("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await VD(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Ki(e)||this._popupRedirectResolver;Le(r,this,"argument-error"),this.redirectPersistenceManager=await Vo.create(this,[Ki(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{a=!0,l()}}else{const l=e.addObserver(r);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&TD(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function w0(t){return Jt(t)}class v_{constructor(e){this.auth=e,this.observer=null,this.addObserver=hP(r=>this.observer=r)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GD(t){jg=t}function KD(t){return jg.loadJS(t)}function qD(){return jg.gapiScript}function XD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t,e){const r=xu(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(Sh(s,e??{}))return i;Ti(i,"already-initialized")}return r.initialize({options:e})}function QD(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Ki);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function JD(t,e,r){const n=w0(t);Le(n._canInitEmulator,n,"emulator-config-failed"),Le(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=BT(e),{host:a,port:o}=ZD(e),l=o===null?"":`:${o}`;n.config.emulator={url:`${s}//${a}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),eF()}function BT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ZD(t){const e=BT(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:x_(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:x_(a)}}}function x_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function eF(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,r){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(t,e){return ND(t,"POST","/v1/accounts:signInWithIdp",Mg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF="http://localhost";class La extends zT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new La(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Ti("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,s=Fg(r,["providerId","signInMethod"]);if(!n||!i)return null;const a=new La(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return Uo(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Uo(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Uo(e,r)}buildRequest(){const e={requestUri:tF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=vu(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends Bg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends yu{constructor(){super("facebook.com")}static credential(e){return La._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.FACEBOOK_SIGN_IN_METHOD="facebook.com";As.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return La._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return vi.credential(r,n)}catch{return null}}}vi.GOOGLE_SIGN_IN_METHOD="google.com";vi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends yu{constructor(){super("github.com")}static credential(e){return La._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.GITHUB_SIGN_IN_METHOD="github.com";Is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends yu{constructor(){super("twitter.com")}static credential(e,r){return La._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Cs.credential(r,n)}catch{return null}}}Cs.TWITTER_SIGN_IN_METHOD="twitter.com";Cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await Gi._fromIdTokenResponse(e,n,i),a=__(n);return new Zo({user:s,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=__(n);return new Zo({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function __(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends Ci{constructor(e,r,n,i){var s;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Rh(e,r,n,i)}}function $T(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(t,s,e,n):s})}async function rF(t,e,r=!1){const n=await Wc(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Zo._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nF(t,e,r=!1){const{auth:n}=t;if(Hi(n.app))return Promise.reject(Aa(n));const i="reauthenticate";try{const s=await Wc(t,$T(n,i,e,t),r);Le(s.idToken,n,"internal-error");const a=Vg(s.idToken);Le(a,n,"internal-error");const{sub:o}=a;return Le(t.uid===o,n,"user-mismatch"),Zo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ti(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iF(t,e,r=!1){if(Hi(t.app))return Promise.reject(Aa(t));const n="signIn",i=await $T(t,n,e),s=await Zo._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}function sF(t,e,r,n){return Jt(t).onIdTokenChanged(e,r,n)}function aF(t,e,r){return Jt(t).beforeAuthStateChanged(e,r)}function HT(t,e,r,n){return Jt(t).onAuthStateChanged(e,r,n)}function oF(t){return Jt(t).signOut()}const Nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF=1e3,cF=10;class GT extends WT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);jD()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,cF):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},lF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}GT.type="LOCAL";const uF=GT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT extends WT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}KT.type="SESSION";const qT=KT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new E0(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async c=>c(r.origin,s)),l=await fF(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}E0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=zg("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(d.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return window}function dF(t){yi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(){return typeof yi().WorkerGlobalScope<"u"&&typeof yi().importScripts=="function"}async function pF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function gF(){return XT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="firebaseLocalStorageDb",vF=1,Ph="firebaseLocalStorage",QT="fbase_key";class wu{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function T0(t,e){return t.transaction([Ph],e?"readwrite":"readonly").objectStore(Ph)}function xF(){const t=indexedDB.deleteDatabase(YT);return new wu(t).toPromise()}function Zp(){const t=indexedDB.open(YT,vF);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Ph,{keyPath:QT})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Ph)?e(n):(n.close(),await xF(),e(await Zp()))})})}async function y_(t,e,r){const n=T0(t,!0).put({[QT]:e,value:r});return new wu(n).toPromise()}async function _F(t,e){const r=T0(t,!1).get(e),n=await new wu(r).toPromise();return n===void 0?null:n.value}function w_(t,e){const r=T0(t,!0).delete(e);return new wu(r).toPromise()}const yF=800,wF=3;class JT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zp(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>wF)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=E0._getInstance(gF()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await pF(),!this.activeServiceWorker)return;this.sender=new hF(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zp();return await y_(e,Nh,"1"),await w_(e,Nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>y_(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>_F(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>w_(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=T0(i,!1).getAll();return new wu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JT.type="LOCAL";const EF=JT;new _u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(t,e){return e?Ki(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g extends zT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uo(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Uo(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function TF(t){return iF(t.auth,new $g(t),t.bypassAuthState)}function kF(t){const{auth:e,user:r}=t;return Le(r,e,"internal-error"),nF(r,new $g(t),t.bypassAuthState)}async function SF(t){const{auth:e,user:r}=t;return Le(r,e,"internal-error"),rF(r,new $g(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TF;case"linkViaPopup":case"linkViaRedirect":return SF;case"reauthViaPopup":case"reauthViaRedirect":return kF;default:Ti(this.auth,"internal-error")}}resolve(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF=new _u(2e3,1e4);async function tk(t,e,r){if(Hi(t.app))return Promise.reject(ni(t,"operation-not-supported-in-this-environment"));const n=w0(t);kD(t,e,Bg);const i=ZT(n,r);return new wa(n,"signInViaPopup",e,i).executeNotNull()}class wa extends ek{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,wa.currentPopupAction&&wa.currentPopupAction.cancel(),wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){os(this.filter.length===1,"Popup operations only handle one event");const e=zg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AF.get())};e()}}wa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF="pendingRedirect",$f=new Map;class CF extends ek{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=$f.get(this.auth._key());if(!e){try{const n=await RF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}$f.set(this.auth._key(),e)}return this.bypassAuthState||$f.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RF(t,e){const r=DF(e),n=PF(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function NF(t,e){$f.set(t._key(),e)}function PF(t){return Ki(t._redirectPersistence)}function DF(t){return zf(IF,t.config.apiKey,t.name)}async function FF(t,e,r=!1){if(Hi(t.app))return Promise.reject(Aa(t));const n=w0(t),i=ZT(n,e),a=await new CF(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF=10*60*1e3;class OF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LF(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!rk(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(ni(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bF&&this.cachedEventUids.clear(),this.cachedEventUids.has(E_(e))}saveEventToCache(e){this.cachedEventUids.add(E_(e)),this.lastProcessedEventTime=Date.now()}}function E_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function LF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MF(t,e={}){return dl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UF=/^https?/;async function jF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await MF(t);for(const r of e)try{if(BF(r))return}catch{}Ti(t,"unauthorized-domain")}function BF(t){const e=Qp(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!UF.test(r))return!1;if(VF.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=new _u(3e4,6e4);function T_(){const t=yi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function $F(t){return new Promise((e,r)=>{var n,i,s;function a(){T_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{T_(),r(ni(t,"network-request-failed"))},timeout:zF.get()})}if(!((i=(n=yi().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=yi().gapi)===null||s===void 0)&&s.load)a();else{const o=XD("iframefcb");return yi()[o]=()=>{gapi.load?a():r(ni(t,"network-request-failed"))},KD(`${qD()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw Hf=null,e})}let Hf=null;function HF(t){return Hf=Hf||$F(t),Hf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=new _u(5e3,15e3),GF="__/auth/iframe",KF="emulator/auth/iframe",qF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YF(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Lg(e,KF):`https://${t.config.authDomain}/${GF}`,n={apiKey:e.apiKey,appName:t.name,v:qa},i=XF.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${vu(n).slice(1)}`}async function QF(t){const e=await HF(t),r=yi().gapi;return Le(r,t,"internal-error"),e.open({where:document.body,url:YF(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qF,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=ni(t,"network-request-failed"),o=yi().setTimeout(()=>{s(a)},WF.get());function l(){yi().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZF=500,e3=600,t3="_blank",r3="http://localhost";class k_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function n3(t,e,r,n=ZF,i=e3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l=Object.assign(Object.assign({},JF),{width:n.toString(),height:i.toString(),top:s,left:a}),c=jr().toLowerCase();r&&(o=bT(c)?t3:r),DT(c)&&(e=e||r3,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[p,x])=>`${d}${p}=${x},`,"");if(UD(c)&&o!=="_self")return i3(e||"",o),new k_(null);const h=window.open(e||"",o,u);Le(h,t,"popup-blocked");try{h.focus()}catch{}return new k_(h)}function i3(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3="__/auth/handler",a3="emulator/auth/handler",o3=encodeURIComponent("fac");async function S_(t,e,r,n,i,s){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:qa,eventId:i};if(e instanceof Bg){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",fP(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))a[u]=h}if(e instanceof yu){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(a.scopes=u.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${o3}=${encodeURIComponent(l)}`:"";return`${l3(t)}?${vu(o).slice(1)}${c}`}function l3({config:t}){return t.emulator?Lg(t,a3):`https://${t.authDomain}/${s3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="webStorageSupport";class c3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qT,this._completeRedirectFn=FF,this._overrideRedirectResult=NF}async _openPopup(e,r,n,i){var s;os((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await S_(e,r,n,Qp(),i);return n3(e,a,zg())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await S_(e,r,n,Qp(),i);return dF(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(os(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await QF(e),n=new OF(e);return r.register("authEvent",i=>(Le(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Fd,{type:Fd},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Fd];a!==void 0&&r(!!a),Ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=jF(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return UT()||FT()||Ug()}}const u3=c3;var A_="@firebase/auth",I_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function d3(t){Ys(new ss("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;Le(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jT(t)},c=new WD(n,i,s,l);return QD(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Ys(new ss("auth-internal",e=>{const r=w0(e.getProvider("auth").getImmediate());return(n=>new f3(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),On(A_,I_,h3(t)),On(A_,I_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=5*60,m3=gT("authIdTokenMaxAge")||p3;let C_=null;const g3=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>m3)return;const i=r==null?void 0:r.token;C_!==i&&(C_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function v3(t=y0()){const e=xu(t,"auth");if(e.isInitialized())return e.getImmediate();const r=YD(t,{popupRedirectResolver:u3,persistence:[EF,uF,qT]}),n=gT("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=g3(s.toString());aF(r,a,()=>a(r.currentUser)),sF(r,o=>a(o))}}const i=pT("auth");return i&&JD(r,`http://${i}`),r}function x3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}GD({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=ni("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",x3().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});d3("Browser");var R_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ia,nk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(g,E){function S(){}S.prototype=E.prototype,g.D=E.prototype,g.prototype=new S,g.prototype.constructor=g,g.C=function(C,P,R){for(var b=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)b[fe-2]=arguments[fe];return E.prototype[P].apply(C,b)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(g,E,S){S||(S=0);var C=Array(16);if(typeof E=="string")for(var P=0;16>P;++P)C[P]=E.charCodeAt(S++)|E.charCodeAt(S++)<<8|E.charCodeAt(S++)<<16|E.charCodeAt(S++)<<24;else for(P=0;16>P;++P)C[P]=E[S++]|E[S++]<<8|E[S++]<<16|E[S++]<<24;E=g.g[0],S=g.g[1],P=g.g[2];var R=g.g[3],b=E+(R^S&(P^R))+C[0]+3614090360&4294967295;E=S+(b<<7&4294967295|b>>>25),b=R+(P^E&(S^P))+C[1]+3905402710&4294967295,R=E+(b<<12&4294967295|b>>>20),b=P+(S^R&(E^S))+C[2]+606105819&4294967295,P=R+(b<<17&4294967295|b>>>15),b=S+(E^P&(R^E))+C[3]+3250441966&4294967295,S=P+(b<<22&4294967295|b>>>10),b=E+(R^S&(P^R))+C[4]+4118548399&4294967295,E=S+(b<<7&4294967295|b>>>25),b=R+(P^E&(S^P))+C[5]+1200080426&4294967295,R=E+(b<<12&4294967295|b>>>20),b=P+(S^R&(E^S))+C[6]+2821735955&4294967295,P=R+(b<<17&4294967295|b>>>15),b=S+(E^P&(R^E))+C[7]+4249261313&4294967295,S=P+(b<<22&4294967295|b>>>10),b=E+(R^S&(P^R))+C[8]+1770035416&4294967295,E=S+(b<<7&4294967295|b>>>25),b=R+(P^E&(S^P))+C[9]+2336552879&4294967295,R=E+(b<<12&4294967295|b>>>20),b=P+(S^R&(E^S))+C[10]+4294925233&4294967295,P=R+(b<<17&4294967295|b>>>15),b=S+(E^P&(R^E))+C[11]+2304563134&4294967295,S=P+(b<<22&4294967295|b>>>10),b=E+(R^S&(P^R))+C[12]+1804603682&4294967295,E=S+(b<<7&4294967295|b>>>25),b=R+(P^E&(S^P))+C[13]+4254626195&4294967295,R=E+(b<<12&4294967295|b>>>20),b=P+(S^R&(E^S))+C[14]+2792965006&4294967295,P=R+(b<<17&4294967295|b>>>15),b=S+(E^P&(R^E))+C[15]+1236535329&4294967295,S=P+(b<<22&4294967295|b>>>10),b=E+(P^R&(S^P))+C[1]+4129170786&4294967295,E=S+(b<<5&4294967295|b>>>27),b=R+(S^P&(E^S))+C[6]+3225465664&4294967295,R=E+(b<<9&4294967295|b>>>23),b=P+(E^S&(R^E))+C[11]+643717713&4294967295,P=R+(b<<14&4294967295|b>>>18),b=S+(R^E&(P^R))+C[0]+3921069994&4294967295,S=P+(b<<20&4294967295|b>>>12),b=E+(P^R&(S^P))+C[5]+3593408605&4294967295,E=S+(b<<5&4294967295|b>>>27),b=R+(S^P&(E^S))+C[10]+38016083&4294967295,R=E+(b<<9&4294967295|b>>>23),b=P+(E^S&(R^E))+C[15]+3634488961&4294967295,P=R+(b<<14&4294967295|b>>>18),b=S+(R^E&(P^R))+C[4]+3889429448&4294967295,S=P+(b<<20&4294967295|b>>>12),b=E+(P^R&(S^P))+C[9]+568446438&4294967295,E=S+(b<<5&4294967295|b>>>27),b=R+(S^P&(E^S))+C[14]+3275163606&4294967295,R=E+(b<<9&4294967295|b>>>23),b=P+(E^S&(R^E))+C[3]+4107603335&4294967295,P=R+(b<<14&4294967295|b>>>18),b=S+(R^E&(P^R))+C[8]+1163531501&4294967295,S=P+(b<<20&4294967295|b>>>12),b=E+(P^R&(S^P))+C[13]+2850285829&4294967295,E=S+(b<<5&4294967295|b>>>27),b=R+(S^P&(E^S))+C[2]+4243563512&4294967295,R=E+(b<<9&4294967295|b>>>23),b=P+(E^S&(R^E))+C[7]+1735328473&4294967295,P=R+(b<<14&4294967295|b>>>18),b=S+(R^E&(P^R))+C[12]+2368359562&4294967295,S=P+(b<<20&4294967295|b>>>12),b=E+(S^P^R)+C[5]+4294588738&4294967295,E=S+(b<<4&4294967295|b>>>28),b=R+(E^S^P)+C[8]+2272392833&4294967295,R=E+(b<<11&4294967295|b>>>21),b=P+(R^E^S)+C[11]+1839030562&4294967295,P=R+(b<<16&4294967295|b>>>16),b=S+(P^R^E)+C[14]+4259657740&4294967295,S=P+(b<<23&4294967295|b>>>9),b=E+(S^P^R)+C[1]+2763975236&4294967295,E=S+(b<<4&4294967295|b>>>28),b=R+(E^S^P)+C[4]+1272893353&4294967295,R=E+(b<<11&4294967295|b>>>21),b=P+(R^E^S)+C[7]+4139469664&4294967295,P=R+(b<<16&4294967295|b>>>16),b=S+(P^R^E)+C[10]+3200236656&4294967295,S=P+(b<<23&4294967295|b>>>9),b=E+(S^P^R)+C[13]+681279174&4294967295,E=S+(b<<4&4294967295|b>>>28),b=R+(E^S^P)+C[0]+3936430074&4294967295,R=E+(b<<11&4294967295|b>>>21),b=P+(R^E^S)+C[3]+3572445317&4294967295,P=R+(b<<16&4294967295|b>>>16),b=S+(P^R^E)+C[6]+76029189&4294967295,S=P+(b<<23&4294967295|b>>>9),b=E+(S^P^R)+C[9]+3654602809&4294967295,E=S+(b<<4&4294967295|b>>>28),b=R+(E^S^P)+C[12]+3873151461&4294967295,R=E+(b<<11&4294967295|b>>>21),b=P+(R^E^S)+C[15]+530742520&4294967295,P=R+(b<<16&4294967295|b>>>16),b=S+(P^R^E)+C[2]+3299628645&4294967295,S=P+(b<<23&4294967295|b>>>9),b=E+(P^(S|~R))+C[0]+4096336452&4294967295,E=S+(b<<6&4294967295|b>>>26),b=R+(S^(E|~P))+C[7]+1126891415&4294967295,R=E+(b<<10&4294967295|b>>>22),b=P+(E^(R|~S))+C[14]+2878612391&4294967295,P=R+(b<<15&4294967295|b>>>17),b=S+(R^(P|~E))+C[5]+4237533241&4294967295,S=P+(b<<21&4294967295|b>>>11),b=E+(P^(S|~R))+C[12]+1700485571&4294967295,E=S+(b<<6&4294967295|b>>>26),b=R+(S^(E|~P))+C[3]+2399980690&4294967295,R=E+(b<<10&4294967295|b>>>22),b=P+(E^(R|~S))+C[10]+4293915773&4294967295,P=R+(b<<15&4294967295|b>>>17),b=S+(R^(P|~E))+C[1]+2240044497&4294967295,S=P+(b<<21&4294967295|b>>>11),b=E+(P^(S|~R))+C[8]+1873313359&4294967295,E=S+(b<<6&4294967295|b>>>26),b=R+(S^(E|~P))+C[15]+4264355552&4294967295,R=E+(b<<10&4294967295|b>>>22),b=P+(E^(R|~S))+C[6]+2734768916&4294967295,P=R+(b<<15&4294967295|b>>>17),b=S+(R^(P|~E))+C[13]+1309151649&4294967295,S=P+(b<<21&4294967295|b>>>11),b=E+(P^(S|~R))+C[4]+4149444226&4294967295,E=S+(b<<6&4294967295|b>>>26),b=R+(S^(E|~P))+C[11]+3174756917&4294967295,R=E+(b<<10&4294967295|b>>>22),b=P+(E^(R|~S))+C[2]+718787259&4294967295,P=R+(b<<15&4294967295|b>>>17),b=S+(R^(P|~E))+C[9]+3951481745&4294967295,g.g[0]=g.g[0]+E&4294967295,g.g[1]=g.g[1]+(P+(b<<21&4294967295|b>>>11))&4294967295,g.g[2]=g.g[2]+P&4294967295,g.g[3]=g.g[3]+R&4294967295}n.prototype.u=function(g,E){E===void 0&&(E=g.length);for(var S=E-this.blockSize,C=this.B,P=this.h,R=0;R<E;){if(P==0)for(;R<=S;)i(this,g,R),R+=this.blockSize;if(typeof g=="string"){for(;R<E;)if(C[P++]=g.charCodeAt(R++),P==this.blockSize){i(this,C),P=0;break}}else for(;R<E;)if(C[P++]=g[R++],P==this.blockSize){i(this,C),P=0;break}}this.h=P,this.o+=E},n.prototype.v=function(){var g=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);g[0]=128;for(var E=1;E<g.length-8;++E)g[E]=0;var S=8*this.o;for(E=g.length-8;E<g.length;++E)g[E]=S&255,S/=256;for(this.u(g),g=Array(16),E=S=0;4>E;++E)for(var C=0;32>C;C+=8)g[S++]=this.g[E]>>>C&255;return g};function s(g,E){var S=o;return Object.prototype.hasOwnProperty.call(S,g)?S[g]:S[g]=E(g)}function a(g,E){this.h=E;for(var S=[],C=!0,P=g.length-1;0<=P;P--){var R=g[P]|0;C&&R==E||(S[P]=R,C=!1)}this.g=S}var o={};function l(g){return-128<=g&&128>g?s(g,function(E){return new a([E|0],0>E?-1:0)}):new a([g|0],0>g?-1:0)}function c(g){if(isNaN(g)||!isFinite(g))return h;if(0>g)return y(c(-g));for(var E=[],S=1,C=0;g>=S;C++)E[C]=g/S|0,S*=4294967296;return new a(E,0)}function u(g,E){if(g.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(g.charAt(0)=="-")return y(u(g.substring(1),E));if(0<=g.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(E,8)),C=h,P=0;P<g.length;P+=8){var R=Math.min(8,g.length-P),b=parseInt(g.substring(P,P+R),E);8>R?(R=c(Math.pow(E,R)),C=C.j(R).add(c(b))):(C=C.j(S),C=C.add(c(b)))}return C}var h=l(0),d=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(v(this))return-y(this).m();for(var g=0,E=1,S=0;S<this.g.length;S++){var C=this.i(S);g+=(0<=C?C:4294967296+C)*E,E*=4294967296}return g},t.toString=function(g){if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(x(this))return"0";if(v(this))return"-"+y(this).toString(g);for(var E=c(Math.pow(g,6)),S=this,C="";;){var P=D(S,E).g;S=k(S,P.j(E));var R=((0<S.g.length?S.g[0]:S.h)>>>0).toString(g);if(S=P,x(S))return R+C;for(;6>R.length;)R="0"+R;C=R+C}},t.i=function(g){return 0>g?0:g<this.g.length?this.g[g]:this.h};function x(g){if(g.h!=0)return!1;for(var E=0;E<g.g.length;E++)if(g.g[E]!=0)return!1;return!0}function v(g){return g.h==-1}t.l=function(g){return g=k(this,g),v(g)?-1:x(g)?0:1};function y(g){for(var E=g.g.length,S=[],C=0;C<E;C++)S[C]=~g.g[C];return new a(S,~g.h).add(d)}t.abs=function(){return v(this)?y(this):this},t.add=function(g){for(var E=Math.max(this.g.length,g.g.length),S=[],C=0,P=0;P<=E;P++){var R=C+(this.i(P)&65535)+(g.i(P)&65535),b=(R>>>16)+(this.i(P)>>>16)+(g.i(P)>>>16);C=b>>>16,R&=65535,b&=65535,S[P]=b<<16|R}return new a(S,S[S.length-1]&-2147483648?-1:0)};function k(g,E){return g.add(y(E))}t.j=function(g){if(x(this)||x(g))return h;if(v(this))return v(g)?y(this).j(y(g)):y(y(this).j(g));if(v(g))return y(this.j(y(g)));if(0>this.l(p)&&0>g.l(p))return c(this.m()*g.m());for(var E=this.g.length+g.g.length,S=[],C=0;C<2*E;C++)S[C]=0;for(C=0;C<this.g.length;C++)for(var P=0;P<g.g.length;P++){var R=this.i(C)>>>16,b=this.i(C)&65535,fe=g.i(P)>>>16,de=g.i(P)&65535;S[2*C+2*P]+=b*de,T(S,2*C+2*P),S[2*C+2*P+1]+=R*de,T(S,2*C+2*P+1),S[2*C+2*P+1]+=b*fe,T(S,2*C+2*P+1),S[2*C+2*P+2]+=R*fe,T(S,2*C+2*P+2)}for(C=0;C<E;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=E;C<2*E;C++)S[C]=0;return new a(S,0)};function T(g,E){for(;(g[E]&65535)!=g[E];)g[E+1]+=g[E]>>>16,g[E]&=65535,E++}function w(g,E){this.g=g,this.h=E}function D(g,E){if(x(E))throw Error("division by zero");if(x(g))return new w(h,h);if(v(g))return E=D(y(g),E),new w(y(E.g),y(E.h));if(v(E))return E=D(g,y(E)),new w(y(E.g),E.h);if(30<g.g.length){if(v(g)||v(E))throw Error("slowDivide_ only works with positive integers.");for(var S=d,C=E;0>=C.l(g);)S=B(S),C=B(C);var P=U(S,1),R=U(C,1);for(C=U(C,2),S=U(S,2);!x(C);){var b=R.add(C);0>=b.l(g)&&(P=P.add(S),R=b),C=U(C,1),S=U(S,1)}return E=k(g,P.j(E)),new w(P,E)}for(P=h;0<=g.l(E);){for(S=Math.max(1,Math.floor(g.m()/E.m())),C=Math.ceil(Math.log(S)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),R=c(S),b=R.j(E);v(b)||0<b.l(g);)S-=C,R=c(S),b=R.j(E);x(R)&&(R=d),P=P.add(R),g=k(g,b)}return new w(P,g)}t.A=function(g){return D(this,g).h},t.and=function(g){for(var E=Math.max(this.g.length,g.g.length),S=[],C=0;C<E;C++)S[C]=this.i(C)&g.i(C);return new a(S,this.h&g.h)},t.or=function(g){for(var E=Math.max(this.g.length,g.g.length),S=[],C=0;C<E;C++)S[C]=this.i(C)|g.i(C);return new a(S,this.h|g.h)},t.xor=function(g){for(var E=Math.max(this.g.length,g.g.length),S=[],C=0;C<E;C++)S[C]=this.i(C)^g.i(C);return new a(S,this.h^g.h)};function B(g){for(var E=g.g.length+1,S=[],C=0;C<E;C++)S[C]=g.i(C)<<1|g.i(C-1)>>>31;return new a(S,g.h)}function U(g,E){var S=E>>5;E%=32;for(var C=g.g.length-S,P=[],R=0;R<C;R++)P[R]=0<E?g.i(R+S)>>>E|g.i(R+S+1)<<32-E:g.i(R+S);return new a(P,g.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,nk=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=u,Ia=a}).apply(typeof R_<"u"?R_:typeof self<"u"?self:typeof window<"u"?window:{});var pf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ik,Kl,sk,Wf,em,ak,ok,lk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,A){return f==Array.prototype||f==Object.prototype||(f[_]=A.value),f};function r(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof pf=="object"&&pf];for(var _=0;_<f.length;++_){var A=f[_];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var n=r(this);function i(f,_){if(_)e:{var A=n;f=f.split(".");for(var V=0;V<f.length-1;V++){var re=f[V];if(!(re in A))break e;A=A[re]}f=f[f.length-1],V=A[f],_=_(V),_!=V&&_!=null&&e(A,f,{configurable:!0,writable:!0,value:_})}}function s(f,_){f instanceof String&&(f+="");var A=0,V=!1,re={next:function(){if(!V&&A<f.length){var se=A++;return{value:_(se,f[se]),done:!1}}return V=!0,{done:!0,value:void 0}}};return re[Symbol.iterator]=function(){return re},re}i("Array.prototype.values",function(f){return f||function(){return s(this,function(_,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function c(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function u(f,_,A){return f.call.apply(f.bind,arguments)}function h(f,_,A){if(!f)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var re=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(re,V),f.apply(_,re)}}return function(){return f.apply(_,arguments)}}function d(f,_,A){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,d.apply(null,arguments)}function p(f,_){var A=Array.prototype.slice.call(arguments,1);return function(){var V=A.slice();return V.push.apply(V,arguments),f.apply(this,V)}}function x(f,_){function A(){}A.prototype=_.prototype,f.aa=_.prototype,f.prototype=new A,f.prototype.constructor=f,f.Qb=function(V,re,se){for(var Te=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)Te[_t-2]=arguments[_t];return _.prototype[re].apply(V,Te)}}function v(f){const _=f.length;if(0<_){const A=Array(_);for(let V=0;V<_;V++)A[V]=f[V];return A}return[]}function y(f,_){for(let A=1;A<arguments.length;A++){const V=arguments[A];if(l(V)){const re=f.length||0,se=V.length||0;f.length=re+se;for(let Te=0;Te<se;Te++)f[re+Te]=V[Te]}else f.push(V)}}class k{constructor(_,A){this.i=_,this.j=A,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function T(f){return/^[\s\xa0]*$/.test(f)}function w(){var f=o.navigator;return f&&(f=f.userAgent)?f:""}function D(f){return D[" "](f),f}D[" "]=function(){};var B=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function U(f,_,A){for(const V in f)_.call(A,f[V],V,f)}function g(f,_){for(const A in f)_.call(void 0,f[A],A,f)}function E(f){const _={};for(const A in f)_[A]=f[A];return _}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(f,_){let A,V;for(let re=1;re<arguments.length;re++){V=arguments[re];for(A in V)f[A]=V[A];for(let se=0;se<S.length;se++)A=S[se],Object.prototype.hasOwnProperty.call(V,A)&&(f[A]=V[A])}}function P(f){var _=1;f=f.split(":");const A=[];for(;0<_&&f.length;)A.push(f.shift()),_--;return f.length&&A.push(f.join(":")),A}function R(f){o.setTimeout(()=>{throw f},0)}function b(){var f=G;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class fe{constructor(){this.h=this.g=null}add(_,A){const V=de.get();V.set(_,A),this.h?this.h.next=V:this.g=V,this.h=V}}var de=new k(()=>new Se,f=>f.reset());class Se{constructor(){this.next=this.g=this.h=null}set(_,A){this.h=_,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ie=!1,G=new fe,ce=()=>{const f=o.Promise.resolve(void 0);oe=()=>{f.then(Ee)}};var Ee=()=>{for(var f;f=b();){try{f.h.call(f.g)}catch(A){R(A)}var _=de;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}ie=!1};function j(){this.s=this.s,this.C=this.C}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var K=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const A=()=>{};o.addEventListener("test",A,_),o.removeEventListener("test",A,_)}catch{}return f}();function W(f,_){if(Y.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var A=this.type=f.type,V=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(B){e:{try{D(_.nodeName);var re=!0;break e}catch{}re=!1}re||(_=null)}}else A=="mouseover"?_=f.fromElement:A=="mouseout"&&(_=f.toElement);this.relatedTarget=_,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ae[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&W.aa.h.call(this)}}x(W,Y);var ae={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),ke=0;function he(f,_,A,V,re){this.listener=f,this.proxy=null,this.src=_,this.type=A,this.capture=!!V,this.ha=re,this.key=++ke,this.da=this.fa=!1}function me(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function $e(f){this.src=f,this.g={},this.h=0}$e.prototype.add=function(f,_,A,V,re){var se=f.toString();f=this.g[se],f||(f=this.g[se]=[],this.h++);var Te=ot(f,_,V,re);return-1<Te?(_=f[Te],A||(_.fa=!1)):(_=new he(_,this.src,se,!!V,re),_.fa=A,f.push(_)),_};function z(f,_){var A=_.type;if(A in f.g){var V=f.g[A],re=Array.prototype.indexOf.call(V,_,void 0),se;(se=0<=re)&&Array.prototype.splice.call(V,re,1),se&&(me(_),f.g[A].length==0&&(delete f.g[A],f.h--))}}function ot(f,_,A,V){for(var re=0;re<f.length;++re){var se=f[re];if(!se.da&&se.listener==_&&se.capture==!!A&&se.ha==V)return re}return-1}var We="closure_lm_"+(1e6*Math.random()|0),rt={};function be(f,_,A,V,re){if(Array.isArray(_)){for(var se=0;se<_.length;se++)be(f,_[se],A,V,re);return null}return A=or(A),f&&f[xe]?f.K(_,A,c(V)?!!V.capture:!1,re):Ie(f,_,A,!1,V,re)}function Ie(f,_,A,V,re,se){if(!_)throw Error("Invalid event type");var Te=c(re)?!!re.capture:!!re,_t=tn(f);if(_t||(f[We]=_t=new $e(f)),A=_t.add(_,A,V,Te,se),A.proxy)return A;if(V=Et(),A.proxy=V,V.src=f,V.listener=A,f.addEventListener)K||(re=Te),re===void 0&&(re=!1),f.addEventListener(_.toString(),V,re);else if(f.attachEvent)f.attachEvent(en(_.toString()),V);else if(f.addListener&&f.removeListener)f.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Et(){function f(A){return _.call(f.src,f.listener,A)}const _=Di;return f}function ar(f,_,A,V,re){if(Array.isArray(_))for(var se=0;se<_.length;se++)ar(f,_[se],A,V,re);else V=c(V)?!!V.capture:!!V,A=or(A),f&&f[xe]?(f=f.i,_=String(_).toString(),_ in f.g&&(se=f.g[_],A=ot(se,A,V,re),-1<A&&(me(se[A]),Array.prototype.splice.call(se,A,1),se.length==0&&(delete f.g[_],f.h--)))):f&&(f=tn(f))&&(_=f.g[_.toString()],f=-1,_&&(f=ot(_,A,V,re)),(A=-1<f?_[f]:null)&&Sr(A))}function Sr(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[xe])z(_.i,f);else{var A=f.type,V=f.proxy;_.removeEventListener?_.removeEventListener(A,V,f.capture):_.detachEvent?_.detachEvent(en(A),V):_.addListener&&_.removeListener&&_.removeListener(V),(A=tn(_))?(z(A,f),A.h==0&&(A.src=null,_[We]=null)):me(f)}}}function en(f){return f in rt?rt[f]:rt[f]="on"+f}function Di(f,_){if(f.da)f=!0;else{_=new W(_,this);var A=f.listener,V=f.ha||f.src;f.fa&&Sr(f),f=A.call(V,_)}return f}function tn(f){return f=f[We],f instanceof $e?f:null}var Tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function or(f){return typeof f=="function"?f:(f[Tt]||(f[Tt]=function(_){return f.handleEvent(_)}),f[Tt])}function vt(){j.call(this),this.i=new $e(this),this.M=this,this.F=null}x(vt,j),vt.prototype[xe]=!0,vt.prototype.removeEventListener=function(f,_,A,V){ar(this,f,_,A,V)};function kt(f,_){var A,V=f.F;if(V)for(A=[];V;V=V.F)A.push(V);if(f=f.M,V=_.type||_,typeof _=="string")_=new Y(_,f);else if(_ instanceof Y)_.target=_.target||f;else{var re=_;_=new Y(V,f),C(_,re)}if(re=!0,A)for(var se=A.length-1;0<=se;se--){var Te=_.g=A[se];re=ht(Te,V,!0,_)&&re}if(Te=_.g=f,re=ht(Te,V,!0,_)&&re,re=ht(Te,V,!1,_)&&re,A)for(se=0;se<A.length;se++)Te=_.g=A[se],re=ht(Te,V,!1,_)&&re}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var A=f.g[_],V=0;V<A.length;V++)me(A[V]);delete f.g[_],f.h--}}this.F=null},vt.prototype.K=function(f,_,A,V){return this.i.add(String(f),_,!1,A,V)},vt.prototype.L=function(f,_,A,V){return this.i.add(String(f),_,!0,A,V)};function ht(f,_,A,V){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var re=!0,se=0;se<_.length;++se){var Te=_[se];if(Te&&!Te.da&&Te.capture==A){var _t=Te.listener,pr=Te.ha||Te.src;Te.fa&&z(f.i,Te),re=_t.call(pr,V)!==!1&&re}}return re&&!V.defaultPrevented}function Dt(f,_,A){if(typeof f=="function")A&&(f=d(f,A));else if(f&&typeof f.handleEvent=="function")f=d(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:o.setTimeout(f,_||0)}function Ve(f){f.g=Dt(()=>{f.g=null,f.i&&(f.i=!1,Ve(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class xt extends j{constructor(_,A){super(),this.m=_,this.l=A,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ve(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ht(f){j.call(this),this.h=f,this.g={}}x(Ht,j);var ut=[];function hn(f){U(f.g,function(_,A){this.g.hasOwnProperty(A)&&Sr(_)},f),f.g={}}Ht.prototype.N=function(){Ht.aa.N.call(this),hn(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fi=o.JSON.stringify,io=o.JSON.parse,wl=class{stringify(f){return o.JSON.stringify(f,void 0)}parse(f){return o.JSON.parse(f,void 0)}};function bi(){}bi.prototype.h=null;function ci(f){return f.h||(f.h=f.i())}function ms(){}var Bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Oi(){Y.call(this,"d")}x(Oi,Y);function ui(){Y.call(this,"c")}x(ui,Y);var Sn={},so=null;function Li(){return so=so||new vt}Sn.La="serverreachability";function Mi(f){Y.call(this,Sn.La,f)}x(Mi,Y);function An(f){const _=Li();kt(_,new Mi(_))}Sn.STAT_EVENT="statevent";function ao(f,_){Y.call(this,Sn.STAT_EVENT,f),this.stat=_}x(ao,Y);function Zt(f){const _=Li();kt(_,new ao(_,f))}Sn.Ma="timingevent";function H(f,_){Y.call(this,Sn.Ma,f),this.size=_}x(H,Y);function J(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){f()},_)}function ne(){this.g=!0}ne.prototype.xa=function(){this.g=!1};function pe(f,_,A,V,re,se){f.info(function(){if(f.g)if(se)for(var Te="",_t=se.split("&"),pr=0;pr<_t.length;pr++){var lt=_t[pr].split("=");if(1<lt.length){var Ar=lt[0];lt=lt[1];var Ir=Ar.split("_");Te=2<=Ir.length&&Ir[1]=="type"?Te+(Ar+"="+lt+"&"):Te+(Ar+"=redacted&")}}else Te=null;else Te=se;return"XMLHTTP REQ ("+V+") [attempt "+re+"]: "+_+`
`+A+`
`+Te})}function Ae(f,_,A,V,re,se,Te){f.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+re+"]: "+_+`
`+A+`
`+se+" "+Te})}function I(f,_,A,V){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+N(f,A)+(V?" "+V:"")})}function M(f,_){f.info(function(){return"TIMEOUT: "+_})}ne.prototype.info=function(){};function N(f,_){if(!f.g)return _;if(!_)return null;try{var A=JSON.parse(_);if(A){for(f=0;f<A.length;f++)if(Array.isArray(A[f])){var V=A[f];if(!(2>V.length)){var re=V[1];if(Array.isArray(re)&&!(1>re.length)){var se=re[0];if(se!="noop"&&se!="stop"&&se!="close")for(var Te=1;Te<re.length;Te++)re[Te]=""}}}}return Fi(A)}catch{return _}}var F={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},O={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},L;function q(){}x(q,bi),q.prototype.g=function(){return new XMLHttpRequest},q.prototype.i=function(){return{}},L=new q;function te(f,_,A,V){this.j=f,this.i=_,this.l=A,this.R=V||1,this.U=new Ht(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ee}function ee(){this.i=null,this.g="",this.h=!1}var Z={},Q={};function le(f,_,A){f.L=1,f.v=Uu(Vi(_)),f.m=A,f.P=!0,ye(f,null)}function ye(f,_){f.F=Date.now(),we(f),f.A=Vi(f.v);var A=f.A,V=f.R;Array.isArray(V)||(V=[String(V)]),s1(A.i,"t",V),f.C=0,A=f.j.J,f.h=new ee,f.g=T1(f.j,A?_:null,!f.m),0<f.O&&(f.M=new xt(d(f.Y,f,f.g),f.O)),_=f.U,A=f.g,V=f.ca;var re="readystatechange";Array.isArray(re)||(re&&(ut[0]=re.toString()),re=ut);for(var se=0;se<re.length;se++){var Te=be(A,re[se],V||_.handleEvent,!1,_.h||_);if(!Te)break;_.g[Te.key]=Te}_=f.H?E(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),An(),pe(f.i,f.u,f.A,f.l,f.R,f.m)}te.prototype.ca=function(f){f=f.target;const _=this.M;_&&Ui(f)==3?_.j():this.Y(f)},te.prototype.Y=function(f){try{if(f==this.g)e:{const Ir=Ui(this.g);var _=this.g.Ba();const co=this.g.Z();if(!(3>Ir)&&(Ir!=3||this.g&&(this.h.h||this.g.oa()||h1(this.g)))){this.J||Ir!=4||_==7||(_==8||0>=co?An(3):An(2)),nt(this);var A=this.g.Z();this.X=A;t:if(Ce(this)){var V=h1(this.g);f="";var re=V.length,se=Ui(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dt(this),Ke(this);var Te="";break t}this.h.i=new o.TextDecoder}for(_=0;_<re;_++)this.h.h=!0,f+=this.h.i.decode(V[_],{stream:!(se&&_==re-1)});V.length=0,this.h.g+=f,this.C=0,Te=this.h.g}else Te=this.g.oa();if(this.o=A==200,Ae(this.i,this.u,this.A,this.l,this.R,Ir,A),this.o){if(this.T&&!this.K){t:{if(this.g){var _t,pr=this.g;if((_t=pr.g?pr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(_t)){var lt=_t;break t}}lt=null}if(A=lt)I(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rn(this,A);else{this.o=!1,this.s=3,Zt(12),dt(this),Ke(this);break e}}if(this.P){A=!0;let zn;for(;!this.J&&this.C<Te.length;)if(zn=ge(this,Te),zn==Q){Ir==4&&(this.s=4,Zt(14),A=!1),I(this.i,this.l,null,"[Incomplete Response]");break}else if(zn==Z){this.s=4,Zt(15),I(this.i,this.l,Te,"[Invalid Chunk]"),A=!1;break}else I(this.i,this.l,zn,null),rn(this,zn);if(Ce(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ir!=4||Te.length!=0||this.h.h||(this.s=1,Zt(16),A=!1),this.o=this.o&&A,!A)I(this.i,this.l,Te,"[Invalid Chunked Response]"),dt(this),Ke(this);else if(0<Te.length&&!this.W){this.W=!0;var Ar=this.j;Ar.g==this&&Ar.ba&&!Ar.M&&(Ar.j.info("Great, no buffering proxy detected. Bytes received: "+Te.length),Y0(Ar),Ar.M=!0,Zt(11))}}else I(this.i,this.l,Te,null),rn(this,Te);Ir==4&&dt(this),this.o&&!this.J&&(Ir==4?_1(this.j,this):(this.o=!1,we(this)))}else PI(this.g),A==400&&0<Te.indexOf("Unknown SID")?(this.s=3,Zt(12)):(this.s=0,Zt(13)),dt(this),Ke(this)}}}catch{}finally{}};function Ce(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function ge(f,_){var A=f.C,V=_.indexOf(`
`,A);return V==-1?Q:(A=Number(_.substring(A,V)),isNaN(A)?Z:(V+=1,V+A>_.length?Q:(_=_.slice(V,V+A),f.C=V+A,_)))}te.prototype.cancel=function(){this.J=!0,dt(this)};function we(f){f.S=Date.now()+f.I,Fe(f,f.I)}function Fe(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=J(d(f.ba,f),_)}function nt(f){f.B&&(o.clearTimeout(f.B),f.B=null)}te.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(M(this.i,this.A),this.L!=2&&(An(),Zt(17)),dt(this),this.s=2,Ke(this)):Fe(this,this.S-f)};function Ke(f){f.j.G==0||f.J||_1(f.j,f)}function dt(f){nt(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,hn(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function rn(f,_){try{var A=f.j;if(A.G!=0&&(A.g==f||Je(A.h,f))){if(!f.K&&Je(A.h,f)&&A.G==3){try{var V=A.Da.g.parse(_)}catch{V=null}if(Array.isArray(V)&&V.length==3){var re=V;if(re[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<f.F)Wu(A),$u(A);else break e;X0(A),Zt(18)}}else A.za=re[1],0<A.za-A.T&&37500>re[2]&&A.F&&A.v==0&&!A.C&&(A.C=J(d(A.Za,A),6e3));if(1>=In(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else ca(A,11)}else if((f.K||A.g==f)&&Wu(A),!T(_))for(re=A.Da.g.parse(_),_=0;_<re.length;_++){let lt=re[_];if(A.T=lt[0],lt=lt[1],A.G==2)if(lt[0]=="c"){A.K=lt[1],A.ia=lt[2];const Ar=lt[3];Ar!=null&&(A.la=Ar,A.j.info("VER="+A.la));const Ir=lt[4];Ir!=null&&(A.Aa=Ir,A.j.info("SVER="+A.Aa));const co=lt[5];co!=null&&typeof co=="number"&&0<co&&(V=1.5*co,A.L=V,A.j.info("backChannelRequestTimeoutMs_="+V)),V=A;const zn=f.g;if(zn){const Ku=zn.g?zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ku){var se=V.h;se.g||Ku.indexOf("spdy")==-1&&Ku.indexOf("quic")==-1&&Ku.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(fi(se,se.h),se.h=null))}if(V.D){const Q0=zn.g?zn.g.getResponseHeader("X-HTTP-Session-Id"):null;Q0&&(V.ya=Q0,St(V.I,V.D,Q0))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-f.F,A.j.info("Handshake RTT: "+A.R+"ms")),V=A;var Te=f;if(V.qa=E1(V,V.J?V.ia:null,V.W),Te.K){El(V.h,Te);var _t=Te,pr=V.L;pr&&(_t.I=pr),_t.B&&(nt(_t),we(_t)),V.g=Te}else v1(V);0<A.i.length&&Hu(A)}else lt[0]!="stop"&&lt[0]!="close"||ca(A,7);else A.G==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?ca(A,7):q0(A):lt[0]!="noop"&&A.l&&A.l.ta(lt),A.v=0)}}An(4)}catch{}}var He=class{constructor(f,_){this.g=f,this.map=_}};function ft(f){this.l=f||10,o.PerformanceNavigationTiming?(f=o.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function In(f){return f.h?1:f.g?f.g.size:0}function Je(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function fi(f,_){f.g?f.g.add(_):f.h=_}function El(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}ft.prototype.cancel=function(){if(this.i=Lu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Lu(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const A of f.g.values())_=_.concat(A.D);return _}return v(f.i)}function gI(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var _=[],A=f.length,V=0;V<A;V++)_.push(f[V]);return _}_=[],A=0;for(V in f)_[A++]=f[V];return _}function vI(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var _=[];f=f.length;for(var A=0;A<f;A++)_.push(A);return _}_=[],A=0;for(const V in f)_[A++]=V;return _}}}function Zv(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var A=vI(f),V=gI(f),re=V.length,se=0;se<re;se++)_.call(void 0,V[se],A&&A[se],f)}var e1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xI(f,_){if(f){f=f.split("&");for(var A=0;A<f.length;A++){var V=f[A].indexOf("="),re=null;if(0<=V){var se=f[A].substring(0,V);re=f[A].substring(V+1)}else se=f[A];_(se,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function la(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof la){this.h=f.h,Mu(this,f.j),this.o=f.o,this.g=f.g,Vu(this,f.s),this.l=f.l;var _=f.i,A=new Sl;A.i=_.i,_.g&&(A.g=new Map(_.g),A.h=_.h),t1(this,A),this.m=f.m}else f&&(_=String(f).match(e1))?(this.h=!1,Mu(this,_[1]||"",!0),this.o=Tl(_[2]||""),this.g=Tl(_[3]||"",!0),Vu(this,_[4]),this.l=Tl(_[5]||"",!0),t1(this,_[6]||"",!0),this.m=Tl(_[7]||"")):(this.h=!1,this.i=new Sl(null,this.h))}la.prototype.toString=function(){var f=[],_=this.j;_&&f.push(kl(_,r1,!0),":");var A=this.g;return(A||_=="file")&&(f.push("//"),(_=this.o)&&f.push(kl(_,r1,!0),"@"),f.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&f.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&f.push("/"),f.push(kl(A,A.charAt(0)=="/"?wI:yI,!0))),(A=this.i.toString())&&f.push("?",A),(A=this.m)&&f.push("#",kl(A,TI)),f.join("")};function Vi(f){return new la(f)}function Mu(f,_,A){f.j=A?Tl(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Vu(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function t1(f,_,A){_ instanceof Sl?(f.i=_,kI(f.i,f.h)):(A||(_=kl(_,EI)),f.i=new Sl(_,f.h))}function St(f,_,A){f.i.set(_,A)}function Uu(f){return St(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Tl(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function kl(f,_,A){return typeof f=="string"?(f=encodeURI(f).replace(_,_I),A&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function _I(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var r1=/[#\/\?@]/g,yI=/[#\?:]/g,wI=/[#\?]/g,EI=/[#\?@]/g,TI=/#/g;function Sl(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function gs(f){f.g||(f.g=new Map,f.h=0,f.i&&xI(f.i,function(_,A){f.add(decodeURIComponent(_.replace(/\+/g," ")),A)}))}t=Sl.prototype,t.add=function(f,_){gs(this),this.i=null,f=oo(this,f);var A=this.g.get(f);return A||this.g.set(f,A=[]),A.push(_),this.h+=1,this};function n1(f,_){gs(f),_=oo(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function i1(f,_){return gs(f),_=oo(f,_),f.g.has(_)}t.forEach=function(f,_){gs(this),this.g.forEach(function(A,V){A.forEach(function(re){f.call(_,re,V,this)},this)},this)},t.na=function(){gs(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),A=[];for(let V=0;V<_.length;V++){const re=f[V];for(let se=0;se<re.length;se++)A.push(_[V])}return A},t.V=function(f){gs(this);let _=[];if(typeof f=="string")i1(this,f)&&(_=_.concat(this.g.get(oo(this,f))));else{f=Array.from(this.g.values());for(let A=0;A<f.length;A++)_=_.concat(f[A])}return _},t.set=function(f,_){return gs(this),this.i=null,f=oo(this,f),i1(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function s1(f,_,A){n1(f,_),0<A.length&&(f.i=null,f.g.set(oo(f,_),v(A)),f.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var A=0;A<_.length;A++){var V=_[A];const se=encodeURIComponent(String(V)),Te=this.V(V);for(V=0;V<Te.length;V++){var re=se;Te[V]!==""&&(re+="="+encodeURIComponent(String(Te[V]))),f.push(re)}}return this.i=f.join("&")};function oo(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function kI(f,_){_&&!f.j&&(gs(f),f.i=null,f.g.forEach(function(A,V){var re=V.toLowerCase();V!=re&&(n1(this,V),s1(this,re,A))},f)),f.j=_}function SI(f,_){const A=new ne;if(o.Image){const V=new Image;V.onload=p(vs,A,"TestLoadImage: loaded",!0,_,V),V.onerror=p(vs,A,"TestLoadImage: error",!1,_,V),V.onabort=p(vs,A,"TestLoadImage: abort",!1,_,V),V.ontimeout=p(vs,A,"TestLoadImage: timeout",!1,_,V),o.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=f}else _(!1)}function AI(f,_){const A=new ne,V=new AbortController,re=setTimeout(()=>{V.abort(),vs(A,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:V.signal}).then(se=>{clearTimeout(re),se.ok?vs(A,"TestPingServer: ok",!0,_):vs(A,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(re),vs(A,"TestPingServer: error",!1,_)})}function vs(f,_,A,V,re){try{re&&(re.onload=null,re.onerror=null,re.onabort=null,re.ontimeout=null),V(A)}catch{}}function II(){this.g=new wl}function CI(f,_,A){const V=A||"";try{Zv(f,function(re,se){let Te=re;c(re)&&(Te=Fi(re)),_.push(V+se+"="+encodeURIComponent(Te))})}catch(re){throw _.push(V+"type="+encodeURIComponent("_badmap")),re}}function ju(f){this.l=f.Ub||null,this.j=f.eb||!1}x(ju,bi),ju.prototype.g=function(){return new Bu(this.l,this.j)},ju.prototype.i=function(f){return function(){return f}}({});function Bu(f,_){vt.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Bu,vt),t=Bu.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,Il(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||o).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Al(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Il(this)),this.g&&(this.readyState=3,Il(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;a1(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function a1(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Al(this):Il(this),this.readyState==3&&a1(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Al(this))},t.Qa=function(f){this.g&&(this.response=f,Al(this))},t.ga=function(){this.g&&Al(this)};function Al(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Il(f)}t.setRequestHeader=function(f,_){this.u.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var A=_.next();!A.done;)A=A.value,f.push(A[0]+": "+A[1]),A=_.next();return f.join(`\r
`)};function Il(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Bu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function o1(f){let _="";return U(f,function(A,V){_+=V,_+=":",_+=A,_+=`\r
`}),_}function K0(f,_,A){e:{for(V in A){var V=!1;break e}V=!0}V||(A=o1(A),typeof f=="string"?A!=null&&encodeURIComponent(String(A)):St(f,_,A))}function Mt(f){vt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Mt,vt);var RI=/^https?$/i,NI=["POST","PUT"];t=Mt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,_,A,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():L.g(),this.v=this.o?ci(this.o):ci(L),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(se){l1(this,se);return}if(f=A||"",A=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var re in V)A.set(re,V[re]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const se of V.keys())A.set(se,V.get(se));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(A.keys()).find(se=>se.toLowerCase()=="content-type"),re=o.FormData&&f instanceof o.FormData,!(0<=Array.prototype.indexOf.call(NI,_,void 0))||V||re||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,Te]of A)this.g.setRequestHeader(se,Te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{f1(this),this.u=!0,this.g.send(f),this.u=!1}catch(se){l1(this,se)}};function l1(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,c1(f),zu(f)}function c1(f){f.A||(f.A=!0,kt(f,"complete"),kt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,kt(this,"complete"),kt(this,"abort"),zu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zu(this,!0)),Mt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?u1(this):this.bb())},t.bb=function(){u1(this)};function u1(f){if(f.h&&typeof a<"u"&&(!f.v[1]||Ui(f)!=4||f.Z()!=2)){if(f.u&&Ui(f)==4)Dt(f.Ea,0,f);else if(kt(f,"readystatechange"),Ui(f)==4){f.h=!1;try{const Te=f.Z();e:switch(Te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var A;if(!(A=_)){var V;if(V=Te===0){var re=String(f.D).match(e1)[1]||null;!re&&o.self&&o.self.location&&(re=o.self.location.protocol.slice(0,-1)),V=!RI.test(re?re.toLowerCase():"")}A=V}if(A)kt(f,"complete"),kt(f,"success");else{f.m=6;try{var se=2<Ui(f)?f.g.statusText:""}catch{se=""}f.l=se+" ["+f.Z()+"]",c1(f)}}finally{zu(f)}}}}function zu(f,_){if(f.g){f1(f);const A=f.g,V=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||kt(f,"ready");try{A.onreadystatechange=V}catch{}}}function f1(f){f.I&&(o.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Ui(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Ui(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),io(_)}};function h1(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function PI(f){const _={};f=(f.g&&2<=Ui(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<f.length;V++){if(T(f[V]))continue;var A=P(f[V]);const re=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const se=_[re]||[];_[re]=se,se.push(A)}g(_,function(V){return V.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cl(f,_,A){return A&&A.internalChannelParams&&A.internalChannelParams[f]||_}function d1(f){this.Aa=0,this.i=[],this.j=new ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cl("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cl("baseRetryDelayMs",5e3,f),this.cb=Cl("retryDelaySeedMs",1e4,f),this.Wa=Cl("forwardChannelMaxRetries",2,f),this.wa=Cl("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ft(f&&f.concurrentRequestLimit),this.Da=new II,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=d1.prototype,t.la=8,t.G=1,t.connect=function(f,_,A,V){Zt(0),this.W=f,this.H=_||{},A&&V!==void 0&&(this.H.OSID=A,this.H.OAID=V),this.F=this.X,this.I=E1(this,null,this.W),Hu(this)};function q0(f){if(p1(f),f.G==3){var _=f.U++,A=Vi(f.I);if(St(A,"SID",f.K),St(A,"RID",_),St(A,"TYPE","terminate"),Rl(f,A),_=new te(f,f.j,_),_.L=2,_.v=Uu(Vi(A)),A=!1,o.navigator&&o.navigator.sendBeacon)try{A=o.navigator.sendBeacon(_.v.toString(),"")}catch{}!A&&o.Image&&(new Image().src=_.v,A=!0),A||(_.g=T1(_.j,null),_.g.ea(_.v)),_.F=Date.now(),we(_)}w1(f)}function $u(f){f.g&&(Y0(f),f.g.cancel(),f.g=null)}function p1(f){$u(f),f.u&&(o.clearTimeout(f.u),f.u=null),Wu(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&o.clearTimeout(f.s),f.s=null)}function Hu(f){if(!dr(f.h)&&!f.s){f.s=!0;var _=f.Ga;oe||ce(),ie||(oe(),ie=!0),G.add(_,f),f.B=0}}function DI(f,_){return In(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=J(d(f.Ga,f,_),y1(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const re=new te(this,this.j,f);let se=this.o;if(this.S&&(se?(se=E(se),C(se,this.S)):se=this.S),this.m!==null||this.O||(re.H=se,se=null),this.P)e:{for(var _=0,A=0;A<this.i.length;A++){t:{var V=this.i[A];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(_+=V,4096<_){_=A;break e}if(_===4096||A===this.i.length-1){_=A+1;break e}}_=1e3}else _=1e3;_=g1(this,re,_),A=Vi(this.I),St(A,"RID",f),St(A,"CVER",22),this.D&&St(A,"X-HTTP-Session-Id",this.D),Rl(this,A),se&&(this.O?_="headers="+encodeURIComponent(String(o1(se)))+"&"+_:this.m&&K0(A,this.m,se)),fi(this.h,re),this.Ua&&St(A,"TYPE","init"),this.P?(St(A,"$req",_),St(A,"SID","null"),re.T=!0,le(re,A,null)):le(re,A,_),this.G=2}}else this.G==3&&(f?m1(this,f):this.i.length==0||dr(this.h)||m1(this))};function m1(f,_){var A;_?A=_.l:A=f.U++;const V=Vi(f.I);St(V,"SID",f.K),St(V,"RID",A),St(V,"AID",f.T),Rl(f,V),f.m&&f.o&&K0(V,f.m,f.o),A=new te(f,f.j,A,f.B+1),f.m===null&&(A.H=f.o),_&&(f.i=_.D.concat(f.i)),_=g1(f,A,1e3),A.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),fi(f.h,A),le(A,V,_)}function Rl(f,_){f.H&&U(f.H,function(A,V){St(_,V,A)}),f.l&&Zv({},function(A,V){St(_,V,A)})}function g1(f,_,A){A=Math.min(f.i.length,A);var V=f.l?d(f.l.Na,f.l,f):null;e:{var re=f.i;let se=-1;for(;;){const Te=["count="+A];se==-1?0<A?(se=re[0].g,Te.push("ofs="+se)):se=0:Te.push("ofs="+se);let _t=!0;for(let pr=0;pr<A;pr++){let lt=re[pr].g;const Ar=re[pr].map;if(lt-=se,0>lt)se=Math.max(0,re[pr].g-100),_t=!1;else try{CI(Ar,Te,"req"+lt+"_")}catch{V&&V(Ar)}}if(_t){V=Te.join("&");break e}}}return f=f.i.splice(0,A),_.D=f,V}function v1(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;oe||ce(),ie||(oe(),ie=!0),G.add(_,f),f.v=0}}function X0(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=J(d(f.Fa,f),y1(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,x1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=J(d(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zt(10),$u(this),x1(this))};function Y0(f){f.A!=null&&(o.clearTimeout(f.A),f.A=null)}function x1(f){f.g=new te(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=Vi(f.qa);St(_,"RID","rpc"),St(_,"SID",f.K),St(_,"AID",f.T),St(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&St(_,"TO",f.ja),St(_,"TYPE","xmlhttp"),Rl(f,_),f.m&&f.o&&K0(_,f.m,f.o),f.L&&(f.g.I=f.L);var A=f.g;f=f.ia,A.L=1,A.v=Uu(Vi(_)),A.m=null,A.P=!0,ye(A,f)}t.Za=function(){this.C!=null&&(this.C=null,$u(this),X0(this),Zt(19))};function Wu(f){f.C!=null&&(o.clearTimeout(f.C),f.C=null)}function _1(f,_){var A=null;if(f.g==_){Wu(f),Y0(f),f.g=null;var V=2}else if(Je(f.h,_))A=_.D,El(f.h,_),V=1;else return;if(f.G!=0){if(_.o)if(V==1){A=_.m?_.m.length:0,_=Date.now()-_.F;var re=f.B;V=Li(),kt(V,new H(V,A)),Hu(f)}else v1(f);else if(re=_.s,re==3||re==0&&0<_.X||!(V==1&&DI(f,_)||V==2&&X0(f)))switch(A&&0<A.length&&(_=f.h,_.i=_.i.concat(A)),re){case 1:ca(f,5);break;case 4:ca(f,10);break;case 3:ca(f,6);break;default:ca(f,2)}}}function y1(f,_){let A=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(A*=2),A*_}function ca(f,_){if(f.j.info("Error code "+_),_==2){var A=d(f.fb,f),V=f.Xa;const re=!V;V=new la(V||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Mu(V,"https"),Uu(V),re?SI(V.toString(),A):AI(V.toString(),A)}else Zt(2);f.G=0,f.l&&f.l.sa(_),w1(f),p1(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Zt(2)):(this.j.info("Failed to ping google.com"),Zt(1))};function w1(f){if(f.G=0,f.ka=[],f.l){const _=Lu(f.h);(_.length!=0||f.i.length!=0)&&(y(f.ka,_),y(f.ka,f.i),f.h.i.length=0,v(f.i),f.i.length=0),f.l.ra()}}function E1(f,_,A){var V=A instanceof la?Vi(A):new la(A);if(V.g!="")_&&(V.g=_+"."+V.g),Vu(V,V.s);else{var re=o.location;V=re.protocol,_=_?_+"."+re.hostname:re.hostname,re=+re.port;var se=new la(null);V&&Mu(se,V),_&&(se.g=_),re&&Vu(se,re),A&&(se.l=A),V=se}return A=f.D,_=f.ya,A&&_&&St(V,A,_),St(V,"VER",f.la),Rl(f,V),V}function T1(f,_,A){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new Mt(new ju({eb:A})):new Mt(f.pa),_.Ha(f.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function k1(){}t=k1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Gu(){}Gu.prototype.g=function(f,_){return new dn(f,_)};function dn(f,_){vt.call(this),this.g=new d1(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!T(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!T(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new lo(this)}x(dn,vt),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){q0(this.g)},dn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var A={};A.__data__=f,f=A}else this.u&&(A={},A.__data__=Fi(f),f=A);_.i.push(new He(_.Ya++,f)),_.G==3&&Hu(_)},dn.prototype.N=function(){this.g.l=null,delete this.j,q0(this.g),delete this.g,dn.aa.N.call(this)};function S1(f){Oi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const A in _){f=A;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}x(S1,Oi);function A1(){ui.call(this),this.status=1}x(A1,ui);function lo(f){this.g=f}x(lo,k1),lo.prototype.ua=function(){kt(this.g,"a")},lo.prototype.ta=function(f){kt(this.g,new S1(f))},lo.prototype.sa=function(f){kt(this.g,new A1)},lo.prototype.ra=function(){kt(this.g,"b")},Gu.prototype.createWebChannel=Gu.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,lk=function(){return new Gu},ok=function(){return Li()},ak=Sn,em={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},F.NO_ERROR=0,F.TIMEOUT=8,F.HTTP_ERROR=6,Wf=F,O.COMPLETE="complete",sk=O,ms.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Kl=ms,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,ik=Mt}).apply(typeof pf<"u"?pf:typeof self<"u"?self:typeof window<"u"?window:{});const N_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dr.UNAUTHENTICATED=new Dr(null),Dr.GOOGLE_CREDENTIALS=new Dr("google-credentials-uid"),Dr.FIRST_PARTY=new Dr("first-party-uid"),Dr.MOCK_USER=new Dr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=new Pg("@firebase/firestore");function Bl(){return Ma.logLevel}function Pe(t,...e){if(Ma.logLevel<=Ye.DEBUG){const r=e.map(Hg);Ma.debug(`Firestore (${pl}): ${t}`,...r)}}function ls(t,...e){if(Ma.logLevel<=Ye.ERROR){const r=e.map(Hg);Ma.error(`Firestore (${pl}): ${t}`,...r)}}function el(t,...e){if(Ma.logLevel<=Ye.WARN){const r=e.map(Hg);Ma.warn(`Firestore (${pl}): ${t}`,...r)}}function Hg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t="Unexpected state"){const e=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: `+t;throw ls(e),new Error(e)}function gt(t,e){t||Me()}function Be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Ci{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Dr.UNAUTHENTICATED))}shutdown(){}}class y3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class w3{constructor(e){this.t=e,this.currentUser=Dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){gt(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let s=new Qi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Qi,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Qi)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(gt(typeof n.accessToken=="string"),new ck(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string"),new Dr(e)}}class E3{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Dr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class T3{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new E3(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Dr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class k3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){gt(this.o===void 0);const n=s=>{s.error!=null&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,Pe("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(gt(typeof r.token=="string"),this.R=r.token,new k3(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=A3(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function ct(t,e){return t<e?-1:t>e?1:0}function tl(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ne(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ne(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Ne(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ir.fromMillis(Date.now())}static fromDate(e){return ir.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new ir(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new ir(0,0))}static max(){return new Ue(new ir(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,r,n){r===void 0?r=0:r>e.length&&Me(),n===void 0?n=e.length-r:n>e.length-r&&Me(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Gc.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Gc?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),a=r.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class It extends Gc{construct(e,r,n){return new It(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ne(ue.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new It(r)}static emptyPath(){return new It([])}}const I3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xr extends Gc{construct(e,r,n){return new xr(e,r,n)}static isValidIdentifier(e){return I3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new Ne(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Ne(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ne(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new Ne(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xr(r)}static emptyPath(){return new xr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(It.fromString(e))}static fromName(e){return new De(It.fromString(e).popFirst(5))}static empty(){return new De(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return It.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new It(e.slice()))}}function C3(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ue.fromTimestamp(n===1e9?new ir(r+1,0):new ir(r,n));return new Qs(i,De.empty(),e)}function R3(t){return new Qs(t.readTime,t.key,-1)}class Qs{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Qs(Ue.min(),De.empty(),-1)}static max(){return new Qs(Ue.max(),De.empty(),-1)}}function N3(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=De.comparator(t.documentKey,e.documentKey),r!==0?r:ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class D3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==P3)throw t;Pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ve((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ve?r:ve.resolve(r)}catch(r){return ve.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ve.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ve.reject(r)}static resolve(e){return new ve((r,n)=>{r(e)})}static reject(e){return new ve((r,n)=>{n(e)})}static waitFor(e){return new ve((r,n)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&r()},l=>n(l))}),a=!0,s===i&&r()})}static or(e){let r=ve.resolve(!1);for(const n of e)r=r.next(i=>i?ve.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new ve((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;r(e[c]).next(u=>{a[c]=u,++o,o===s&&n(a)},u=>i(u))}})}static doWhile(e,r){return new ve((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}function F3(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Tu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Wg.oe=-1;function k0(t){return t==null}function Dh(t){return t===0&&1/t==-1/0}function b3(t){return typeof t=="number"&&Number.isInteger(t)&&!Dh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Xa(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function fk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,r){this.comparator=e,this.root=r||gr.EMPTY}insert(e,r){return new Lt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,gr.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mf(this.root,e,this.comparator,!1)}getReverseIterator(){return new mf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mf(this.root,e,this.comparator,!0)}}class mf{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gr{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??gr.RED,this.left=i??gr.EMPTY,this.right=s??gr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new gr(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return gr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Me();const e=this.left.check();if(e!==this.right.check())throw Me();return e+(this.isRed()?0:1)}}gr.EMPTY=null,gr.RED=!0,gr.BLACK=!1;gr.EMPTY=new class{constructor(){this.size=0}get key(){throw Me()}get value(){throw Me()}get color(){throw Me()}get left(){throw Me()}get right(){throw Me()}copy(e,r,n,i,s){return this}insert(e,r,n){return new gr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new D_(this.data.getIterator())}getIteratorFrom(e){return new D_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof yr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new yr(this.comparator);return r.data=e,r}}class D_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(xr.comparator)}static empty(){return new _n([])}unionWith(e){let r=new yr(xr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new _n(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return tl(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new hk("Invalid base64 string: "+s):s}}(e);return new kr(r)}static fromUint8Array(e){const r=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new kr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kr.EMPTY_BYTE_STRING=new kr("");const O3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(t){if(gt(!!t),typeof t=="string"){let e=0;const r=O3.exec(t);if(gt(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:zt(t.seconds),nanos:zt(t.nanos)}}function zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Va(t){return typeof t=="string"?kr.fromBase64String(t):kr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Kg(t){const e=t.mapValue.fields.__previous_value__;return Gg(e)?Kg(e):e}function Kc(t){const e=Js(t.mapValue.fields.__local_write_time__.timestampValue);return new ir(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,r,n,i,s,a,o,l,c){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c}}class qc{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new qc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof qc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf={mapValue:{}};function Ua(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gg(t)?4:V3(t)?9007199254740991:M3(t)?10:11:Me()}function ki(t,e){if(t===e)return!0;const r=Ua(t);if(r!==Ua(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kc(t).isEqual(Kc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Js(i.timestampValue),o=Js(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Va(i.bytesValue).isEqual(Va(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return zt(i.geoPointValue.latitude)===zt(s.geoPointValue.latitude)&&zt(i.geoPointValue.longitude)===zt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return zt(i.integerValue)===zt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=zt(i.doubleValue),o=zt(s.doubleValue);return a===o?Dh(a)===Dh(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return tl(t.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(P_(a)!==P_(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!ki(a[l],o[l])))return!1;return!0}(t,e);default:return Me()}}function Xc(t,e){return(t.values||[]).find(r=>ki(r,e))!==void 0}function rl(t,e){if(t===e)return 0;const r=Ua(t),n=Ua(e);if(r!==n)return ct(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=zt(s.integerValue||s.doubleValue),l=zt(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return F_(t.timestampValue,e.timestampValue);case 4:return F_(Kc(t),Kc(e));case 5:return ct(t.stringValue,e.stringValue);case 6:return function(s,a){const o=Va(s),l=Va(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=ct(o[c],l[c]);if(u!==0)return u}return ct(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=ct(zt(s.latitude),zt(a.latitude));return o!==0?o:ct(zt(s.longitude),zt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return b_(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,l,c,u;const h=s.fields||{},d=a.fields||{},p=(o=h.value)===null||o===void 0?void 0:o.arrayValue,x=(l=d.value)===null||l===void 0?void 0:l.arrayValue,v=ct(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=x==null?void 0:x.values)===null||u===void 0?void 0:u.length)||0);return v!==0?v:b_(p,x)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===gf.mapValue&&a===gf.mapValue)return 0;if(s===gf.mapValue)return 1;if(a===gf.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const d=ct(l[h],u[h]);if(d!==0)return d;const p=rl(o[l[h]],c[u[h]]);if(p!==0)return p}return ct(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Me()}}function F_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const r=Js(t),n=Js(e),i=ct(r.seconds,n.seconds);return i!==0?i:ct(r.nanos,n.nanos)}function b_(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=rl(r[i],n[i]);if(s)return s}return ct(r.length,n.length)}function nl(t){return tm(t)}function tm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Js(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Va(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return De.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=tm(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${tm(r.fields[a])}`;return i+"}"}(t.mapValue):Me()}function O_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function rm(t){return!!t&&"integerValue"in t}function qg(t){return!!t&&"arrayValue"in t}function L_(t){return!!t&&"nullValue"in t}function M_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gf(t){return!!t&&"mapValue"in t}function M3(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function fc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xa(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=fc(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=fc(t.arrayValue.values[r]);return e}return Object.assign({},t)}function V3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Gf(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=fc(r)}setAll(e){let r=xr.emptyPath(),n={},i=[];e.forEach((a,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}a?n[o.lastSegment()]=fc(a):i.push(o.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());Gf(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Gf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Xa(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new on(fc(this.value))}}function dk(t){const e=[];return Xa(t.fields,(r,n)=>{const i=new xr([r]);if(Gf(n)){const s=dk(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,r,n,i,s,a,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Or(e,0,Ue.min(),Ue.min(),Ue.min(),on.empty(),0)}static newFoundDocument(e,r,n,i){return new Or(e,1,r,Ue.min(),n,i,0)}static newNoDocument(e,r){return new Or(e,2,r,Ue.min(),Ue.min(),on.empty(),0)}static newUnknownDocument(e,r){return new Or(e,3,r,Ue.min(),Ue.min(),on.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Or&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Or(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,r){this.position=e,this.inclusive=r}}function V_(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?n=De.comparator(De.fromName(a.referenceValue),r.key):n=rl(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function U_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ki(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,r="asc"){this.field=e,this.dir=r}}function U3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{}class Qt extends pk{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new B3(e,r,n):r==="array-contains"?new H3(e,n):r==="in"?new W3(e,n):r==="not-in"?new G3(e,n):r==="array-contains-any"?new K3(e,n):new Qt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new z3(e,n):new $3(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(rl(r,this.value)):r!==null&&Ua(this.value)===Ua(r)&&this.matchesComparison(rl(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends pk{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new ai(e,r)}matches(e){return mk(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function mk(t){return t.op==="and"}function gk(t){return j3(t)&&mk(t)}function j3(t){for(const e of t.filters)if(e instanceof ai)return!1;return!0}function nm(t){if(t instanceof Qt)return t.field.canonicalString()+t.op.toString()+nl(t.value);if(gk(t))return t.filters.map(e=>nm(e)).join(",");{const e=t.filters.map(r=>nm(r)).join(",");return`${t.op}(${e})`}}function vk(t,e){return t instanceof Qt?function(n,i){return i instanceof Qt&&n.op===i.op&&n.field.isEqual(i.field)&&ki(n.value,i.value)}(t,e):t instanceof ai?function(n,i){return i instanceof ai&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,a,o)=>s&&vk(a,i.filters[o]),!0):!1}(t,e):void Me()}function xk(t){return t instanceof Qt?function(r){return`${r.field.canonicalString()} ${r.op} ${nl(r.value)}`}(t):t instanceof ai?function(r){return r.op.toString()+" {"+r.getFilters().map(xk).join(" ,")+"}"}(t):"Filter"}class B3 extends Qt{constructor(e,r,n){super(e,r,n),this.key=De.fromName(n.referenceValue)}matches(e){const r=De.comparator(e.key,this.key);return this.matchesComparison(r)}}class z3 extends Qt{constructor(e,r){super(e,"in",r),this.keys=_k("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class $3 extends Qt{constructor(e,r){super(e,"not-in",r),this.keys=_k("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function _k(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>De.fromName(n.referenceValue))}class H3 extends Qt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return qg(r)&&Xc(r.arrayValue,this.value)}}class W3 extends Qt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Xc(this.value.arrayValue,r)}}class G3 extends Qt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Xc(this.value.arrayValue,r)}}class K3 extends Qt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!qg(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Xc(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,r=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function j_(t,e=null,r=[],n=[],i=null,s=null,a=null){return new q3(t,e,r,n,i,s,a)}function Xg(t){const e=Be(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>nm(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),k0(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>nl(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>nl(n)).join(",")),e.ue=r}return e.ue}function Yg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!U3(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!vk(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!U_(t.startAt,e.startAt)&&U_(t.endAt,e.endAt)}function im(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,r=null,n=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function X3(t,e,r,n,i,s,a,o){return new ku(t,e,r,n,i,s,a,o)}function Qg(t){return new ku(t)}function B_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yk(t){return t.collectionGroup!==null}function hc(t){const e=Be(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new yr(xr.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new bh(s,n))}),r.has(xr.keyField().canonicalString())||e.ce.push(new bh(xr.keyField(),n))}return e.ce}function wi(t){const e=Be(t);return e.le||(e.le=Y3(e,hc(t))),e.le}function Y3(t,e){if(t.limitType==="F")return j_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new bh(i.field,s)});const r=t.endAt?new Fh(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Fh(t.startAt.position,t.startAt.inclusive):null;return j_(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function sm(t,e){const r=t.filters.concat([e]);return new ku(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function am(t,e,r){return new ku(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function S0(t,e){return Yg(wi(t),wi(e))&&t.limitType===e.limitType}function wk(t){return`${Xg(wi(t))}|lt:${t.limitType}`}function po(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>xk(i)).join(", ")}]`),k0(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>nl(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>nl(i)).join(",")),`Target(${n})`}(wi(t))}; limitType=${t.limitType})`}function A0(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):De.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of hc(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(a,o,l){const c=V_(a,o,l);return a.inclusive?c<=0:c<0}(n.startAt,hc(n),i)||n.endAt&&!function(a,o,l){const c=V_(a,o,l);return a.inclusive?c>=0:c>0}(n.endAt,hc(n),i))}(t,e)}function Q3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ek(t){return(e,r)=>{let n=!1;for(const i of hc(t)){const s=J3(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function J3(t,e,r){const n=t.field.isKeyField()?De.comparator(e.key,r.key):function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?rl(l,c):Me()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xa(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return fk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=new Lt(De.comparator);function cs(){return Z3}const Tk=new Lt(De.comparator);function ql(...t){let e=Tk;for(const r of t)e=e.insert(r.key,r);return e}function kk(t){let e=Tk;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Ea(){return dc()}function Sk(){return dc()}function dc(){return new ml(t=>t.toString(),(t,e)=>t.isEqual(e))}const eb=new Lt(De.comparator),tb=new yr(De.comparator);function Xe(...t){let e=tb;for(const r of t)e=e.add(r);return e}const rb=new yr(ct);function nb(){return rb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(e)?"-0":e}}function Ak(t){return{integerValue:""+t}}function ib(t,e){return b3(e)?Ak(e):Jg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(){this._=void 0}}function sb(t,e,r){return t instanceof Yc?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Gg(s)&&(s=Kg(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(r,e):t instanceof Qc?Ck(t,e):t instanceof Jc?Rk(t,e):function(i,s){const a=Ik(i,s),o=z_(a)+z_(i.Pe);return rm(a)&&rm(i.Pe)?Ak(o):Jg(i.serializer,o)}(t,e)}function ab(t,e,r){return t instanceof Qc?Ck(t,e):t instanceof Jc?Rk(t,e):r}function Ik(t,e){return t instanceof Oh?function(n){return rm(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class Yc extends I0{}class Qc extends I0{constructor(e){super(),this.elements=e}}function Ck(t,e){const r=Nk(e);for(const n of t.elements)r.some(i=>ki(i,n))||r.push(n);return{arrayValue:{values:r}}}class Jc extends I0{constructor(e){super(),this.elements=e}}function Rk(t,e){let r=Nk(e);for(const n of t.elements)r=r.filter(i=>!ki(i,n));return{arrayValue:{values:r}}}class Oh extends I0{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function z_(t){return zt(t.integerValue||t.doubleValue)}function Nk(t){return qg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,r){this.field=e,this.transform=r}}function lb(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Qc&&i instanceof Qc||n instanceof Jc&&i instanceof Jc?tl(n.elements,i.elements,ki):n instanceof Oh&&i instanceof Oh?ki(n.Pe,i.Pe):n instanceof Yc&&i instanceof Yc}(t.transform,e.transform)}class cb{constructor(e,r){this.version=e,this.transformResults=r}}class Ln{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class C0{}function Pk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zg(t.key,Ln.none()):new Su(t.key,t.data,Ln.none());{const r=t.data,n=on.empty();let i=new yr(xr.comparator);for(let s of e.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new aa(t.key,n,new _n(i.toArray()),Ln.none())}}function ub(t,e,r){t instanceof Su?function(i,s,a){const o=i.value.clone(),l=H_(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,r):t instanceof aa?function(i,s,a){if(!Kf(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=H_(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(Dk(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,r):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,r)}function pc(t,e,r,n){return t instanceof Su?function(s,a,o,l){if(!Kf(s.precondition,a))return o;const c=s.value.clone(),u=W_(s.fieldTransforms,l,a);return c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof aa?function(s,a,o,l){if(!Kf(s.precondition,a))return o;const c=W_(s.fieldTransforms,l,a),u=a.data;return u.setAll(Dk(s)),u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,r,n):function(s,a,o){return Kf(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,r)}function fb(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=Ik(n.transform,i||null);s!=null&&(r===null&&(r=on.empty()),r.set(n.field,s))}return r||null}function $_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&tl(n,i,(s,a)=>lb(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Su extends C0{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class aa extends C0{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Dk(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function H_(t,e,r){const n=new Map;gt(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,ab(a,o,r[i]))}return n}function W_(t,e,r){const n=new Map;for(const i of t){const s=i.transform,a=r.data.field(i.field);n.set(i.field,sb(s,a,e))}return n}class Zg extends C0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hb extends C0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&ub(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=pc(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=pc(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=Sk();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=r.has(i.key)?null:o;const l=Pk(a,o);l!==null&&n.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Ue.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Xe())}isEqual(e){return this.batchId===e.batchId&&tl(this.mutations,e.mutations,(r,n)=>$_(r,n))&&tl(this.baseMutations,e.baseMutations,(r,n)=>$_(r,n))}}class ev{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){gt(e.mutations.length===n.length);let i=function(){return eb}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new ev(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,Ze;function gb(t){switch(t){default:return Me();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function Fk(t){if(t===void 0)return ls("GRPC error has no .code"),ue.UNKNOWN;switch(t){case Gt.OK:return ue.OK;case Gt.CANCELLED:return ue.CANCELLED;case Gt.UNKNOWN:return ue.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return ue.INTERNAL;case Gt.UNAVAILABLE:return ue.UNAVAILABLE;case Gt.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Gt.NOT_FOUND:return ue.NOT_FOUND;case Gt.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Gt.ABORTED:return ue.ABORTED;case Gt.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Gt.DATA_LOSS:return ue.DATA_LOSS;default:return Me()}}(Ze=Gt||(Gt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=new Ia([4294967295,4294967295],0);function G_(t){const e=vb().encode(t),r=new nk;return r.update(e),new Uint8Array(r.digest())}function K_(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ia([r,n],0),new Ia([i,s],0)]}class tv{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Xl(`Invalid padding: ${r}`);if(n<0)throw new Xl(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Ia.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(Ia.fromNumber(n)));return i.compare(xb)===1&&(i=new Ia([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=G_(e),[n,i]=K_(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);if(!this.de(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new tv(s,i,r);return n.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const r=G_(e),[n,i]=K_(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);this.Ae(a)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Au.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new R0(Ue.min(),i,new Lt(ct),cs(),Xe())}}class Au{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Au(n,r,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class bk{constructor(e,r){this.targetId=e,this.me=r}}class Ok{constructor(e,r,n=kr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class q_{constructor(){this.fe=0,this.ge=Y_(),this.pe=kr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Xe(),r=Xe(),n=Xe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Me()}}),new Au(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=Y_()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,gt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class _b{constructor(e){this.Le=e,this.Be=new Map,this.ke=cs(),this.qe=X_(),this.Qe=new Lt(ct)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Me()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const s=i.target;if(im(s))if(n===0){const a=new De(s.path);this.Ue(r,a,Or.newNoDocument(a,Ue.min()))}else gt(n===1);else{const a=this.Ye(r);if(a!==n){const o=this.Ze(e),l=o?this.Xe(o,e,a):1;if(l!==0){this.je(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,c)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let a,o;try{a=Va(n).toUint8Array()}catch(l){if(l instanceof hk)return el("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new tv(a,i,s)}catch(l){return el(l instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(r,s,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((s,a)=>{const o=this.Je(a);if(o){if(s.current&&im(o.target)){const l=new De(o.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,Or.newNoDocument(l,e))}s.be&&(r.set(a,s.ve()),s.Ce())}});let n=Xe();this.qe.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new R0(e,r,this.Qe,this.ke,n);return this.ke=cs(),this.qe=X_(),this.Qe=new Lt(ct),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new q_,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new yr(ct),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Pe("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new q_),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function X_(){return new Lt(De.comparator)}function Y_(){return new Lt(De.comparator)}const yb={asc:"ASCENDING",desc:"DESCENDING"},wb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Eb={and:"AND",or:"OR"};class Tb{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function om(t,e){return t.useProto3Json||k0(e)?e:{value:e}}function Lh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Lk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kb(t,e){return Lh(t,e.toTimestamp())}function Ei(t){return gt(!!t),Ue.fromTimestamp(function(r){const n=Js(r);return new ir(n.seconds,n.nanos)}(t))}function rv(t,e){return lm(t,e).canonicalString()}function lm(t,e){const r=function(i){return new It(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function Mk(t){const e=It.fromString(t);return gt(zk(e)),e}function cm(t,e){return rv(t.databaseId,e.path)}function bd(t,e){const r=Mk(e);if(r.get(1)!==t.databaseId.projectId)throw new Ne(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Ne(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new De(Uk(r))}function Vk(t,e){return rv(t.databaseId,e)}function Sb(t){const e=Mk(t);return e.length===4?It.emptyPath():Uk(e)}function um(t){return new It(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Uk(t){return gt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Q_(t,e,r){return{name:cm(t,e),fields:r.value.mapValue.fields}}function Ab(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Me()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(gt(u===void 0||typeof u=="string"),kr.fromBase64String(u||"")):(gt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),kr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(c){const u=c.code===void 0?ue.UNKNOWN:Fk(c.code);return new Ne(u,c.message||"")}(a);r=new Ok(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=bd(t,n.document.name),s=Ei(n.document.updateTime),a=n.document.createTime?Ei(n.document.createTime):Ue.min(),o=new on({mapValue:{fields:n.document.fields}}),l=Or.newFoundDocument(i,s,a,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new qf(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=bd(t,n.document),s=n.readTime?Ei(n.readTime):Ue.min(),a=Or.newNoDocument(i,s),o=n.removedTargetIds||[];r=new qf([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=bd(t,n.document),s=n.removedTargetIds||[];r=new qf([],s,i,null)}else{if(!("filter"in e))return Me();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new mb(i,s),o=n.targetId;r=new bk(o,a)}}return r}function Ib(t,e){let r;if(e instanceof Su)r={update:Q_(t,e.key,e.value)};else if(e instanceof Zg)r={delete:cm(t,e.key)};else if(e instanceof aa)r={update:Q_(t,e.key,e.data),updateMask:Lb(e.fieldMask)};else{if(!(e instanceof hb))return Me();r={verify:cm(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,a){const o=a.transform;if(o instanceof Yc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Qc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Jc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Oh)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw Me()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:kb(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Me()}(t,e.precondition)),r}function Cb(t,e){return t&&t.length>0?(gt(e!==void 0),t.map(r=>function(i,s){let a=i.updateTime?Ei(i.updateTime):Ei(s);return a.isEqual(Ue.min())&&(a=Ei(s)),new cb(a,i.transformResults||[])}(r,e))):[]}function Rb(t,e){return{documents:[Vk(t,e.path)]}}function Nb(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=Vk(t,i);const s=function(c){if(c.length!==0)return Bk(ai.create(c,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:mo(d.field),direction:Fb(d.dir)}}(u))}(e.orderBy);a&&(r.structuredQuery.orderBy=a);const o=om(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:r,parent:i}}function Pb(t){let e=Sb(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){gt(n===1);const u=r.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];r.where&&(s=function(h){const d=jk(h);return d instanceof ai&&gk(d)?d.getFilters():[d]}(r.where));let a=[];r.orderBy&&(a=function(h){return h.map(d=>function(x){return new bh(go(x.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(d))}(r.orderBy));let o=null;r.limit&&(o=function(h){let d;return d=typeof h=="object"?h.value:h,k0(d)?null:d}(r.limit));let l=null;r.startAt&&(l=function(h){const d=!!h.before,p=h.values||[];return new Fh(p,d)}(r.startAt));let c=null;return r.endAt&&(c=function(h){const d=!h.before,p=h.values||[];return new Fh(p,d)}(r.endAt)),X3(e,i,a,s,o,"F",l,c)}function Db(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function jk(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=go(r.unaryFilter.field);return Qt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=go(r.unaryFilter.field);return Qt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=go(r.unaryFilter.field);return Qt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=go(r.unaryFilter.field);return Qt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Me()}}(t):t.fieldFilter!==void 0?function(r){return Qt.create(go(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Me()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return ai.create(r.compositeFilter.filters.map(n=>jk(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Me()}}(r.compositeFilter.op))}(t):Me()}function Fb(t){return yb[t]}function bb(t){return wb[t]}function Ob(t){return Eb[t]}function mo(t){return{fieldPath:t.canonicalString()}}function go(t){return xr.fromServerFormat(t.fieldPath)}function Bk(t){return t instanceof Qt?function(r){if(r.op==="=="){if(M_(r.value))return{unaryFilter:{field:mo(r.field),op:"IS_NAN"}};if(L_(r.value))return{unaryFilter:{field:mo(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(M_(r.value))return{unaryFilter:{field:mo(r.field),op:"IS_NOT_NAN"}};if(L_(r.value))return{unaryFilter:{field:mo(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(r.field),op:bb(r.op),value:r.value}}}(t):t instanceof ai?function(r){const n=r.getFilters().map(i=>Bk(i));return n.length===1?n[0]:{compositeFilter:{op:Ob(r.op),filters:n}}}(t):Me()}function Lb(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function zk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,r,n,i,s=Ue.min(),a=Ue.min(),o=kr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e){this.ct=e}}function Vb(t){const e=Pb({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?am(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this.un=new jb}addToCollectionParentIndex(e,r){return this.un.add(r),ve.resolve()}getCollectionParents(e,r){return ve.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return ve.resolve()}deleteFieldIndex(e,r){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,r){return ve.resolve()}getDocumentsMatchingTarget(e,r){return ve.resolve(null)}getIndexType(e,r){return ve.resolve(0)}getFieldIndexes(e,r){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,r){return ve.resolve(Qs.min())}getMinOffsetFromCollectionGroup(e,r){return ve.resolve(Qs.min())}updateCollectionGroup(e,r,n){return ve.resolve()}updateIndexEntries(e,r){return ve.resolve()}}class jb{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new yr(It.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new yr(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new il(0)}static kn(){return new il(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(){this.changes=new ml(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Or.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ve.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&pc(n.mutation,i,_n.empty(),ir.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Xe()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Xe()){const i=Ea();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let a=ql();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const n=Ea();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Xe()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{r.set(a,o)})})}computeViews(e,r,n,i){let s=cs();const a=dc(),o=function(){return dc()}();return r.forEach((l,c)=>{const u=n.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof aa)?s=s.insert(c.key,c):u!==void 0?(a.set(c.key,u.mutation.getFieldMask()),pc(u.mutation,c,u.mutation.getFieldMask(),ir.now())):a.set(c.key,_n.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>a.set(c,u)),r.forEach((c,u)=>{var h;return o.set(c,new zb(u,(h=a.get(c))!==null&&h!==void 0?h:null))}),o))}recalculateAndSaveOverlays(e,r){const n=dc();let i=new Lt((a,o)=>a-o),s=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||_n.empty();u=o.applyToLocalView(c,u),n.set(l,u);const h=(i.get(o.batchId)||Xe()).add(l);i=i.insert(o.batchId,h)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,h=Sk();u.forEach(d=>{if(!s.has(d)){const p=Pk(r.get(d),n.get(d));p!==null&&h.set(d,p),s=s.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,h))}return ve.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(a){return De.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):yk(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):ve.resolve(Ea());let o=-1,l=s;return a.next(c=>ve.forEach(c,(u,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),s.get(u)?ve.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Xe())).next(u=>({batchId:o,changes:kk(u)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new De(r)).next(n=>{let i=ql();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let a=ql();return this.indexManager.getCollectionParents(e,s).next(o=>ve.forEach(o,l=>{const c=function(h,d){return new ku(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(r,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,n,i).next(u=>{u.forEach((h,d)=>{a=a.insert(h,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(a=>{s.forEach((l,c)=>{const u=c.getKey();a.get(u)===null&&(a=a.insert(u,Or.newInvalidDocument(u)))});let o=ql();return a.forEach((l,c)=>{const u=s.get(l);u!==void 0&&pc(u.mutation,c,_n.empty(),ir.now()),A0(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return ve.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Ei(i.createTime)}}(r)),ve.resolve()}getNamedQuery(e,r){return ve.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:Vb(i.bundledQuery),readTime:Ei(i.readTime)}}(r)),ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(){this.overlays=new Lt(De.comparator),this.Ir=new Map}getOverlay(e,r){return ve.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Ea();return ve.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.ht(e,r,s)}),ve.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),ve.resolve()}getOverlaysForCollection(e,r,n){const i=Ea(),s=r.length+1,a=new De(r.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>n&&i.set(l.getKey(),l)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new Lt((c,u)=>c-u);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=s.get(c.largestBatchId);u===null&&(u=Ea(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=Ea(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=i)););return ve.resolve(o)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new pb(r,n));let s=this.Ir.get(r);s===void 0&&(s=Xe(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.sessionToken=kr.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(){this.Tr=new yr(lr.Er),this.dr=new yr(lr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new lr(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new lr(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new De(new It([])),n=new lr(r,e),i=new lr(r,e+1),s=[];return this.dr.forEachInRange([n,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new De(new It([])),n=new lr(r,e),i=new lr(r,e+1);let s=Xe();return this.dr.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(e){const r=new lr(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class lr{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return De.comparator(e.key,r.key)||ct(e.wr,r.wr)}static Ar(e,r){return ct(e.wr,r.wr)||De.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new yr(lr.Er)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new db(s,r,n,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new lr(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ve.resolve(a)}lookupMutationBatch(e,r){return ve.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),s=i<0?0:i;return ve.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new lr(r,0),i=new lr(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],a=>{const o=this.Dr(a.wr);s.push(o)}),ve.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new yr(ct);return r.forEach(i=>{const s=new lr(i,0),a=new lr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],o=>{n=n.add(o.wr)})}),ve.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;De.isDocumentKey(s)||(s=s.child(""));const a=new lr(new De(s),0);let o=new yr(ct);return this.br.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.wr)),!0)},a),ve.resolve(this.Cr(o))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){gt(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return ve.forEach(r.mutations,i=>{const s=new lr(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new lr(r,0),i=this.br.firstAfterOrEqual(n);return ve.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e){this.Mr=e,this.docs=function(){return new Lt(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ve.resolve(n?n.document.mutableCopy():Or.newInvalidDocument(r))}getEntries(e,r){let n=cs();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():Or.newInvalidDocument(i))}),ve.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=cs();const a=r.path,o=new De(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||N3(R3(u),n)<=0||(i.has(u.key)||A0(r,u))&&(s=s.insert(u.key,u.mutableCopy()))}return ve.resolve(s)}getAllFromCollectionGroup(e,r,n,i){Me()}Or(e,r){return ve.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new Xb(this)}getSize(e){return ve.resolve(this.size)}}class Xb extends Bb{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),ve.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e){this.persistence=e,this.Nr=new ml(r=>Xg(r),Yg),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.Lr=0,this.Br=new nv,this.targetCount=0,this.kr=il.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),ve.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new il(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,ve.resolve()}updateTargetData(e,r){return this.Kn(r),ve.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),ve.waitFor(s).next(()=>i)}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return ve.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),ve.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),ve.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),ve.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return ve.resolve(n)}containsKey(e,r){return ve.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,r){this.qr={},this.overlays={},this.Qr=new Wg(0),this.Kr=!1,this.Kr=!0,this.$r=new Gb,this.referenceDelegate=e(this),this.Ur=new Yb(this),this.indexManager=new Ub,this.remoteDocumentCache=function(i){return new qb(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new Mb(r),this.Gr=new Hb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Wb,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new Kb(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Pe("MemoryPersistence","Starting transaction:",e);const i=new Jb(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,r){return ve.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class Jb extends D3{constructor(e){super(),this.currentSequenceNumber=e}}class iv{constructor(e){this.persistence=e,this.Jr=new nv,this.Yr=null}static Zr(e){return new iv(e)}get Xr(){if(this.Yr)return this.Yr;throw Me()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),ve.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),ve.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),ve.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.Xr,n=>{const i=De.fromPath(n);return this.ei(e,i).next(s=>{s||r.removeEntry(i,Ue.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return ve.or([()=>ve.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=Xe(),i=Xe();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new sv(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return sP()?8:F3(jr())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.Yi(e,r).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,r,i,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new Zb;return this.Xi(e,r,a).next(o=>{if(s.result=o,this.zi)return this.es(e,r,a,o.size)})}).next(()=>s.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(Bl()<=Ye.DEBUG&&Pe("QueryEngine","SDK will not create cache indexes for query:",po(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ve.resolve()):(Bl()<=Ye.DEBUG&&Pe("QueryEngine","Query:",po(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Bl()<=Ye.DEBUG&&Pe("QueryEngine","The SDK decides to create cache indexes for query:",po(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wi(r))):ve.resolve())}Yi(e,r){if(B_(r))return ve.resolve(null);let n=wi(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=am(r,null,"F"),n=wi(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const a=Xe(...s);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.ts(r,o);return this.ns(r,c,a,l.readTime)?this.Yi(e,am(r,null,"F")):this.rs(e,c,r,l)}))})))}Zi(e,r,n,i){return B_(r)||i.isEqual(Ue.min())?ve.resolve(null):this.Ji.getDocuments(e,n).next(s=>{const a=this.ts(r,s);return this.ns(r,a,n,i)?ve.resolve(null):(Bl()<=Ye.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),po(r)),this.rs(e,a,r,C3(i,-1)).next(o=>o))})}ts(e,r){let n=new yr(Ek(e));return r.forEach((i,s)=>{A0(e,s)&&(n=n.add(s))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,r,n){return Bl()<=Ye.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",po(r)),this.Ji.getDocumentsMatchingQuery(e,r,Qs.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Lt(ct),this._s=new ml(s=>Xg(s),Yg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $b(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function rO(t,e,r,n){return new tO(t,e,r,n)}async function $k(t,e){const r=Be(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],o=[];let l=Xe();for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({hs:c,removedBatchIds:a,addedBatchIds:o}))})})}function nO(t,e){const r=Be(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const h=c.batch,d=h.keys();let p=ve.resolve();return d.forEach(x=>{p=p.next(()=>u.getEntry(l,x)).next(v=>{const y=c.docVersions.get(x);gt(y!==null),v.version.compareTo(y)<0&&(h.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,h))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Xe();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function Hk(t){const e=Be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function iO(t,e){const r=Be(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const o=[];e.targetChanges.forEach((u,h)=>{const d=i.get(h);if(!d)return;o.push(r.Ur.removeMatchingKeys(s,u.removedDocuments,h).next(()=>r.Ur.addMatchingKeys(s,u.addedDocuments,h)));let p=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(kr.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,n)),i=i.insert(h,p),function(v,y,k){return v.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(d,p,u)&&o.push(r.Ur.updateTargetData(s,p))});let l=cs(),c=Xe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,u))}),o.push(sO(s,a,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!n.isEqual(Ue.min())){const u=r.Ur.getLastRemoteSnapshotVersion(s).next(h=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));o.push(u)}return ve.waitFor(o).next(()=>a.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(r.os=i,s))}function sO(t,e,r){let n=Xe(),i=Xe();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let a=cs();return r.forEach((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Ue.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):Pe("LocalStore","Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function aO(t,e){const r=Be(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function oO(t,e){const r=Be(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(s=>s?(i=s,ve.resolve(i)):r.Ur.allocateTargetId(n).next(a=>(i=new Fs(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function fm(t,e,r){const n=Be(t),i=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Tu(a))throw a;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function J_(t,e,r){const n=Be(t);let i=Ue.min(),s=Xe();return n.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,u){const h=Be(l),d=h._s.get(u);return d!==void 0?ve.resolve(h.os.get(d)):h.Ur.getTargetData(c,u)}(n,a,wi(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>n.ss.getDocumentsMatchingQuery(a,e,r?i:Ue.min(),r?s:Xe())).next(o=>(lO(n,Q3(e),o),{documents:o,Ts:s})))}function lO(t,e,r){let n=t.us.get(e)||Ue.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.us.set(e,n)}class Z_{constructor(){this.activeTargetIds=nb()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cO{constructor(){this.so=new Z_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Z_,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vf=null;function Od(){return vf===null?vf=function(){return 268435456+Math.round(2147483648*Math.random())}():vf++,"0x"+vf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="WebChannelConnection";class dO extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(r,n,i,s,a){const o=Od(),l=this.xo(r,n.toUriEncodedString());Pe("RestConnection",`Sending RPC '${r}' ${o}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,a),this.No(r,l,c,i).then(u=>(Pe("RestConnection",`Received RPC '${r}' ${o}: `,u),u),u=>{throw el("RestConnection",`RPC '${r}' ${o} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(r,n,i,s,a,o){return this.Mo(r,n,i,s,a)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pl}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>r[a]=s),i&&i.headers.forEach((s,a)=>r[a]=s)}xo(r,n){const i=fO[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const s=Od();return new Promise((a,o)=>{const l=new ik;l.setWithCredentials(!0),l.listenOnce(sk.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Wf.NO_ERROR:const u=l.getResponseJson();Pe(Nr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),a(u);break;case Wf.TIMEOUT:Pe(Nr,`RPC '${e}' ${s} timed out`),o(new Ne(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Wf.HTTP_ERROR:const h=l.getStatus();if(Pe(Nr,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const x=function(y){const k=y.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(k)>=0?k:ue.UNKNOWN}(p.status);o(new Ne(x,p.message))}else o(new Ne(ue.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new Ne(ue.UNAVAILABLE,"Connection failed."));break;default:Me()}}finally{Pe(Nr,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Pe(Nr,`RPC '${e}' ${s} sending request:`,i),l.send(r,"POST",c,n,15)})}Bo(e,r,n){const i=Od(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=lk(),o=ok(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=s.join("");Pe(Nr,`Creating RPC '${e}' stream ${i}: ${u}`,l);const h=a.createWebChannel(u,l);let d=!1,p=!1;const x=new hO({Io:y=>{p?Pe(Nr,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(d||(Pe(Nr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),Pe(Nr,`RPC '${e}' stream ${i} sending:`,y),h.send(y))},To:()=>h.close()}),v=(y,k,T)=>{y.listen(k,w=>{try{T(w)}catch(D){setTimeout(()=>{throw D},0)}})};return v(h,Kl.EventType.OPEN,()=>{p||(Pe(Nr,`RPC '${e}' stream ${i} transport opened.`),x.yo())}),v(h,Kl.EventType.CLOSE,()=>{p||(p=!0,Pe(Nr,`RPC '${e}' stream ${i} transport closed`),x.So())}),v(h,Kl.EventType.ERROR,y=>{p||(p=!0,el(Nr,`RPC '${e}' stream ${i} transport errored:`,y),x.So(new Ne(ue.UNAVAILABLE,"The operation could not be completed")))}),v(h,Kl.EventType.MESSAGE,y=>{var k;if(!p){const T=y.data[0];gt(!!T);const w=T,D=w.error||((k=w[0])===null||k===void 0?void 0:k.error);if(D){Pe(Nr,`RPC '${e}' stream ${i} received error:`,D);const B=D.status;let U=function(S){const C=Gt[S];if(C!==void 0)return Fk(C)}(B),g=D.message;U===void 0&&(U=ue.INTERNAL,g="Unknown error status: "+B+" with message "+D.message),p=!0,x.So(new Ne(U,g)),h.close()}else Pe(Nr,`RPC '${e}' stream ${i} received:`,T),x.bo(T)}}),v(o,ak.STAT_EVENT,y=>{y.stat===em.PROXY?Pe(Nr,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===em.NOPROXY&&Pe(Nr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}}function Ld(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(t){return new Tb(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,r,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,r,n,i,s,a,o,l){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Wk(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===ue.RESOURCE_EXHAUSTED?(ls(r.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new Ne(ue.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pO extends Gk{constructor(e,r,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=Ab(this.serializer,e),n=function(s){if(!("targetChange"in s))return Ue.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Ue.min():a.readTime?Ei(a.readTime):Ue.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=um(this.serializer),r.addTarget=function(s,a){let o;const l=a.target;if(o=im(l)?{documents:Rb(s,l)}:{query:Nb(s,l)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=Lk(s,a.resumeToken);const c=om(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(Ue.min())>0){o.readTime=Lh(s,a.snapshotVersion.toTimestamp());const c=om(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const n=Db(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=um(this.serializer),r.removeTarget=e,this.a_(r)}}class mO extends Gk{constructor(e,r,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return gt(!!e.streamToken),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=Cb(e.writeResults,e.commitTime),n=Ei(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=um(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Ib(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ne(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,lm(r,n),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ne(ue.UNKNOWN,s.toString())})}Lo(e,r,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,lm(r,n),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ne(ue.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class vO{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ls(r),this.D_=!1):Pe("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{n.enqueueAndForget(async()=>{Ya(this)&&(Pe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Be(l);c.L_.add(4),await Iu(c),c.q_.set("Unknown"),c.L_.delete(4),await P0(c)}(this))})}),this.q_=new vO(n,i)}}async function P0(t){if(Ya(t))for(const e of t.B_)await e(!0)}async function Iu(t){for(const e of t.B_)await e(!1)}function Kk(t,e){const r=Be(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),cv(r)?lv(r):gl(r).r_()&&ov(r,e))}function av(t,e){const r=Be(t),n=gl(r);r.N_.delete(e),n.r_()&&qk(r,e),r.N_.size===0&&(n.r_()?n.o_():Ya(r)&&r.q_.set("Unknown"))}function ov(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}gl(t).A_(e)}function qk(t,e){t.Q_.xe(e),gl(t).R_(e)}function lv(t){t.Q_=new _b({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),gl(t).start(),t.q_.v_()}function cv(t){return Ya(t)&&!gl(t).n_()&&t.N_.size>0}function Ya(t){return Be(t).L_.size===0}function Xk(t){t.Q_=void 0}async function _O(t){t.q_.set("Online")}async function yO(t){t.N_.forEach((e,r)=>{ov(t,e)})}async function wO(t,e){Xk(t),cv(t)?(t.q_.M_(e),lv(t)):t.q_.set("Unknown")}async function EO(t,e,r){if(t.q_.set("Online"),e instanceof Ok&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(n){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Mh(t,n)}else if(e instanceof qf?t.Q_.Ke(e):e instanceof bk?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Ue.min()))try{const n=await Hk(t.localStore);r.compareTo(n)>=0&&await function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.N_.get(c);u&&s.N_.set(c,u.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const u=s.N_.get(l);if(!u)return;s.N_.set(l,u.withResumeToken(kr.EMPTY_BYTE_STRING,u.snapshotVersion)),qk(s,l);const h=new Fs(u.target,l,c,u.sequenceNumber);ov(s,h)}),s.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){Pe("RemoteStore","Failed to raise snapshot:",n),await Mh(t,n)}}async function Mh(t,e,r){if(!Tu(e))throw e;t.L_.add(1),await Iu(t),t.q_.set("Offline"),r||(r=()=>Hk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Pe("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await P0(t)})}function Yk(t,e){return e().catch(r=>Mh(t,r,e))}async function D0(t){const e=Be(t),r=Zs(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;TO(e);)try{const i=await aO(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,kO(e,i)}catch(i){await Mh(e,i)}Qk(e)&&Jk(e)}function TO(t){return Ya(t)&&t.O_.length<10}function kO(t,e){t.O_.push(e);const r=Zs(t);r.r_()&&r.V_&&r.m_(e.mutations)}function Qk(t){return Ya(t)&&!Zs(t).n_()&&t.O_.length>0}function Jk(t){Zs(t).start()}async function SO(t){Zs(t).p_()}async function AO(t){const e=Zs(t);for(const r of t.O_)e.m_(r.mutations)}async function IO(t,e,r){const n=t.O_.shift(),i=ev.from(n,e,r);await Yk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await D0(t)}async function CO(t,e){e&&Zs(t).V_&&await async function(n,i){if(function(a){return gb(a)&&a!==ue.ABORTED}(i.code)){const s=n.O_.shift();Zs(n).s_(),await Yk(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await D0(n)}}(t,e),Qk(t)&&Jk(t)}async function ty(t,e){const r=Be(t);r.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const n=Ya(r);r.L_.add(3),await Iu(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await P0(r)}async function RO(t,e){const r=Be(t);e?(r.L_.delete(2),await P0(r)):e||(r.L_.add(2),await Iu(r),r.q_.set("Unknown"))}function gl(t){return t.K_||(t.K_=function(r,n,i){const s=Be(r);return s.w_(),new pO(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:_O.bind(null,t),Ro:yO.bind(null,t),mo:wO.bind(null,t),d_:EO.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),cv(t)?lv(t):t.q_.set("Unknown")):(await t.K_.stop(),Xk(t))})),t.K_}function Zs(t){return t.U_||(t.U_=function(r,n,i){const s=Be(r);return s.w_(),new mO(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:SO.bind(null,t),mo:CO.bind(null,t),f_:AO.bind(null,t),g_:IO.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await D0(t)):(await t.U_.stop(),t.O_.length>0&&(Pe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new Qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const a=Date.now()+n,o=new uv(e,r,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fv(t,e){if(ls("AsyncQueue",`${e}: ${t}`),Tu(t))return new Ne(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.comparator=e?(r,n)=>e(r,n)||De.comparator(r.key,n.key):(r,n)=>De.comparator(r.key,n.key),this.keyedMap=ql(),this.sortedSet=new Lt(this.comparator)}static emptySet(e){return new jo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof jo)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new jo;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(){this.W_=new Lt(De.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Me():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class sl{constructor(e,r,n,i,s,a,o,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,i,s){const a=[];return r.forEach(o=>{a.push({type:0,doc:o})}),new sl(e,r,jo.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&S0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class PO{constructor(){this.queries=ny(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Be(r),s=i.queries;i.queries=ny(),s.forEach((a,o)=>{for(const l of o.j_)l.onError(n)})})(this,new Ne(ue.ABORTED,"Firestore shutting down"))}}function ny(){return new ml(t=>wk(t),S0)}async function Zk(t,e){const r=Be(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new NO,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(i,!0);break;case 1:s.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const o=fv(a,`Initialization of query '${po(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&hv(r)}async function eS(t,e){const r=Be(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function DO(t,e){const r=Be(t);let n=!1;for(const i of e){const s=i.query,a=r.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(n=!0);a.z_=i}}n&&hv(r)}function FO(t,e,r){const n=Be(t),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(r);n.queries.delete(e)}function hv(t){t.Y_.forEach(e=>{e.next()})}var hm,iy;(iy=hm||(hm={})).ea="default",iy.Cache="cache";class tS{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new sl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==hm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.key=e}}class nS{constructor(e){this.key=e}}class bO{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Xe(),this.mutatedKeys=Xe(),this.Aa=Ek(e),this.Ra=new jo(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new ry,i=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const d=i.get(u),p=A0(this.query,h)?h:null,x=!!d&&this.mutatedKeys.has(d.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;d&&p?d.data.isEqual(p.data)?x!==v&&(n.track({type:3,doc:p}),y=!0):this.ga(d,p)||(n.track({type:2,doc:p}),y=!0,(l&&this.Aa(p,l)>0||c&&this.Aa(p,c)<0)&&(o=!0)):!d&&p?(n.track({type:0,doc:p}),y=!0):d&&!p&&(n.track({type:1,doc:d}),y=!0,(l||c)&&(o=!0)),y&&(p?(a=a.add(p),s=v?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),n.track({type:1,doc:u})}return{Ra:a,fa:n,ns:o,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((u,h)=>function(p,x){const v=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me()}};return v(p)-v(x)}(u.type,h.type)||this.Aa(u.doc,h.doc)),this.pa(n),i=i!=null&&i;const o=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,a.length!==0||c?{snapshot:new sl(this.query,e.Ra,s,a,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ry,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Xe(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new nS(n))}),this.da.forEach(n=>{e.has(n)||r.push(new rS(n))}),r}ba(e){this.Ta=e.Ts,this.da=Xe();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return sl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class OO{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class LO{constructor(e){this.key=e,this.va=!1}}class MO{constructor(e,r,n,i,s,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new ml(o=>wk(o),S0),this.Ma=new Map,this.xa=new Set,this.Oa=new Lt(De.comparator),this.Na=new Map,this.La=new nv,this.Ba={},this.ka=new Map,this.qa=il.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function VO(t,e,r=!0){const n=cS(t);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await iS(n,e,r,!0),i}async function UO(t,e){const r=cS(t);await iS(r,e,!0,!1)}async function iS(t,e,r,n){const i=await oO(t.localStore,wi(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await jO(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&Kk(t.remoteStore,i),o}async function jO(t,e,r,n,i){t.Ka=(h,d,p)=>async function(v,y,k,T){let w=y.view.ma(k);w.ns&&(w=await J_(v.localStore,y.query,!1).then(({documents:g})=>y.view.ma(g,w)));const D=T&&T.targetChanges.get(y.targetId),B=T&&T.targetMismatches.get(y.targetId)!=null,U=y.view.applyChanges(w,v.isPrimaryClient,D,B);return ay(v,y.targetId,U.wa),U.snapshot}(t,h,d,p);const s=await J_(t.localStore,e,!0),a=new bO(e,s.Ts),o=a.ma(s.documents),l=Au.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),c=a.applyChanges(o,t.isPrimaryClient,l);ay(t,r,c.wa);const u=new OO(e,r,a);return t.Fa.set(e,u),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),c.snapshot}async function BO(t,e,r){const n=Be(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter(a=>!S0(a,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await fm(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&av(n.remoteStore,i.targetId),dm(n,i.targetId)}).catch(Eu)):(dm(n,i.targetId),await fm(n.localStore,i.targetId,!0))}async function zO(t,e){const r=Be(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),av(r.remoteStore,n.targetId))}async function $O(t,e,r){const n=YO(t);try{const i=await function(a,o){const l=Be(a),c=ir.now(),u=o.reduce((p,x)=>p.add(x.key),Xe());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let x=cs(),v=Xe();return l.cs.getEntries(p,u).next(y=>{x=y,x.forEach((k,T)=>{T.isValidDocument()||(v=v.add(k))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,x)).next(y=>{h=y;const k=[];for(const T of o){const w=fb(T,h.get(T.key).overlayedDocument);w!=null&&k.push(new aa(T.key,w,dk(w.value.mapValue),Ln.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,k,o)}).next(y=>{d=y;const k=y.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(p,y.batchId,k)})}).then(()=>({batchId:d.batchId,changes:kk(h)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let c=a.Ba[a.currentUser.toKey()];c||(c=new Lt(ct)),c=c.insert(o,l),a.Ba[a.currentUser.toKey()]=c}(n,i.batchId,r),await Cu(n,i.changes),await D0(n.remoteStore)}catch(i){const s=fv(i,"Failed to persist write");r.reject(s)}}async function sS(t,e){const r=Be(t);try{const n=await iO(r.localStore,e);e.targetChanges.forEach((i,s)=>{const a=r.Na.get(s);a&&(gt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?gt(a.va):i.removedDocuments.size>0&&(gt(a.va),a.va=!1))}),await Cu(r,n,e)}catch(n){await Eu(n)}}function sy(t,e,r){const n=Be(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=Be(a);l.onlineState=o;let c=!1;l.queries.forEach((u,h)=>{for(const d of h.j_)d.Z_(o)&&(c=!0)}),c&&hv(l)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function HO(t,e,r){const n=Be(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),s=i&&i.key;if(s){let a=new Lt(De.comparator);a=a.insert(s,Or.newNoDocument(s,Ue.min()));const o=Xe().add(s),l=new R0(Ue.min(),new Map,new Lt(ct),a,o);await sS(n,l),n.Oa=n.Oa.remove(s),n.Na.delete(e),dv(n)}else await fm(n.localStore,e,!1).then(()=>dm(n,e,r)).catch(Eu)}async function WO(t,e){const r=Be(t),n=e.batch.batchId;try{const i=await nO(r.localStore,e);oS(r,n,null),aS(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Cu(r,i)}catch(i){await Eu(i)}}async function GO(t,e,r){const n=Be(t);try{const i=await function(a,o){const l=Be(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(h=>(gt(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,e);oS(n,e,r),aS(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Cu(n,i)}catch(i){await Eu(i)}}function aS(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function oS(t,e,r){const n=Be(t);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function dm(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||lS(t,n)})}function lS(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(av(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),dv(t))}function ay(t,e,r){for(const n of r)n instanceof rS?(t.La.addReference(n.key,e),KO(t,n)):n instanceof nS?(Pe("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||lS(t,n.key)):Me()}function KO(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Pe("SyncEngine","New document in limbo: "+r),t.xa.add(n),dv(t))}function dv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new De(It.fromString(e)),n=t.qa.next();t.Na.set(n,new LO(r)),t.Oa=t.Oa.insert(r,n),Kk(t.remoteStore,new Fs(wi(Qg(r.path)),n,"TargetPurposeLimboResolution",Wg.oe))}}async function Cu(t,e,r){const n=Be(t),i=[],s=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach((o,l)=>{a.push(n.Ka(l,e,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const h=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=sv.Wi(l.targetId,c);s.push(h)}}))}),await Promise.all(a),n.Ca.d_(i),await async function(l,c){const u=Be(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ve.forEach(c,d=>ve.forEach(d.$i,p=>u.persistence.referenceDelegate.addReference(h,d.targetId,p)).next(()=>ve.forEach(d.Ui,p=>u.persistence.referenceDelegate.removeReference(h,d.targetId,p)))))}catch(h){if(!Tu(h))throw h;Pe("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const d=h.targetId;if(!h.fromCache){const p=u.os.get(d),x=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(x);u.os=u.os.insert(d,v)}}}(n.localStore,s))}async function qO(t,e){const r=Be(t);if(!r.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const n=await $k(r.localStore,e);r.currentUser=e,function(s,a){s.ka.forEach(o=>{o.forEach(l=>{l.reject(new Ne(ue.CANCELLED,a))})}),s.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Cu(r,n.hs)}}function XO(t,e){const r=Be(t),n=r.Na.get(e);if(n&&n.va)return Xe().add(n.key);{let i=Xe();const s=r.Ma.get(e);if(!s)return i;for(const a of s){const o=r.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}function cS(t){const e=Be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HO.bind(null,e),e.Ca.d_=DO.bind(null,e.eventManager),e.Ca.$a=FO.bind(null,e.eventManager),e}function YO(t){const e=Be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GO.bind(null,e),e}class Vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=N0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return rO(this.persistence,new eO,e.initialUser,this.serializer)}Ga(e){return new Qb(iv.Zr,this.serializer)}Wa(e){return new cO}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vh.provider={build:()=>new Vh};class pm{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>sy(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=qO.bind(null,this.syncEngine),await RO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new PO}()}createDatastore(e){const r=N0(e.databaseInfo.databaseId),n=function(s){return new dO(s)}(e.databaseInfo);return function(s,a,o,l){return new gO(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,a,o){return new xO(n,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,r=>sy(this.syncEngine,r,0),function(){return ey.D()?new ey:new uO}())}createSyncEngine(e,r){return function(i,s,a,o,l,c,u){const h=new MO(i,s,a,o,l,c);return u&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=Be(i);Pe("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Iu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}pm.provider={build:()=>new pm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ls("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Dr.UNAUTHENTICATED,this.clientId=uk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async a=>{Pe("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(Pe("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=fv(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Md(t,e){t.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await $k(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function oy(t,e){t.asyncQueue.verifyOperationInProgress();const r=await JO(t);Pe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>ty(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>ty(e.remoteStore,i)),t._onlineComponents=e}async function JO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Pe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Md(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===ue.FAILED_PRECONDITION||i.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;el("Error using user provided cache. Falling back to memory cache: "+r),await Md(t,new Vh)}}else Pe("FirestoreClient","Using default OfflineComponentProvider"),await Md(t,new Vh);return t._offlineComponents}async function fS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Pe("FirestoreClient","Using user provided OnlineComponentProvider"),await oy(t,t._uninitializedComponentsProvider._online)):(Pe("FirestoreClient","Using default OnlineComponentProvider"),await oy(t,new pm))),t._onlineComponents}function ZO(t){return fS(t).then(e=>e.syncEngine)}async function hS(t){const e=await fS(t),r=e.eventManager;return r.onListen=VO.bind(null,e.syncEngine),r.onUnlisten=BO.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=UO.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=zO.bind(null,e.syncEngine),r}function eL(t,e,r={}){const n=new Qi;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const u=new uS({next:d=>{u.Za(),a.enqueueAndForget(()=>eS(s,h));const p=d.docs.has(o);!p&&d.fromCache?c.reject(new Ne(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?c.reject(new Ne(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new tS(Qg(o.path),u,{includeMetadataChanges:!0,_a:!0});return Zk(s,h)}(await hS(t),t.asyncQueue,e,r,n)),n.promise}function tL(t,e,r={}){const n=new Qi;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const u=new uS({next:d=>{u.Za(),a.enqueueAndForget(()=>eS(s,h)),d.fromCache&&l.source==="server"?c.reject(new Ne(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new tS(o,u,{includeMetadataChanges:!0,_a:!0});return Zk(s,h)}(await hS(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(t,e,r){if(!r)throw new Ne(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rL(t,e,r,n){if(e===!0&&n===!0)throw new Ne(ue.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function cy(t){if(!De.isDocumentKey(t))throw new Ne(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uy(t){if(De.isDocumentKey(t))throw new Ne(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function F0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me()}function oi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ne(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=F0(t);throw new Ne(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ne(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dS((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ne(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ne(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ne(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class b0{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fy(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new _3;switch(n.type){case"firstParty":return new T3(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ne(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=ly.get(r);n&&(Pe("ComponentProvider","Removing Datastore"),ly.delete(r),n.terminate())}(this),Promise.resolve()}}function nL(t,e,r,n={}){var i;const s=(t=oi(t,b0))._getSettings(),a=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&el("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),n.mockUserToken){let o,l;if(typeof n.mockUserToken=="string")o=n.mockUserToken,l=Dr.MOCK_USER;else{o=vT(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=n.mockUserToken.sub||n.mockUserToken.user_id;if(!c)throw new Ne(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Dr(c)}t._authCredentials=new y3(new ck(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new vl(this.firestore,e,this._query)}}class qr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qr(this.firestore,e,this._key)}}class Gs extends vl{constructor(e,r,n){super(e,r,Qg(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qr(this.firestore,null,new De(e))}withConverter(e){return new Gs(this.firestore,e,this._path)}}function Zc(t,e,...r){if(t=Jt(t),pS("collection","path",e),t instanceof b0){const n=It.fromString(e,...r);return uy(n),new Gs(t,null,n)}{if(!(t instanceof qr||t instanceof Gs))throw new Ne(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(It.fromString(e,...r));return uy(n),new Gs(t.firestore,null,n)}}function li(t,e,...r){if(t=Jt(t),arguments.length===1&&(e=uk.newId()),pS("doc","path",e),t instanceof b0){const n=It.fromString(e,...r);return cy(n),new qr(t,null,new De(n))}{if(!(t instanceof qr||t instanceof Gs))throw new Ne(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(It.fromString(e,...r));return cy(n),new qr(t.firestore,t instanceof Gs?t.converter:null,new De(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Wk(this,"async_queue_retry"),this.Vu=()=>{const n=Ld();n&&Pe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Ld();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Ld();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Qi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Tu(e))throw e;Pe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(n);throw ls("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=uv.createAndSchedule(this,e,r,n,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Me()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}class Qa extends b0{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new hy,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hy(e),this._firestoreClient=void 0,await e}}}function iL(t,e){const r=typeof t=="object"?t:y0(),n=typeof t=="string"?t:"(default)",i=xu(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=Ng("firestore");s&&nL(i,...s)}return i}function pv(t){if(t._terminated)throw new Ne(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||sL(t),t._firestoreClient}function sL(t){var e,r,n;const i=t._freezeSettings(),s=function(o,l,c,u){return new L3(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,dS(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new QO(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this._byteString=e}static fromBase64String(e){try{return new al(kr.fromBase64String(e))}catch(r){throw new Ne(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new al(kr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ne(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ne(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ne(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=/^__.*__$/;class oL{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new aa(e,this.data,this.fieldMask,r,this.fieldTransforms):new Su(e,this.data,r,this.fieldTransforms)}}class mS{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new aa(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function gS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me()}}class vv{constructor(e,r,n,i,s,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new vv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Uh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(gS(this.Cu)&&aL.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class lL{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||N0(e)}Qu(e,r,n,i=!1){return new vv({Cu:e,methodName:r,qu:n,path:xr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function M0(t){const e=t._freezeSettings(),r=N0(t._databaseId);return new lL(t._databaseId,!!e.ignoreUndefinedProperties,r)}function vS(t,e,r,n,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,r,i);_v("Data must be an object, but it was:",a,n);const o=xS(n,a);let l,c;if(s.merge)l=new _n(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const d=mm(e,h,r);if(!a.contains(d))throw new Ne(ue.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);yS(u,d)||u.push(d)}l=new _n(u),c=a.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=a.fieldTransforms;return new oL(new on(o),l,c)}class V0 extends L0{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof V0}}class xv extends L0{_toFieldTransform(e){return new ob(e.path,new Yc)}isEqual(e){return e instanceof xv}}function cL(t,e,r,n){const i=t.Qu(1,e,r);_v("Data must be an object, but it was:",i,n);const s=[],a=on.empty();Xa(n,(l,c)=>{const u=yv(e,l,r);c=Jt(c);const h=i.Nu(u);if(c instanceof V0)s.push(u);else{const d=Ru(c,h);d!=null&&(s.push(u),a.set(u,d))}});const o=new _n(s);return new mS(a,o,i.fieldTransforms)}function uL(t,e,r,n,i,s){const a=t.Qu(1,e,r),o=[mm(e,n,r)],l=[i];if(s.length%2!=0)throw new Ne(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)o.push(mm(e,s[d])),l.push(s[d+1]);const c=[],u=on.empty();for(let d=o.length-1;d>=0;--d)if(!yS(c,o[d])){const p=o[d];let x=l[d];x=Jt(x);const v=a.Nu(p);if(x instanceof V0)c.push(p);else{const y=Ru(x,v);y!=null&&(c.push(p),u.set(p,y))}}const h=new _n(c);return new mS(u,h,a.fieldTransforms)}function fL(t,e,r,n=!1){return Ru(r,t.Qu(n?4:3,e))}function Ru(t,e){if(_S(t=Jt(t)))return _v("Unsupported field value:",e,t),xS(t,e);if(t instanceof L0)return function(n,i){if(!gS(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const s=[];let a=0;for(const o of n){let l=Ru(o,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=Jt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return ib(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=ir.fromDate(n);return{timestampValue:Lh(i.serializer,s)}}if(n instanceof ir){const s=new ir(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Lh(i.serializer,s)}}if(n instanceof mv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof al)return{bytesValue:Lk(i.serializer,n._byteString)};if(n instanceof qr){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:rv(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof gv)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return Jg(o.serializer,l)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${F0(n)}`)}(t,e)}function xS(t,e){const r={};return fk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xa(t,(n,i)=>{const s=Ru(i,e.Mu(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function _S(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ir||t instanceof mv||t instanceof al||t instanceof qr||t instanceof L0||t instanceof gv)}function _v(t,e,r){if(!_S(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=F0(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function mm(t,e,r){if((e=Jt(e))instanceof O0)return e._internalPath;if(typeof e=="string")return yv(t,e);throw Uh("Field path arguments must be of type string or ",t,!1,void 0,r)}const hL=new RegExp("[~\\*/\\[\\]]");function yv(t,e,r){if(e.search(hL)>=0)throw Uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new O0(...e.split("."))._internalPath}catch{throw Uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Uh(t,e,r,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${n}`),a&&(l+=` in document ${i}`),l+=")"),new Ne(ue.INVALID_ARGUMENT,o+t+l)}function yS(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(wv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class dL extends wS{data(){return super.data()}}function wv(t,e){return typeof e=="string"?yv(t,e):e instanceof O0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ne(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ev{}class mL extends Ev{}function dy(t,e,...r){let n=[];e instanceof Ev&&n.push(e),n=n.concat(r),function(s){const a=s.filter(l=>l instanceof Tv).length,o=s.filter(l=>l instanceof U0).length;if(a>1||a>0&&o>0)throw new Ne(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class U0 extends mL{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new U0(e,r,n)}_apply(e){const r=this._parse(e);return ES(e._query,r),new vl(e.firestore,e.converter,sm(e._query,r))}_parse(e){const r=M0(e.firestore);return function(s,a,o,l,c,u,h){let d;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Ne(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){gy(h,u);const p=[];for(const x of h)p.push(my(l,s,x));d={arrayValue:{values:p}}}else d=my(l,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||gy(h,u),d=fL(o,a,h,u==="in"||u==="not-in");return Qt.create(c,u,d)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function py(t,e,r){const n=e,i=wv("where",t);return U0._create(i,n,r)}class Tv extends Ev{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Tv(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:ai.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)ES(a,l),a=sm(a,l)}(e._query,r),new vl(e.firestore,e.converter,sm(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function my(t,e,r){if(typeof(r=Jt(r))=="string"){if(r==="")throw new Ne(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yk(e)&&r.indexOf("/")!==-1)throw new Ne(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(It.fromString(r));if(!De.isDocumentKey(n))throw new Ne(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return O_(t,new De(n))}if(r instanceof qr)return O_(t,r._key);throw new Ne(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${F0(r)}.`)}function gy(t,e){if(!Array.isArray(t)||t.length===0)throw new Ne(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ES(t,e){const r=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Ne(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class gL{convertValue(e,r="none"){switch(Ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Me()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Xa(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(a=>zt(a.doubleValue));return new gv(s)}convertGeoPoint(e){return new mv(zt(e.latitude),zt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Kg(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Kc(e));default:return null}}convertTimestamp(e){const r=Js(e);return new ir(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=It.fromString(e);gt(zk(n));const i=new qc(n.get(1),n.get(3)),s=new De(n.popFirst(5));return i.isEqual(r)||ls(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kS extends wS{constructor(e,r,n,i,s,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Xf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(wv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Xf extends kS{data(e={}){return super.data(e)}}class vL{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Yl(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Xf(this._firestore,this._userDataWriter,n.key,n,new Yl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ne(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new Xf(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Yl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new Xf(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Yl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:xL(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function xL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(t){t=oi(t,qr);const e=oi(t.firestore,Qa);return eL(pv(e),t._key).then(r=>yL(e,t,r))}class SS extends gL{constructor(e){super(),this.firestore=e}convertBytes(e){return new al(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new qr(this.firestore,null,r)}}function eu(t){t=oi(t,vl);const e=oi(t.firestore,Qa),r=pv(e),n=new SS(e);return pL(t._query),tL(r,t._query).then(i=>new vL(e,n,t,i))}function jh(t,e,r){t=oi(t,qr);const n=oi(t.firestore,Qa),i=TS(t.converter,e,r);return j0(n,[vS(M0(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Ln.none())])}function kv(t,e,r,...n){t=oi(t,qr);const i=oi(t.firestore,Qa),s=M0(i);let a;return a=typeof(e=Jt(e))=="string"||e instanceof O0?uL(s,"updateDoc",t._key,e,r,n):cL(s,"updateDoc",t._key,e),j0(i,[a.toMutation(t._key,Ln.exists(!0))])}function _L(t){return j0(oi(t.firestore,Qa),[new Zg(t._key,Ln.none())])}function vy(t,e){const r=oi(t.firestore,Qa),n=li(t),i=TS(t.converter,e);return j0(r,[vS(M0(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Ln.exists(!1))]).then(()=>n)}function j0(t,e){return function(n,i){const s=new Qi;return n.asyncQueue.enqueueAndForget(async()=>$O(await ZO(n),i,s)),s.promise}(pv(t),e)}function yL(t,e,r){const n=r.docs.get(e._key),i=new SS(t);return new kS(t,i,e._key,n,new Yl(r.hasPendingWrites,r.fromCache),e.converter)}function wL(){return new xv("serverTimestamp")}(function(e,r=!0){(function(i){pl=i})(qa),Ys(new ss("firestore",(n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new Qa(new w3(n.getProvider("auth-internal")),new S3(n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ne(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qc(c.options.projectId,u)}(a,i),a);return s=Object.assign({useFetchStreams:r},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),On(N_,"4.7.3",e),On(N_,"4.7.3","esm2017")})();var EL="firebase",TL="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On(EL,TL,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="firebasestorage.googleapis.com",kL="storageBucket",SL=2*60*1e3,AL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Ci{constructor(e,r,n=0){super(Vd(e),`Firebase Storage: ${r} (${Vd(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ri.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Si;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Si||(Si={}));function Vd(t){return"storage/"+t}function IL(){const t="An unknown error occurred, please check the error payload for server response.";return new Ri(Si.UNKNOWN,t)}function CL(){return new Ri(Si.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function RL(){return new Ri(Si.CANCELED,"User canceled the upload/download.")}function NL(t){return new Ri(Si.INVALID_URL,"Invalid URL '"+t+"'.")}function PL(t){return new Ri(Si.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function xy(t){return new Ri(Si.INVALID_ARGUMENT,t)}function IS(){return new Ri(Si.APP_DELETED,"The Firebase app was deleted.")}function DL(t){return new Ri(Si.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Jn.makeFromUrl(e,r)}catch{return new Jn(e,"")}if(n.path==="")return n;throw PL(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function s(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function c(D){D.path_=decodeURIComponent(D.path)}const u="v[A-Za-z0-9_]+",h=r.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${u}/b/${i}/o${d}`,"i"),x={bucket:1,path:3},v=r===AS?"(?:storage.googleapis.com|storage.cloud.google.com)":r,y="([^?#]*)",k=new RegExp(`^https?://${v}/${i}/${y}`,"i"),w=[{regex:o,indices:l,postModify:s},{regex:p,indices:x,postModify:c},{regex:k,indices:{bucket:1,path:2},postModify:c}];for(let D=0;D<w.length;D++){const B=w[D],U=B.regex.exec(e);if(U){const g=U[B.indices.bucket];let E=U[B.indices.path];E||(E=""),n=new Jn(g,E),B.postModify(n);break}}if(n==null)throw NL(e);return n}}class FL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(t,e,r){let n=1,i=null,s=null,a=!1,o=0;function l(){return o===2}let c=!1;function u(...y){c||(c=!0,e.apply(null,y))}function h(y){i=setTimeout(()=>{i=null,t(p,l())},y)}function d(){s&&clearTimeout(s)}function p(y,...k){if(c){d();return}if(y){d(),u.call(null,y,...k);return}if(l()||a){d(),u.call(null,y,...k);return}n<64&&(n*=2);let w;o===1?(o=2,w=0):w=(n+Math.random())*1e3,h(w)}let x=!1;function v(y){x||(x=!0,d(),!c&&(i!==null?(y||(o=2),clearTimeout(i),h(0)):y||(o=1)))}return h(0),s=setTimeout(()=>{a=!0,v(!0)},r),v}function OL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(t){return t!==void 0}function _y(t,e,r,n){if(n<e)throw xy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw xy(`Invalid value for '${t}'. Expected ${r} or less.`)}function ML(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Bh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Bh||(Bh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return r||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,r,n,i,s,a,o,l,c,u,h,d=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,x)=>{this.resolve_=p,this.reject_=x,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new xf(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===Bh.NO_ERROR,l=s.getStatus();if(!o||VL(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===Bh.ABORT;n(!1,new xf(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;n(!0,new xf(c,s))})},r=(n,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());LL(l)?s(l):s()}catch(l){a(l)}else if(o!==null){const l=IL();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(i.canceled){const l=this.appDelete_?IS():RL();a(l)}else{const l=CL();a(l)}};this.canceled_?r(!1,new xf(!1,null,!0)):this.backoffId_=bL(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&OL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xf{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function jL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function BL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function zL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function $L(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function HL(t,e,r,n,i,s,a=!0){const o=ML(t.urlParams),l=t.url+o,c=Object.assign({},t.headers);return zL(c,e),jL(c,r),BL(c,s),$L(c,n),new UL(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function GL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,r){this._service=e,r instanceof Jn?this._location=r:this._location=Jn.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new zh(e,r)}get root(){const e=new Jn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return GL(this._location.path)}get storage(){return this._service}get parent(){const e=WL(this._location.path);if(e===null)return null;const r=new Jn(this._location.bucket,e);return new zh(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw DL(e)}}function yy(t,e){const r=e==null?void 0:e[kL];return r==null?null:Jn.makeFromBucketSpec(r,t)}function KL(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:vT(i,t.app.options.projectId))}class qL{constructor(e,r,n,i,s){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=AS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=SL,this._maxUploadRetryTime=AL,this._requests=new Set,i!=null?this._bucket=Jn.makeFromBucketSpec(i,this._host):this._bucket=yy(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Jn.makeFromBucketSpec(this._url,e):this._bucket=yy(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_y("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_y("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zh(this,e)}_makeRequest(e,r,n,i,s=!0){if(this._deleted)return new FL(IS());{const a=HL(e,this._appId,n,i,r,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const wy="@firebase/storage",Ey="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="storage";function XL(t=y0(),e){t=Jt(t);const n=xu(t,CS).getImmediate({identifier:e}),i=Ng("storage");return i&&YL(n,...i),n}function YL(t,e,r,n={}){KL(t,e,r,n)}function QL(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new qL(r,n,i,e,qa)}function JL(){Ys(new ss(CS,QL,"PUBLIC").setMultipleInstances(!0)),On(wy,Ey,""),On(wy,Ey,"esm2017")}JL();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,r,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||r.get().then(i=>this.messaging=i,()=>{}),this.appCheck||n.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const r=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return r.error?null:r.token}return null}async getContext(e){const r=await this.getAuthToken(),n=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:r,messagingToken:n,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="us-central1";class e6{constructor(e,r,n,i,s=gm,a){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new ZL(r,n,i),this.cancelAllRequests=new Promise(o=>{this.deleteService=()=>Promise.resolve(o())});try{const o=new URL(s);this.customDomain=o.origin+(o.pathname==="/"?"":o.pathname),this.region=gm}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const r=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${r}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${r}.cloudfunctions.net/${e}`}}function t6(t,e,r){t.emulatorOrigin=`http://${e}:${r}`}const Ty="@firebase/functions",ky="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6="auth-internal",n6="app-check-internal",i6="messaging-internal";function s6(t,e){const r=(n,{instanceIdentifier:i})=>{const s=n.getProvider("app").getImmediate(),a=n.getProvider(r6),o=n.getProvider(i6),l=n.getProvider(n6);return new e6(s,a,o,l,i,t)};Ys(new ss(RS,r,"PUBLIC").setMultipleInstances(!0)),On(Ty,ky,e),On(Ty,ky,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(t=y0(),e=gm){const n=xu(Jt(t),RS).getImmediate({identifier:e}),i=Ng("functions");return i&&o6(n,...i),n}function o6(t,e,r){t6(Jt(t),e,r)}s6(fetch.bind(self));const l6={apiKey:"AIzaSyAnEPcQISz9FY68mib-0StN6NQtTF3oz1c",authDomain:"xmas-movies.firebaseapp.com",projectId:"xmas-movies",storageBucket:"xmas-movies.firebasestorage.app",messagingSenderId:"721037810395",appId:"1:721037810395:web:1126b377adcc225c944afe"},B0=yT(l6),mc=v3(B0),NS=new vi;NS.setCustomParameters({prompt:"select_account"});const c6=NS,Xr=iL(B0);XL(B0);a6(B0);const PS=X.createContext(void 0),ds=()=>{const t=X.useContext(PS);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},u6=({children:t})=>{const[e,r]=X.useState(null),[n,i]=X.useState(null),[s,a]=X.useState(!0),[o,l]=X.useState(null);X.useEffect(()=>{const d=HT(mc,async p=>{if(r(p),l(null),p)try{const x=li(Xr,"users",p.uid),v=await ja(x);if(v.exists())await jh(x,{lastLoginAt:wL()},{merge:!0}),i(v.data());else{const y={email:p.email||"",displayName:p.displayName||"User",photoURL:p.photoURL||void 0,createdAt:new Date,lastLoginAt:new Date};await jh(x,y),i({id:p.uid,...y})}}catch(x){console.error("Error fetching user profile:",x),l("Failed to load user profile")}else i(null);a(!1)});return()=>d()},[]);const h={currentUser:e,userProfile:n,isLoading:s,error:o,signInWithGoogle:async()=>{try{l(null),a(!0);const d=new vi;await tk(mc,d)}catch(d){console.error("Login error:",d),l(d.message||"Failed to sign in")}finally{a(!1)}},signOut:async()=>{try{await oF(mc)}catch(d){console.error("Sign out error:",d),l(d.message||"Failed to sign out")}}};return m.jsx(PS.Provider,{value:h,children:t})},z0=()=>{const[t,e]=X.useState(!1),[r,n]=X.useState(!0),[i,s]=X.useState(null),[a,o]=X.useState(null);return X.useEffect(()=>{const l=HT(mc,async c=>{if(n(!0),s(null),!c){e(!1),o(null),n(!1);return}o({uid:c.uid,email:c.email});try{if((await RT(c)).claims.admin===!0){e(!0),n(!1);return}const d=li(Xr,"admins",c.uid),p=await ja(d);e(p.exists())}catch(u){console.error("Error checking admin status:",u),s("Failed to verify admin status"),e(!1)}finally{n(!1)}});return()=>l()},[]),{isAdmin:t,loading:r,error:i,currentUser:a}},f6=({snowflakeCount:t=100,mobileSnowflakeCount:e=50})=>{const[r,n]=X.useState(!1),[i,s]=X.useState(t),a=X.useRef(null),o=X.useRef([]),l=X.useRef(0);return X.useEffect(()=>{const c=()=>{const u=window.matchMedia("(max-width: 768px)").matches;n(u),s(u?e:t)};return c(),window.addEventListener("resize",c),()=>{window.removeEventListener("resize",c)}},[t,e]),X.useEffect(()=>{const c=a.current;if(!c)return;const u=c.getContext("2d");if(!u)return;const h=()=>{c.width=window.innerWidth,c.height=window.innerHeight},d=()=>{o.current=[];for(let y=0;y<i;y++)o.current.push({x:Math.random()*c.width,y:Math.random()*c.height,size:r?Math.random()*3+1:Math.random()*4+1,speed:r?Math.random()*.8+.3:Math.random()*1+.5,opacity:r?Math.random()*.5+.2:Math.random()*.6+.3,wind:r?Math.random()*.3-.15:Math.random()*.5-.25})},p=y=>{u.beginPath(),u.arc(y.x,y.y,y.size,0,Math.PI*2),u.fillStyle=`rgba(255, 255, 255, ${y.opacity})`,u.fill()},x=y=>{y.y+=y.speed,y.x+=y.wind,y.y>c.height&&(y.y=-10,y.x=Math.random()*c.width),y.x>c.width?y.x=0:y.x<0&&(y.x=c.width)},v=()=>{u.clearRect(0,0,c.width,c.height),o.current.forEach(y=>{p(y),x(y)}),l.current=requestAnimationFrame(v)};return window.addEventListener("resize",h),h(),d(),v(),()=>{window.removeEventListener("resize",h),cancelAnimationFrame(l.current)}},[i]),m.jsx("canvas",{ref:a,className:"fixed top-0 left-0 w-full h-full pointer-events-none z-10","aria-hidden":"true"})},h6=()=>{const[t,e]=X.useState(!1),[r,n]=X.useState(null),[i,s]=X.useState(!1);X.useEffect(()=>{const l=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;s(l);const c=u=>{u.preventDefault(),n(u),e(!0)};return window.addEventListener("beforeinstallprompt",c),window.matchMedia("(display-mode: standalone)").matches&&e(!1),()=>{window.removeEventListener("beforeinstallprompt",c)}},[]);const a=async()=>{if(!r)return;r.prompt();const{outcome:l}=await r.userChoice;n(null),e(!1),console.log(`User ${l==="accepted"?"accepted":"dismissed"} the install prompt`)},o=()=>{e(!1),localStorage.setItem("installPromptDismissed","true")};return t?m.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-green-800 text-white p-4 shadow-lg z-50 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"mr-3 text-2xl",children:m.jsx("i",{className:"fas fa-gift"})}),m.jsx("div",{children:i?m.jsxs("p",{children:["Install this app on your device: tap ",m.jsx("i",{className:"fas fa-share"}),' and then "Add to Home Screen"']}):m.jsx("p",{children:"Add Christmas Movies to your home screen!"})})]}),m.jsxs("div",{className:"flex items-center",children:[!i&&m.jsx("button",{onClick:a,className:"bg-red-700 hover:bg-red-800 text-white py-1 px-4 rounded-full mr-2",children:"Install"}),m.jsx("button",{onClick:o,className:"bg-transparent hover:bg-green-700 text-white py-1 px-2 rounded-full",children:m.jsx("i",{className:"fas fa-times"})})]})]}):null};function d6(){const{currentUser:t}=ds(),{isAdmin:e}=z0(),[r,n]=X.useState(!1),i=Ga();X.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[r]),X.useEffect(()=>{r&&n(!1)},[i.pathname]);const s=()=>{n(!r)};return m.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-xmas-bg to-xmas-card bg-opacity-95",children:[m.jsx(f6,{snowflakeCount:150,mobileSnowflakeCount:40}),m.jsx(h6,{}),m.jsxs("div",{className:"navbar bg-gradient-to-r from-xmas-card via-xmas-card to-xmas-bg border-b border-xmas-gold px-2 sm:px-4 shadow-lg relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-xmas-gold via-transparent to-xmas-gold opacity-60"}),m.jsx("div",{className:"absolute -bottom-4 left-0 right-0 h-8 snow-accumulation-fast"}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("button",{className:"btn btn-ghost btn-sm md:hidden relative z-10",onClick:s,"aria-label":"Toggle navigation menu",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block w-5 h-5 stroke-current",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),m.jsxs(it,{to:"/",className:"hidden sm:flex items-center group",children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-xmas-gold to-xmas-line rounded-full opacity-70 group-hover:opacity-100 blur transition duration-200"}),m.jsx("div",{className:"relative flex items-center justify-center w-10 h-10 bg-xmas-card rounded-full border border-xmas-gold overflow-hidden",children:m.jsx("img",{src:"/Santa.png",alt:"Santa",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"})})]}),m.jsx("div",{className:"ml-3 font-christmas text-xl sm:text-2xl bg-gradient-to-br from-xmas-gold via-xmas-snow to-xmas-gold bg-clip-text text-transparent font-bold",children:"Christmas Movies"})]}),m.jsxs(it,{to:"/",className:"sm:hidden flex items-center",children:[m.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-xmas-card border border-xmas-gold overflow-hidden",children:m.jsx("img",{src:"/Santa.png",alt:"Santa",className:"w-full h-full object-cover"})}),m.jsx("span",{className:"ml-2 font-christmas text-lg text-xmas-gold",children:"Christmas Movies"})]})]}),m.jsx("div",{className:"flex-1"}),m.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[t&&m.jsxs(it,{to:"/profile",className:"btn btn-primary btn-sm hidden md:flex",children:[m.jsx("i",{className:"fas fa-user-circle mr-1"})," Profile"]}),t?m.jsxs("div",{className:"dropdown dropdown-end",children:[m.jsx("label",{tabIndex:0,className:"btn btn-ghost btn-circle avatar cursor-pointer",children:m.jsx("div",{className:"w-10 rounded-full border border-xmas-gold",children:t.photoURL?m.jsx("img",{src:t.photoURL,alt:"Profile"}):m.jsx("div",{className:"bg-xmas-card flex items-center justify-center h-full",children:m.jsx("i",{className:"fas fa-user text-xmas-gold"})})})}),m.jsxs("ul",{tabIndex:0,className:"dropdown-content menu menu-sm mt-3 z-[1] p-2 shadow bg-xmas-card rounded-box w-52 border border-xmas-gold",children:[m.jsx("li",{children:m.jsxs(it,{to:"/profile",className:"justify-between",children:["Profile",m.jsx("i",{className:"fas fa-user-circle"})]})}),m.jsx("li",{children:m.jsxs(it,{to:"/movies",children:["My Movies",m.jsx("i",{className:"fas fa-film"})]})}),m.jsx("li",{children:m.jsxs(it,{to:"/random",children:["Random Movie",m.jsx("i",{className:"fas fa-random"})]})}),m.jsx("li",{children:m.jsxs(it,{to:"/import",children:["Import Movies",m.jsx("i",{className:"fas fa-file-import"})]})}),e&&m.jsx("li",{children:m.jsxs(it,{to:"/admin",className:"text-xmas-gold",children:["Admin Dashboard",m.jsx("i",{className:"fas fa-crown"})]})})]})]}):m.jsxs(it,{to:"/login",className:"btn btn-primary btn-sm",children:[m.jsx("i",{className:"fas fa-sign-in-alt mr-1"})," Sign In"]})]})]}),m.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-70 z-20 transition-opacity duration-300 md:hidden ${r?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:s}),m.jsxs("div",{className:`fixed top-0 left-0 h-full w-72 bg-gradient-to-b from-xmas-bg to-xmas-card border-r border-xmas-gold z-30 transform transition-transform duration-300 ease-in-out md:hidden shadow-xl ${r?"translate-x-0":"-translate-x-full"}`,children:[m.jsxs("div",{className:"relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-xmas-gold via-transparent to-xmas-gold opacity-60"}),m.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-xmas-gold bg-xmas-card bg-opacity-80",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"w-9 h-9 flex items-center justify-center rounded-full bg-xmas-card border border-xmas-gold shadow-lg overflow-hidden",children:m.jsx("img",{src:"/Santa.png",alt:"Santa",className:"w-full h-full object-cover"})}),m.jsx("div",{className:"ml-3 font-christmas text-xl bg-gradient-to-br from-xmas-gold via-xmas-snow to-xmas-gold bg-clip-text text-transparent font-bold",children:"Christmas Movies"})]}),m.jsx("button",{className:"btn btn-ghost btn-sm text-xmas-text hover:text-xmas-line",onClick:s,"aria-label":"Close navigation menu",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),m.jsx("div",{className:"overflow-y-auto h-full pb-20",children:m.jsx("div",{className:"p-4 pt-6",children:m.jsxs("div",{className:"mb-6",children:[m.jsx("h3",{className:"font-christmas text-xl text-xmas-gold mb-4 pl-2 border-l-2 border-xmas-line",children:"Navigation"}),m.jsxs("ul",{className:"space-y-3",children:[m.jsx("li",{children:m.jsx(ua,{to:"/",onClick:s,className:({isActive:a})=>a?"flex items-center p-2 pl-3 rounded-md bg-gradient-to-r from-xmas-card to-transparent border-l-2 border-xmas-gold text-xmas-gold font-medium":"flex items-center p-2 pl-3 rounded-md hover:bg-xmas-card hover:bg-opacity-50 text-xmas-text hover:text-xmas-gold transition-all duration-200",children:({isActive:a})=>m.jsxs(m.Fragment,{children:[m.jsx("i",{className:"fas fa-home mr-3 text-xmas-gold"}),m.jsx("span",{children:"Home"}),m.jsx("i",{className:`fas fa-snowflake ml-auto text-xmas-gold opacity-70 ${a?"visible":"invisible"}`})]})})}),t?m.jsxs(m.Fragment,{children:[m.jsx("li",{children:m.jsx(ua,{to:"/movies",onClick:s,className:({isActive:a})=>a?"flex items-center p-2 pl-3 rounded-md bg-gradient-to-r from-xmas-card to-transparent border-l-2 border-xmas-gold text-xmas-gold font-medium":"flex items-center p-2 pl-3 rounded-md hover:bg-xmas-card hover:bg-opacity-50 text-xmas-text hover:text-xmas-gold transition-all duration-200",children:({isActive:a})=>m.jsxs(m.Fragment,{children:[m.jsx("i",{className:"fas fa-film mr-3 text-xmas-gold"}),m.jsx("span",{children:"My Movies"}),m.jsx("i",{className:`fas fa-snowflake ml-auto text-xmas-gold opacity-70 ${a?"visible":"invisible"}`})]})})}),m.jsx("li",{children:m.jsx(ua,{to:"/random",onClick:s,className:({isActive:a})=>a?"flex items-center p-2 pl-3 rounded-md bg-gradient-to-r from-xmas-card to-transparent border-l-2 border-xmas-gold text-xmas-gold font-medium":"flex items-center p-2 pl-3 rounded-md hover:bg-xmas-card hover:bg-opacity-50 text-xmas-text hover:text-xmas-gold transition-all duration-200",children:({isActive:a})=>m.jsxs(m.Fragment,{children:[m.jsx("i",{className:"fas fa-random mr-3 text-xmas-gold"}),m.jsx("span",{children:"Random Movie"}),m.jsx("i",{className:`fas fa-snowflake ml-auto text-xmas-gold opacity-70 ${a?"visible":"invisible"}`})]})})}),m.jsx("li",{children:m.jsx(ua,{to:"/import",onClick:s,className:({isActive:a})=>a?"flex items-center p-2 pl-3 rounded-md bg-gradient-to-r from-xmas-card to-transparent border-l-2 border-xmas-gold text-xmas-gold font-medium":"flex items-center p-2 pl-3 rounded-md hover:bg-xmas-card hover:bg-opacity-50 text-xmas-text hover:text-xmas-gold transition-all duration-200",children:({isActive:a})=>m.jsxs(m.Fragment,{children:[m.jsx("i",{className:"fas fa-file-import mr-3 text-xmas-gold"}),m.jsx("span",{children:"Import Movies"}),m.jsx("i",{className:`fas fa-snowflake ml-auto text-xmas-gold opacity-70 ${a?"visible":"invisible"}`})]})})}),m.jsx("li",{children:m.jsx(ua,{to:"/profile",onClick:s,className:({isActive:a})=>a?"flex items-center p-2 pl-3 rounded-md bg-gradient-to-r from-xmas-card to-transparent border-l-2 border-xmas-gold text-xmas-gold font-medium":"flex items-center p-2 pl-3 rounded-md hover:bg-xmas-card hover:bg-opacity-50 text-xmas-text hover:text-xmas-gold transition-all duration-200",children:({isActive:a})=>m.jsxs(m.Fragment,{children:[m.jsx("i",{className:"fas fa-user-circle mr-3 text-xmas-gold"}),m.jsx("span",{children:"Profile"}),m.jsx("i",{className:`fas fa-snowflake ml-auto text-xmas-gold opacity-70 ${a?"visible":"invisible"}`})]})})}),e&&m.jsx("li",{children:m.jsx(ua,{to:"/admin",onClick:s,className:({isActive:a})=>a?"flex items-center p-2 pl-3 rounded-md bg-gradient-to-r from-xmas-card to-transparent border-l-2 border-xmas-gold text-xmas-gold font-medium":"flex items-center p-2 pl-3 rounded-md hover:bg-xmas-card hover:bg-opacity-50 text-xmas-text hover:text-xmas-gold transition-all duration-200",children:({isActive:a})=>m.jsxs(m.Fragment,{children:[m.jsx("i",{className:"fas fa-crown mr-3 text-xmas-gold"}),m.jsx("span",{children:"Admin Dashboard"}),m.jsx("i",{className:`fas fa-snowflake ml-auto text-xmas-gold opacity-70 ${a?"visible":"invisible"}`})]})})})]}):m.jsx("li",{children:m.jsx(ua,{to:"/login",onClick:s,className:({isActive:a})=>a?"flex items-center p-2 pl-3 rounded-md bg-gradient-to-r from-xmas-card to-transparent border-l-2 border-xmas-gold text-xmas-gold font-medium":"flex items-center p-2 pl-3 rounded-md hover:bg-xmas-card hover:bg-opacity-50 text-xmas-text hover:text-xmas-gold transition-all duration-200",children:({isActive:a})=>m.jsxs(m.Fragment,{children:[m.jsx("i",{className:"fas fa-sign-in-alt mr-3 text-xmas-gold"}),m.jsx("span",{children:"Sign In"}),m.jsx("i",{className:`fas fa-snowflake ml-auto text-xmas-gold opacity-70 ${a?"visible":"invisible"}`})]})})})]})]})})})]}),m.jsx("main",{className:"p-4",children:m.jsx(lT,{})}),m.jsx("div",{className:"fixed bottom-0 left-0 w-full pointer-events-none",children:m.jsx("div",{className:"container mx-auto",children:m.jsxs("div",{className:"relative h-16",children:[m.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-xmas-gold via-transparent to-xmas-gold opacity-40"}),m.jsx("div",{className:"absolute bottom-4 left-4 opacity-30",children:m.jsx("i",{className:"fas fa-tree text-4xl text-xmas-gold"})}),m.jsx("div",{className:"absolute bottom-4 right-4 opacity-30",children:m.jsx("i",{className:"fas fa-star text-4xl text-xmas-gold"})})]})})})]})}const Sy=({children:t})=>{const{currentUser:e,isLoading:r}=ds();return r?m.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-xmas-gold"})}):e?t?m.jsx(m.Fragment,{children:t}):m.jsx(lT,{}):m.jsx(wN,{to:"/login"})},p6=()=>{const{currentUser:t}=ds();return m.jsxs("div",{className:"container mx-auto px-4 py-8",children:[m.jsxs("div",{className:"text-center mb-12",children:[m.jsx("h1",{className:"font-christmas text-5xl md:text-7xl text-xmas-line mb-4",children:"Christmas Movie Database"}),m.jsx("p",{className:"text-xl md:text-2xl text-xmas-snow mb-8",children:"Track, rate, and discover your favorite Christmas movies!"}),m.jsx("div",{className:"flex flex-col md:flex-row justify-center gap-6 mb-12",children:t?m.jsxs(m.Fragment,{children:[m.jsxs(it,{to:"/movies",className:"btn btn-primary btn-lg text-xl px-8 py-3 rounded-md shadow-lg hover:shadow-xl transition-all duration-300 border border-xmas-gold border-opacity-30",children:[m.jsx("i",{className:"fas fa-film mr-2"})," My Movies"]}),m.jsxs(it,{to:"/random",className:"btn btn-primary btn-lg text-xl px-8 py-3 rounded-md shadow-lg hover:shadow-xl transition-all duration-300 border border-xmas-gold border-opacity-30",children:[m.jsx("i",{className:"fas fa-random mr-2"})," Random Movie"]})]}):m.jsxs(it,{to:"/login",className:"btn btn-primary btn-lg text-xl px-8 py-3 rounded-md shadow-lg hover:shadow-xl transition-all duration-300 border border-xmas-gold border-opacity-30",children:[m.jsx("i",{className:"fas fa-sign-in-alt mr-2"})," Sign In"]})})]}),m.jsx("div",{className:"w-full max-w-4xl mx-auto mb-8",children:m.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-xmas-gold to-transparent"})}),m.jsxs("div",{className:"bg-xmas-card rounded-lg shadow-xl p-6 mb-12 border border-xmas-gold border-opacity-20 snow-accumulation snow-accumulation-slow relative",children:[m.jsx("h2",{className:"font-christmas text-3xl text-xmas-line mb-6 text-center",children:"Features"}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"bg-xmas-card bg-opacity-70 p-6 rounded-lg shadow-md border-l-2 border-xmas-line",children:[m.jsx("div",{className:"text-3xl text-xmas-gold mb-4 text-center",children:m.jsx("i",{className:"fas fa-search"})}),m.jsx("h3",{className:"font-christmas text-xl text-center mb-3",children:"Find Movies"}),m.jsx("p",{className:"text-center text-xmas-text text-opacity-80",children:"Search and discover Christmas movies using TMDB integration"})]}),m.jsxs("div",{className:"bg-xmas-card bg-opacity-70 p-6 rounded-lg shadow-md border-l-2 border-xmas-gold",children:[m.jsx("div",{className:"text-3xl text-xmas-gold mb-4 text-center",children:m.jsx("i",{className:"fas fa-star"})}),m.jsx("h3",{className:"font-christmas text-xl text-center mb-3",children:"Rate & Review"}),m.jsx("p",{className:"text-center text-xmas-text text-opacity-80",children:"Keep track of movies you've watched and rate them"})]}),m.jsxs("div",{className:"bg-xmas-card bg-opacity-70 p-6 rounded-lg shadow-md border-l-2 border-xmas-line",children:[m.jsx("div",{className:"text-3xl text-xmas-gold mb-4 text-center",children:m.jsx("i",{className:"fas fa-random"})}),m.jsx("h3",{className:"font-christmas text-xl text-center mb-3",children:"Random Picker"}),m.jsx("p",{className:"text-center text-xmas-text text-opacity-80",children:"Can't decide what to watch? Let our random movie picker help!"})]})]})]}),m.jsx("div",{className:"bg-xmas-card rounded-lg shadow-xl p-6 mb-12 border border-xmas-gold border-opacity-30 snow-accumulation snow-accumulation-fast relative",children:m.jsxs("div",{className:"mb-6 text-center",children:[m.jsxs("h2",{className:"font-christmas text-3xl md:text-4xl text-xmas-gold inline-block relative",children:[m.jsx("span",{className:"relative z-10",children:"Import Your Collection"}),m.jsx("span",{className:"absolute -bottom-2 left-0 right-0 h-1 bg-xmas-gold opacity-30 rounded-full"})]}),m.jsx("p",{className:"mt-4 mb-6",children:"Already have a list of Christmas movies? Import them from Excel or search TMDB!"}),t?m.jsxs(it,{to:"/import",className:"btn btn-primary",children:[m.jsx("i",{className:"fas fa-file-import mr-2"})," Import Movies"]}):m.jsxs(it,{to:"/login",className:"btn btn-primary",children:[m.jsx("i",{className:"fas fa-sign-in-alt mr-2"})," Sign In to Import"]})]})}),m.jsx("div",{className:"w-full max-w-4xl mx-auto mb-8",children:m.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-xmas-gold to-transparent"})}),m.jsx("footer",{className:"text-center text-xmas-mute mt-12 pb-8",children:m.jsxs("p",{children:[" ",new Date().getFullYear()," Christmas Movie Database"]})})]})},m6=()=>{const t=Ka(),{currentUser:e,isLoading:r,error:n,signInWithGoogle:i}=ds();X.useEffect(()=>{e&&!r&&t("/movies")},[e,r,t]);const s=async()=>{try{await i()}catch(a){console.error("Login failed:",a)}};return r?m.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-xmas-gold"})}):m.jsx("div",{className:"container mx-auto px-4 py-12",children:m.jsxs("div",{className:"max-w-md mx-auto",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"font-christmas text-4xl text-xmas-line mb-2",children:"Christmas Movie Database"}),m.jsx("p",{className:"text-xmas-mute",children:"Sign in to manage your Christmas movie collection"})]}),m.jsxs("div",{className:"bg-xmas-card rounded-lg shadow-lg p-6",children:[n&&m.jsx("div",{className:"bg-error bg-opacity-10 border-l-4 border-error p-4 mb-6 rounded",children:m.jsx("p",{className:"text-error",children:n})}),m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("p",{className:"mb-4",children:"Sign in with your Google account to access your Christmas movie collection."}),m.jsx("p",{className:"text-sm text-xmas-mute mb-6",children:"Track, rate, and discover Christmas movies!"}),m.jsxs("button",{onClick:s,className:"btn btn-primary w-full flex items-center justify-center gap-2",children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 48 48",children:[m.jsx("path",{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12
                  s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24s8.955,20,20,20
                  s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`}),m.jsx("path",{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039
                  l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`}),m.jsx("path",{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36
                  c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`}),m.jsx("path",{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571
                  c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`})]}),"Sign in with Google"]})]})]}),m.jsx("div",{className:"text-center mt-6",children:m.jsx("p",{className:"text-sm text-xmas-mute",children:"By signing in, you agree to our Terms of Service and Privacy Policy."})})]})})},g6=5*60*1e3;let Yn=null;const v6=(t,e,r)=>{Yn={userMovies:e,movies:r,timestamp:Date.now(),userId:t}},x6=t=>!Yn||Yn.userId!==t||Date.now()-Yn.timestamp>g6?null:{userMovies:Yn.userMovies,movies:Yn.movies},_6=()=>{Yn=null},y6=(t,e,r)=>{Yn&&Yn.userId===t&&(Yn.userMovies[e]=r,Yn.timestamp=Date.now())},vm=async(t,e,r)=>{const n=li(Xr,`users/${t}/movies`,e);if((await ja(n)).exists()){const o={...r,updatedAt:new Date};r.rating===null&&(o.rating=null),r.watchedDate===null&&(o.watchedDate=null),r.review===null&&(o.review=null),await kv(n,o)}else{const o={userId:t,movieId:e,watched:r.watched||!1,favorite:r.favorite||!1,addedAt:new Date,updatedAt:new Date,...r};await jh(n,o)}const s=await ja(n),a={id:s.id,...s.data()};return y6(t,e,a),a},w6=async(t,e)=>{const r=li(Xr,`users/${t}/movies`,e),n=await ja(r);return n.exists()?{id:n.id,...n.data()}:null},DS=async t=>{const e=Zc(Xr,`users/${t}/movies`),r=await eu(e),n=[];return r.forEach(i=>{n.push({id:i.id,...i.data()})}),n},E6=async(t,e)=>{const r=li(Xr,`users/${t}/movies`,e);await _L(r),_6()},Sv=async t=>{const e=x6(t);if(e)return e;const r=await DS(t),n={},i=[];r.forEach(o=>{n[o.movieId]=o,i.push(o.movieId)});const s=[];if(i.length>0)for(let l=0;l<i.length;l+=10){const u=i.slice(l,l+10).map(d=>ja(li(Xr,"movies",d)).then(p=>p.exists()?{id:p.id,...p.data()}:null).catch(p=>(console.error(`Error fetching movie ${d}:`,p),null))),h=await Promise.all(u);s.push(...h.filter(Boolean))}const a={userMovies:n,movies:s};return v6(t,n,s),a},T6=()=>{const{currentUser:t}=ds(),[e,r]=X.useState([]),[n,i]=X.useState({}),[s,a]=X.useState(!0),[o,l]=X.useState(!0),[c,u]=X.useState(null),[h,d]=X.useState("all"),[p,x]=X.useState({option:"title",direction:"asc"}),[v,y]=X.useState(""),[k,T]=X.useState("all");X.useEffect(()=>{(async()=>{if(t)try{l(!0);const{userMovies:E,movies:S}=await Sv(t.uid);i(E),r(S)}catch(E){console.error("Error fetching movies:",E),u("Failed to load movies")}finally{l(!1),a(!1)}})()},[t]);const w=g=>{x(E=>E.option===g?{option:g,direction:E.direction==="asc"?"desc":"asc"}:{option:g,direction:"asc"})},D=X.useCallback(g=>{if(!v.trim())return!0;const E=v.toLowerCase().trim(),S=n[g.id];switch(k){case"title":return g.title.toLowerCase().includes(E)||g.sortTitle&&g.sortTitle.toLowerCase().includes(E)||g.originalTitle&&g.originalTitle.toLowerCase().includes(E);case"year":return g.releaseDate&&g.releaseDate.substring(0,4).includes(E);case"all":default:return g.title.toLowerCase().includes(E)||g.sortTitle&&g.sortTitle.toLowerCase().includes(E)||g.originalTitle&&g.originalTitle.toLowerCase().includes(E)||g.releaseDate&&g.releaseDate.substring(0,4).includes(E)||g.overview&&g.overview.toLowerCase().includes(E)||g.genres&&g.genres.some(C=>C.toLowerCase().includes(E))||g.directors&&g.directors.some(C=>C.toLowerCase().includes(E))||g.cast&&g.cast.some(C=>C.toLowerCase().includes(E))||S&&S.review&&S.review.toLowerCase().includes(E)}},[v,k,n]),B=X.useMemo(()=>{if(o)return[];a(!0);const g=e.filter(E=>{const S=n[E.id];let C=!0;switch(h){case"watched":C=S&&S.watched;break;case"unwatched":C=!S||!S.watched;break;case"favorites":C=S&&S.favorite;break}return C&&D(E)}).sort((E,S)=>{const C=n[E.id],P=n[S.id],R=p.direction==="asc"?1:-1;switch(p.option){case"title":const b=E.sortTitle||E.title,fe=S.sortTitle||S.title;return b.localeCompare(fe)*R;case"year":const de=E.releaseDate?parseInt(E.releaseDate.substring(0,4)):0,Se=S.releaseDate?parseInt(S.releaseDate.substring(0,4)):0;return(de-Se)*R;case"rating":const oe=(C==null?void 0:C.rating)||0,ie=(P==null?void 0:P.rating)||0;return(oe-ie)*R;case"watched":const G=C!=null&&C.watched?1:0,ce=P!=null&&P.watched?1:0;return(G-ce)*R;case"added":const Ee=C!=null&&C.addedAt?C.addedAt.getTime():0,j=P!=null&&P.addedAt?P.addedAt.getTime():0;return(Ee-j)*R;default:return 0}});return a(!1),g},[e,n,h,p,v,k,o]),U=B;return o?m.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-xmas-gold"})}):m.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-4 sm:py-8",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 sm:mb-8 gap-3",children:[m.jsx("h1",{className:"font-christmas text-2xl sm:text-3xl md:text-4xl text-xmas-line",children:"My Christmas Movies"}),m.jsxs("div",{className:"flex gap-2 w-full sm:w-auto justify-center",children:[m.jsxs(it,{to:"/random",className:"btn btn-primary btn-sm sm:btn-md",children:[m.jsx("i",{className:"fas fa-random mr-1 sm:mr-2"})," ",m.jsx("span",{className:"hidden xs:inline",children:"Random Movie"}),m.jsx("span",{className:"xs:hidden",children:"Random"})]}),m.jsxs(it,{to:"/import",className:"btn btn-primary btn-sm sm:btn-md",children:[m.jsx("i",{className:"fas fa-file-import mr-1 sm:mr-2"})," ",m.jsx("span",{className:"hidden xs:inline",children:"Import Movies"}),m.jsx("span",{className:"xs:hidden",children:"Import"})]})]})]}),c&&m.jsxs("div",{className:"alert alert-error mb-6",children:[m.jsx("i",{className:"fas fa-exclamation-circle mr-2"}),m.jsx("span",{children:c})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-3",children:[m.jsxs("div",{className:"relative flex-grow",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-2 flex items-center pointer-events-none",children:m.jsx("i",{className:"fas fa-search text-gray-400"})}),m.jsx("input",{type:"text",className:"input input-bordered input-sm sm:input-md w-full pl-8 pr-8",placeholder:"Search movies...",value:v,onChange:g=>y(g.target.value)}),v&&m.jsx("button",{className:"absolute inset-y-0 right-0 pr-2 flex items-center",onClick:()=>y(""),children:m.jsx("i",{className:"fas fa-times text-gray-400 hover:text-gray-600"})})]}),m.jsxs("select",{className:"select select-bordered select-sm sm:select-md w-full sm:w-36",value:k,onChange:g=>T(g.target.value),children:[m.jsx("option",{value:"all",children:"All Fields"}),m.jsx("option",{value:"title",children:"Title Only"}),m.jsx("option",{value:"year",children:"Year Only"})]})]}),m.jsxs("div",{className:"tabs tabs-boxed mb-3 text-xs sm:text-sm overflow-x-auto",children:[m.jsx("button",{className:`tab ${h==="all"?"tab-active":""}`,onClick:()=>d("all"),children:"All Movies"}),m.jsx("button",{className:`tab ${h==="watched"?"tab-active":""}`,onClick:()=>d("watched"),children:"Watched"}),m.jsx("button",{className:`tab ${h==="unwatched"?"tab-active":""}`,onClick:()=>d("unwatched"),children:"Unwatched"}),m.jsxs("button",{className:`tab ${h==="favorites"?"tab-active":""}`,onClick:()=>d("favorites"),children:[m.jsx("span",{className:"hidden sm:inline",children:"Favorites"}),m.jsx("span",{className:"sm:hidden",children:"Favs"})]})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-1 mb-3 bg-xmas-card bg-opacity-50 p-2 rounded-lg overflow-x-auto",children:[m.jsx("span",{className:"text-xs sm:text-sm font-medium mr-1",children:"Sort:"}),m.jsxs("div",{className:"flex flex-nowrap gap-1 overflow-x-auto",children:[m.jsxs("button",{className:`btn btn-xs ${p.option==="title"?"btn-primary":"btn-ghost"}`,onClick:()=>w("title"),children:["Title ",p.option==="title"&&m.jsx("i",{className:`fas fa-sort-${p.direction==="asc"?"up":"down"} ml-1`})]}),m.jsxs("button",{className:`btn btn-xs ${p.option==="year"?"btn-primary":"btn-ghost"}`,onClick:()=>w("year"),children:["Year ",p.option==="year"&&m.jsx("i",{className:`fas fa-sort-${p.direction==="asc"?"up":"down"} ml-1`})]}),m.jsxs("button",{className:`btn btn-xs ${p.option==="rating"?"btn-primary":"btn-ghost"}`,onClick:()=>w("rating"),children:["Rating ",p.option==="rating"&&m.jsx("i",{className:`fas fa-sort-${p.direction==="asc"?"up":"down"} ml-1`})]}),m.jsxs("button",{className:`btn btn-xs ${p.option==="watched"?"btn-primary":"btn-ghost"}`,onClick:()=>w("watched"),children:[m.jsx("span",{className:"hidden sm:inline",children:"Watched Status"}),m.jsx("span",{className:"sm:hidden",children:"Watched"}),p.option==="watched"&&m.jsx("i",{className:`fas fa-sort-${p.direction==="asc"?"up":"down"} ml-1`})]}),m.jsxs("button",{className:`btn btn-xs ${p.option==="added"?"btn-primary":"btn-ghost"}`,onClick:()=>w("added"),children:[m.jsx("span",{className:"hidden sm:inline",children:"Date Added"}),m.jsx("span",{className:"sm:hidden",children:"Added"}),p.option==="added"&&m.jsx("i",{className:`fas fa-sort-${p.direction==="asc"?"up":"down"} ml-1`})]})]})]}),m.jsxs("div",{className:"flex flex-col xs:flex-row justify-between items-start xs:items-center mb-3 text-xs sm:text-sm",children:[m.jsxs("div",{children:[m.jsx("span",{className:"font-medium",children:B.length})," ",B.length===1?"movie":"movies"," found",v&&m.jsxs("span",{className:"ml-1 text-xmas-mute",children:["for: ",m.jsxs("span",{className:"font-medium",children:['"',v,'"']})]})]}),p.option&&m.jsxs("div",{className:"text-xmas-mute",children:["Sorted by ",m.jsx("span",{className:"font-medium",children:p.option})," (",p.direction==="asc"?"asc":"desc",")"]})]}),s&&!o&&m.jsx("div",{className:"flex justify-center items-center py-4",children:m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-xmas-gold"})}),B.length===0?m.jsxs("div",{className:"bg-xmas-card p-8 rounded-lg text-center",children:[m.jsx("h3",{className:"text-xl mb-4",children:"No movies found"}),m.jsx("p",{className:"mb-4",children:h==="all"?"You haven't added any Christmas movies yet.":`You don't have any ${h} Christmas movies.`}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[m.jsxs(it,{to:"/import",className:"btn btn-primary",children:[m.jsx("i",{className:"fas fa-file-import mr-2"})," Import Movies"]}),e.length>0&&m.jsxs(it,{to:"/random",className:"btn btn-primary",children:[m.jsx("i",{className:"fas fa-random mr-2"})," Random Movie"]})]})]}):m.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-2 sm:gap-3",children:U.map(g=>{var S;const E=n[g.id];return m.jsx(it,{to:`/movies/${g.id}`,className:"block transition-transform hover:scale-[1.02] hover:shadow-xl",children:m.jsxs("div",{className:"relative rounded-lg overflow-hidden bg-xmas-card shadow-md h-full flex flex-col",children:[m.jsxs("div",{className:"relative",children:[g.posterUrl?m.jsx("img",{src:g.posterUrl,alt:g.title,className:"w-full h-auto object-cover",style:{aspectRatio:"2/3"},loading:"lazy"}):m.jsx("div",{className:"w-full flex items-center justify-center bg-gray-800",style:{aspectRatio:"2/3"},children:m.jsx("i",{className:"fas fa-film text-2xl text-gray-500"})}),E&&E.watched&&m.jsx("div",{className:"absolute top-1 right-1 bg-primary rounded-full p-1 shadow-md",children:m.jsx("i",{className:"fas fa-check text-xs text-white"})}),E&&E.favorite&&m.jsx("div",{className:"absolute top-1 left-1 text-yellow-400 drop-shadow-md",children:m.jsx("i",{className:"fas fa-star text-sm"})})]}),m.jsxs("div",{className:"p-1 sm:p-2 flex-grow flex flex-col",children:[m.jsx("h3",{className:"text-xs sm:text-sm font-medium line-clamp-2",children:g.title}),m.jsxs("div",{className:"flex justify-between items-center mt-1",children:[m.jsx("p",{className:"text-xs text-gray-400",children:(S=g.releaseDate)==null?void 0:S.substring(0,4)}),E&&E.rating&&m.jsxs("div",{className:"flex items-center",children:[m.jsx("span",{className:"text-yellow-400 mr-0.5",children:m.jsx("i",{className:"fas fa-star text-xs"})}),m.jsx("span",{className:"text-xs",children:E.rating})]})]})]})]})},g.id)})})]})},k6=()=>{const{movieId:t}=oN(),e=Ka(),{currentUser:r}=ds(),[n,i]=X.useState(null),[s,a]=X.useState(null),[o,l]=X.useState(!0),[c,u]=X.useState(null),[h,d]=X.useState(!1),[p,x]=X.useState(!1),[v,y]=X.useState(""),[k,T]=X.useState(null),[w,D]=X.useState(""),[B,U]=X.useState(!1);X.useEffect(()=>{(async()=>{if(!(!r||!t))try{l(!0);const C=await ja(li(Xr,"movies",t));if(!C.exists()){u("Movie not found"),l(!1);return}const P={id:C.id,...C.data()};i(P);const R=await w6(r.uid,t);if(R){a(R),x(R.watched);let b="";if(R.watchedDate)try{if(R.watchedDate instanceof Date)b=R.watchedDate.toISOString().split("T")[0];else{const fe=R.watchedDate;if(typeof fe=="object"&&fe!==null&&"seconds"in fe){const de=fe;b=new Date(de.seconds*1e3).toISOString().split("T")[0]}else{const de=new Date(R.watchedDate);isNaN(de.getTime())||(b=de.toISOString().split("T")[0])}}}catch(fe){console.error("Error parsing watchedDate:",fe)}y(b),T(R.rating||null),D(R.review||""),U(R.favorite)}}catch(C){console.error("Error fetching movie data:",C),u("Failed to load movie data")}finally{l(!1)}})()},[r,t]);const g=async()=>{if(!(!r||!t||!n))try{d(!0);const S={userId:r.uid,movieId:t,watched:p,favorite:B,updatedAt:new Date};if(p&&v)try{S.watchedDate=new Date(v),isNaN(S.watchedDate.getTime())&&delete S.watchedDate}catch(P){console.error("Error parsing watchedDate for save:",P),delete S.watchedDate}else p||(S.watchedDate=null);S.rating=k,S.review=w||null;const C=await vm(r.uid,t,S);a(C)}catch(S){console.error("Error saving movie data:",S),u("Failed to save movie data")}finally{d(!1)}},E=async()=>{if(!(!r||!t||!window.confirm("Are you sure you want to remove this movie from your collection?")))try{d(!0),await E6(r.uid,t),e("/movies")}catch(S){console.error("Error deleting movie:",S),u("Failed to delete movie"),d(!1)}};return o?m.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-xmas-gold"})}):n?m.jsxs("div",{className:"container mx-auto px-4 py-8",children:[m.jsx("div",{className:"mb-4",children:m.jsxs(it,{to:"/movies",className:"btn btn-ghost",children:[m.jsx("i",{className:"fas fa-arrow-left mr-2"})," Back to Movies"]})}),c&&m.jsxs("div",{className:"alert alert-error mb-6",children:[m.jsx("i",{className:"fas fa-exclamation-circle mr-2"}),m.jsx("span",{children:c})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"md:col-span-1",children:[m.jsx("div",{className:"rounded-lg overflow-hidden shadow-xl",children:n.posterUrl?m.jsx("img",{src:n.posterUrl,alt:n.title,className:"w-full object-contain",style:{aspectRatio:"2/3"}}):m.jsx("div",{className:"w-full flex items-center justify-center bg-gray-800",style:{aspectRatio:"2/3"},children:m.jsx("i",{className:"fas fa-film text-6xl text-gray-500"})})}),m.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[m.jsxs("button",{className:`btn ${B?"btn-warning":"btn-outline"} w-full`,onClick:()=>U(!B),children:[m.jsx("i",{className:`fas fa-star mr-2 ${B?"text-white":""}`}),B?"Favorited":"Add to Favorites"]}),m.jsxs("button",{className:`btn ${p?"btn-success":"btn-outline"} w-full`,onClick:()=>x(!p),children:[m.jsx("i",{className:`fas fa-check mr-2 ${p?"text-white":""}`}),p?"Watched":"Mark as Watched"]}),m.jsxs("button",{className:"btn btn-error btn-outline w-full",onClick:E,disabled:h,children:[m.jsx("i",{className:"fas fa-trash mr-2"}),"Remove from Collection"]})]})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("h1",{className:"font-christmas text-3xl md:text-4xl text-xmas-line mb-2",children:n.title}),n.releaseDate&&m.jsx("p",{className:"text-lg text-gray-400 mb-4",children:new Date(n.releaseDate).getFullYear()}),n.genres&&n.genres.length>0&&m.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:n.genres.map((S,C)=>m.jsx("span",{className:"badge badge-outline",children:S},C))}),n.runtime&&m.jsxs("p",{className:"mb-4",children:[m.jsx("i",{className:"fas fa-clock mr-2 text-xmas-gold"}),Math.floor(n.runtime/60),"h ",n.runtime%60,"m"]}),n.overview&&m.jsxs("div",{className:"mb-6",children:[m.jsx("h2",{className:"text-xl font-bold mb-2",children:"Overview"}),m.jsx("p",{className:"text-gray-300",children:n.overview})]}),n.directors&&n.directors.length>0&&m.jsxs("div",{className:"mb-4",children:[m.jsxs("h2",{className:"text-xl font-bold mb-2",children:["Director",n.directors.length>1?"s":""]}),m.jsx("p",{children:n.directors.join(", ")})]}),n.cast&&n.cast.length>0&&m.jsxs("div",{className:"mb-6",children:[m.jsx("h2",{className:"text-xl font-bold mb-2",children:"Cast"}),m.jsx("p",{children:n.cast.slice(0,10).join(", ")})]}),m.jsx("div",{className:"divider"}),m.jsx("h2",{className:"text-2xl font-christmas text-xmas-gold mb-4",children:"Your Rating & Review"}),p&&m.jsxs("div",{className:"form-control mb-4",children:[m.jsx("label",{className:"label",children:m.jsx("span",{className:"label-text",children:"Date Watched"})}),m.jsx("input",{type:"date",className:"input input-bordered",value:v,onChange:S=>y(S.target.value)})]}),m.jsxs("div",{className:"form-control mb-4",children:[m.jsx("label",{className:"label",children:m.jsx("span",{className:"label-text",children:"Your Rating"})}),m.jsx("div",{className:"rating rating-lg",children:[1,2,3,4,5,6,7,8,9,10].map(S=>m.jsx("input",{type:"radio",name:"rating",className:`mask mask-star-2 ${S<=5?"bg-orange-400":"bg-yellow-400"}`,checked:k===S,onChange:()=>T(S)},S))}),k&&m.jsx("div",{className:"mt-2",children:m.jsx("button",{className:"btn btn-xs btn-ghost",onClick:()=>T(null),children:"Clear Rating"})})]}),m.jsxs("div",{className:"form-control mb-6",children:[m.jsx("label",{className:"label",children:m.jsx("span",{className:"label-text",children:"Your Review"})}),m.jsx("textarea",{className:"textarea textarea-bordered h-32",placeholder:"Write your thoughts about this movie...",value:w,onChange:S=>D(S.target.value)})]}),m.jsx("div",{className:"flex justify-end",children:m.jsx("button",{className:"btn btn-primary",onClick:g,disabled:h,children:h?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"loading loading-spinner loading-sm mr-2"}),"Saving..."]}):m.jsxs(m.Fragment,{children:[m.jsx("i",{className:"fas fa-save mr-2"}),"Save Changes"]})})})]})]})]}):m.jsxs("div",{className:"container mx-auto px-4 py-8",children:[m.jsxs("div",{className:"alert alert-error",children:[m.jsx("i",{className:"fas fa-exclamation-circle mr-2"}),m.jsx("span",{children:"Movie not found"})]}),m.jsx("div",{className:"mt-4",children:m.jsx(it,{to:"/movies",className:"btn btn-primary",children:"Back to Movies"})})]})},FS=t=>{const e=t.trim();return/^The\s+/i.test(e)?e.replace(/^The\s+/i,"").trim():/^A\s+/i.test(e)?e.replace(/^A\s+/i,"").trim():/^An\s+/i.test(e)?e.replace(/^An\s+/i,"").trim():e},bS="https://api.themoviedb.org/3",S6="https://image.tmdb.org/t/p/w500",A6="https://image.tmdb.org/t/p/original",Ay=async(t,e)=>{try{const r=await fetch(`${bS}/search/movie?api_key=${e}&query=${encodeURIComponent(t)}&include_adult=false`);if(!r.ok)throw new Error(`TMDB API error: ${r.status}`);return await r.json()}catch(r){throw console.error("Error searching TMDB:",r),r}},Iy=async(t,e)=>{try{const r=await fetch(`${bS}/movie/${t}?api_key=${e}&append_to_response=credits`);if(!r.ok)throw new Error(`TMDB API error: ${r.status}`);return await r.json()}catch(r){throw console.error("Error fetching movie details:",r),r}},Cy=t=>{var e,r,n;return{tmdbId:t.id,title:t.title,sortTitle:FS(t.title),originalTitle:t.original_title,releaseDate:t.release_date,posterUrl:t.poster_path?`${S6}${t.poster_path}`:void 0,backdropUrl:t.backdrop_path?`${A6}${t.backdrop_path}`:void 0,overview:t.overview,runtime:t.runtime,genres:((e=t.genres)==null?void 0:e.map(i=>i.name))||[],directors:((r=t.credits)==null?void 0:r.crew.filter(i=>i.job==="Director").map(i=>i.name))||[],cast:((n=t.credits)==null?void 0:n.cast.slice(0,10).map(i=>i.name))||[],isChristmas:!0}};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var OS=1252,I6=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Av={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Iv=function(t){I6.indexOf(t)!=-1&&(OS=Av[0]=t)};function C6(){Iv(1252)}var Zn=function(t){Iv(t)};function LS(){Zn(1200),C6()}function Ry(t){for(var e=[],r=0,n=t.length;r<n;++r)e[r]=t.charCodeAt(r);return e}function R6(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return e.join("")}function MS(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return e.join("")}var Ql=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return e==255&&r==254?R6(t.slice(2)):e==254&&r==255?MS(t.slice(2)):e==65279?t.slice(1):t},_f=function(e){return String.fromCharCode(e)},Ny=function(e){return String.fromCharCode(e)},tu,bs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Py(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0,c=0;c<t.length;)r=t.charCodeAt(c++),s=r>>2,n=t.charCodeAt(c++),a=(r&3)<<4|n>>4,i=t.charCodeAt(c++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),e+=bs.charAt(s)+bs.charAt(a)+bs.charAt(o)+bs.charAt(l);return e}function En(t){var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)s=bs.indexOf(t.charAt(c++)),a=bs.indexOf(t.charAt(c++)),r=s<<2|a>>4,e+=String.fromCharCode(r),o=bs.indexOf(t.charAt(c++)),n=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=bs.indexOf(t.charAt(c++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var Qe=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ja=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function ea(t){return Qe?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function Dy(t){return Qe?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Qn=function(e){return Qe?Ja(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function Za(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function Cv(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return Cv(new Uint8Array(t));for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var Rs=Qe?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Ja(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function N6(t){for(var e=[],r=0,n=t.length+250,i=ea(t.length+255),s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a<128)i[r++]=a;else if(a<2048)i[r++]=192|a>>6&31,i[r++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++s)&1023;i[r++]=240|a>>8&7,i[r++]=128|a>>2&63,i[r++]=128|o>>6&15|(a&3)<<4,i[r++]=128|o&63}else i[r++]=224|a>>12&15,i[r++]=128|a>>6&63,i[r++]=128|a&63;r>n&&(e.push(i.slice(0,r)),r=0,i=ea(65535),n=65530)}return e.push(i.slice(0,r)),Rs(e)}var Yr=/\u0000/g,Jl=/[\u0001-\u0006]/g;function Bo(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function ei(t,e){var r=""+t;return r.length>=e?r:Ut("0",e-r.length)+r}function Rv(t,e){var r=""+t;return r.length>=e?r:Ut(" ",e-r.length)+r}function $h(t,e){var r=""+t;return r.length>=e?r:r+Ut(" ",e-r.length)}function P6(t,e){var r=""+Math.round(t);return r.length>=e?r:Ut("0",e-r.length)+r}function D6(t,e){var r=""+t;return r.length>=e?r:Ut("0",e-r.length)+r}var Fy=Math.pow(2,32);function ho(t,e){if(t>Fy||t<-Fy)return P6(t,e);var r=Math.round(t);return D6(r,e)}function Hh(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var by=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Ud=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function F6(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var ze={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Oy={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},b6={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Wh(t,e,r){for(var n=t<0?-1:1,i=t*n,s=0,a=1,o=0,l=1,c=0,u=0,h=Math.floor(i);c<e&&(h=Math.floor(i),o=h*a+s,u=h*c+l,!(i-h<5e-8));)i=1/(i-h),s=a,a=o,l=c,c=u;if(u>e&&(c>e?(u=l,o=s):(u=c,o=a)),!r)return[0,n*o,u];var d=Math.floor(n*o/u);return[d,n*o-d*u,u]}function Ta(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),s=0,a=[],o={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)a=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)a=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),r&&(s=j6(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var VS=new Date(1899,11,31,0,0,0),O6=VS.getTime(),L6=new Date(1900,2,1,0,0,0);function US(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=L6&&(r+=24*60*60*1e3),(r-(O6+(t.getTimezoneOffset()-VS.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Nv(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function M6(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function V6(t){var e=t<0?12:11,r=Nv(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function U6(t){var e=Nv(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function ru(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=V6(t):e===10?r=t.toFixed(10).substr(0,12):r=U6(t),Nv(M6(r.toUpperCase()))}function Ba(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):ru(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Un(14,US(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function j6(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function B6(t,e,r,n){var i="",s=0,a=0,o=r.y,l,c=0;switch(t){case 98:o=r.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=r.m,c=e.length;break;case 3:return Ud[r.m-1][1];case 5:return Ud[r.m-1][0];default:return Ud[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=r.d,c=e.length;break;case 3:return by[r.q][0];default:return by[r.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(r.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=r.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=r.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?ei(r.S,e.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,s=Math.round(a*(r.S+r.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=ei(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?ei(l,c):"";return u}function Os(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var jS=/%/g;function z6(t,e,r){var n=e.replace(jS,""),i=e.length-n.length;return Ji(t,n,r*Math.pow(10,2*i))+Ut("%",i)}function $6(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Ji(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function BS(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+BS(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),r.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var zS=/# (\?+)( ?)\/( ?)(\d+)/;function H6(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),s=Math.floor(i/n),a=i-s*n,o=n;return r+(s===0?"":""+s)+" "+(a===0?Ut(" ",t[1].length+1+t[4].length):Rv(a,t[1].length)+t[2]+"/"+t[3]+ei(o,t[4].length))}function W6(t,e,r){return r+(e===0?"":""+e)+Ut(" ",t[1].length+2+t[4].length)}var $S=/^#*0*\.([0#]+)/,HS=/\).*[0#]/,WS=/\(###\) ###\\?-####/;function Hr(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function Ly(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function My(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function G6(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function K6(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Rn(t,e,r){if(t.charCodeAt(0)===40&&!e.match(HS)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Rn("n",n,r):"("+Rn("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return $6(t,e,r);if(e.indexOf("%")!==-1)return z6(t,e,r);if(e.indexOf("E")!==-1)return BS(e,r);if(e.charCodeAt(0)===36)return"$"+Rn(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+ho(l,e.length);if(e.match(/^[#?]+$/))return i=ho(r,0),i==="0"&&(i=""),i.length>e.length?i:Hr(e.substr(0,e.length-i.length))+i;if(s=e.match(zS))return H6(s,l,c);if(e.match(/^#+0+$/))return c+ho(l,e.length-e.indexOf("0"));if(s=e.match($S))return i=Ly(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Hr(s[1])).replace(/\.$/,"."+Hr(s[1])).replace(/\.(\d*)$/,function(x,v){return"."+v+Ut("0",Hr(s[1]).length-v.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+Ly(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+Os(ho(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Rn(t,e,-r):Os(""+(Math.floor(r)+G6(r,s[1].length)))+"."+ei(My(r,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Rn(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Bo(Rn(t,e.replace(/[\\-]/g,""),r)),a=0,Bo(Bo(e.replace(/\\/g,"")).replace(/[0#]/g,function(x){return a<i.length?i.charAt(a++):x==="0"?"0":""}));if(e.match(WS))return i=Rn(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=Wh(l,Math.pow(10,a)-1,!1),i=""+c,u=Ji("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=$h(o[2],a),u.length<s[4].length&&(u=Hr(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=Wh(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Rv(o[1],a)+s[2]+"/"+s[3]+$h(o[2],a):Ut(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=ho(r,0),e.length<=i.length?i:Hr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var h=e.indexOf(".")-a,d=e.length-i.length-h;return Hr(e.substr(0,h)+i+e.substr(e.length-d))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=My(r,s[1].length),r<0?"-"+Rn(t,e,-r):Os(K6(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?ei(0,3-x.length):"")+x})+"."+ei(a,s[1].length);switch(e){case"###,##0.00":return Rn(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=Os(ho(l,0));return p!=="0"?c+p:"";case"###,###.00":return Rn(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Rn(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function q6(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Ji(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function X6(t,e,r){var n=e.replace(jS,""),i=e.length-n.length;return Ji(t,n,r*Math.pow(10,2*i))+Ut("%",i)}function GS(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+GS(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!r.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function pi(t,e,r){if(t.charCodeAt(0)===40&&!e.match(HS)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?pi("n",n,r):"("+pi("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return q6(t,e,r);if(e.indexOf("%")!==-1)return X6(t,e,r);if(e.indexOf("E")!==-1)return GS(e,r);if(e.charCodeAt(0)===36)return"$"+pi(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+ei(l,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:Hr(e.substr(0,e.length-i.length))+i;if(s=e.match(zS))return W6(s,l,c);if(e.match(/^#+0+$/))return c+ei(l,e.length-e.indexOf("0"));if(s=e.match($S))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Hr(s[1])).replace(/\.$/,"."+Hr(s[1])),i=i.replace(/\.(\d*)$/,function(x,v){return"."+v+Ut("0",Hr(s[1]).length-v.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+Os(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+pi(t,e,-r):Os(""+r)+"."+Ut("0",s[1].length);if(s=e.match(/^#,#*,#0/))return pi(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Bo(pi(t,e.replace(/[\\-]/g,""),r)),a=0,Bo(Bo(e.replace(/\\/g,"")).replace(/[0#]/g,function(x){return a<i.length?i.charAt(a++):x==="0"?"0":""}));if(e.match(WS))return i=pi(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=Wh(l,Math.pow(10,a)-1,!1),i=""+c,u=Ji("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=$h(o[2],a),u.length<s[4].length&&(u=Hr(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=Wh(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Rv(o[1],a)+s[2]+"/"+s[3]+$h(o[2],a):Ut(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:Hr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var h=e.indexOf(".")-a,d=e.length-i.length-h;return Hr(e.substr(0,h)+i+e.substr(e.length-d))}if(s=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+pi(t,e,-r):Os(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?ei(0,3-x.length):"")+x})+"."+ei(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var p=Os(""+l);return p!=="0"?c+p:"";default:if(e.match(/\.[0#?]*$/))return pi(t,e.slice(0,e.lastIndexOf(".")),r)+Hr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Ji(t,e,r){return(r|0)===r?pi(t,e,r):Rn(t,e,r)}function Y6(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var KS=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function xl(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":Hh(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(KS))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function Q6(t,e,r,n){for(var i=[],s="",a=0,o="",l="t",c,u,h,d="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!Hh(t,a))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(h=t.charCodeAt(++a))!==34&&a<t.length;)s+=String.fromCharCode(h);i[i.length]={t:"t",v:s},++a;break;case"\\":var p=t.charAt(++a),x=p==="("||p===")"?p:"t";i[i.length]={t:x,v:p},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(c==null&&(c=Ta(e,r,t.charAt(a+1)==="2"),c==null))return"";i[i.length]={t:"X",v:t.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=Ta(e,r),c==null))return"";for(s=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=d),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var v={t:o,v:o};if(c==null&&(c=Ta(e,r)),t.substr(a,3).toUpperCase()==="A/P"?(c!=null&&(v.v=c.H>=12?"P":"A"),v.t="T",d="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(c!=null&&(v.v=c.H>=12?"PM":"AM"),v.t="T",a+=5,d="h"):t.substr(a,5).toUpperCase()==="/"?(c!=null&&(v.v=c.H>=12?"":""),v.t="T",a+=5,d="h"):(v.t="t",++a),c==null&&v.t==="T")return"";i[i.length]=v,l=o;break;case"[":for(s=o;t.charAt(a++)!=="]"&&a<t.length;)s+=t.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(KS)){if(c==null&&(c=Ta(e,r),c==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",xl(t)||(i[i.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=o;++a<t.length&&(o=t.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)s+=t.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++a;break}var y=0,k=0,T;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=d,l="h",y<1&&(y=1);break;case"s":(T=i[a].v.match(/\.0+$/))&&(k=Math.max(k,T[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&i[a].v.match(/[Hh]/)&&(y=1),y<2&&i[a].v.match(/[Mm]/)&&(y=2),y<3&&i[a].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var w="",D;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=B6(i[a].t.charCodeAt(0),i[a].v,c,k),i[a].t="t";break;case"n":case"?":for(D=a+1;i[D]!=null&&((o=i[D].t)==="?"||o==="D"||(o===" "||o==="t")&&i[D+1]!=null&&(i[D+1].t==="?"||i[D+1].t==="t"&&i[D+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[D].v==="/"||i[D].v===" "&&i[D+1]!=null&&i[D+1].t=="?"));)i[a].v+=i[D].v,i[D]={v:"",t:";"},++D;w+=i[a].v,a=D-1;break;case"G":i[a].t="t",i[a].v=Ba(e,r);break}var B="",U,g;if(w.length>0){w.charCodeAt(0)==40?(U=e<0&&w.charCodeAt(0)===45?-e:e,g=Ji("n",w,U)):(U=e<0&&n>1?-e:e,g=Ji("n",w,U),U<0&&i[0]&&i[0].t=="t"&&(g=g.substr(1),i[0].v="-"+i[0].v)),D=g.length-1;var E=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){E=a;break}var S=i.length;if(E===i.length&&g.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(D>=i[a].v.length-1?(D-=i[a].v.length,i[a].v=g.substr(D+1,i[a].v.length)):D<0?i[a].v="":(i[a].v=g.substr(0,D+1),D=-1),i[a].t="t",S=a);D>=0&&S<i.length&&(i[S].v=g.substr(0,D+1)+i[S].v)}else if(E!==i.length&&g.indexOf("E")===-1){for(D=g.indexOf(".")-1,a=E;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(u=i[a].v.indexOf(".")>-1&&a===E?i[a].v.indexOf(".")-1:i[a].v.length-1,B=i[a].v.substr(u+1);u>=0;--u)D>=0&&(i[a].v.charAt(u)==="0"||i[a].v.charAt(u)==="#")&&(B=g.charAt(D--)+B);i[a].v=B,i[a].t="t",S=a}for(D>=0&&S<i.length&&(i[S].v=g.substr(0,D+1)+i[S].v),D=g.indexOf(".")+1,a=E;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==E)){for(u=i[a].v.indexOf(".")>-1&&a===E?i[a].v.indexOf(".")+1:0,B=i[a].v.substr(0,u);u<i[a].v.length;++u)D<g.length&&(B+=g.charAt(D++));i[a].v=B,i[a].t="t",S=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(U=n>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=Ji(i[a].t,i[a].v,U),i[a].t="t");var C="";for(a=0;a!==i.length;++a)i[a]!=null&&(C+=i[a].v);return C}var Vy=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Uy(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function J6(t,e){var r=Y6(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var a=r[0].match(Vy),o=r[1].match(Vy);return Uy(e,a)?[n,r[0]]:Uy(e,o)?[n,r[1]]:[n,r[a!=null&&o!=null?2:1]]}return[n,s]}function Un(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:ze)[t],n==null&&(n=r.table&&r.table[Oy[t]]||ze[Oy[t]]),n==null&&(n=b6[t]||"General");break}if(Hh(n,0))return Ba(e,r);e instanceof Date&&(e=US(e,r.date1904));var i=J6(n,e);if(Hh(i[1]))return Ba(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return Q6(i[1],e,r,i[0])}function Ca(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(ze[r]==null){e<0&&(e=r);continue}if(ze[r]==t){e=r;break}}e<0&&(e=391)}return ze[e]=t,e}function qS(){ze=F6()}var Z6={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},XS=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function eM(t){var e=typeof t=="number"?ze[t]:t;return e=e.replace(XS,"(\\d+)"),new RegExp("^"+e+"$")}function tM(t,e,r){var n=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(e.match(XS)||[]).forEach(function(h,d){var p=parseInt(r[d+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=p;break;case"d":s=p;break;case"h":a=p;break;case"s":l=p;break;case"m":a>=0?o=p:i=p;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?c:n==-1&&i==-1&&s==-1?u:c+"T"+u}var rM=function(){var t={};t.version="1.2.0";function e(){for(var g=0,E=new Array(256),S=0;S!=256;++S)g=S,g=g&1?-306674912^g>>>1:g>>>1,g=g&1?-306674912^g>>>1:g>>>1,g=g&1?-306674912^g>>>1:g>>>1,g=g&1?-306674912^g>>>1:g>>>1,g=g&1?-306674912^g>>>1:g>>>1,g=g&1?-306674912^g>>>1:g>>>1,g=g&1?-306674912^g>>>1:g>>>1,g=g&1?-306674912^g>>>1:g>>>1,E[S]=g;return typeof Int32Array<"u"?new Int32Array(E):E}var r=e();function n(g){var E=0,S=0,C=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(C=0;C!=256;++C)P[C]=g[C];for(C=0;C!=256;++C)for(S=g[C],E=256+C;E<4096;E+=256)S=P[E]=S>>>8^g[S&255];var R=[];for(C=1;C!=16;++C)R[C-1]=typeof Int32Array<"u"?P.subarray(C*256,C*256+256):P.slice(C*256,C*256+256);return R}var i=n(r),s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],u=i[5],h=i[6],d=i[7],p=i[8],x=i[9],v=i[10],y=i[11],k=i[12],T=i[13],w=i[14];function D(g,E){for(var S=E^-1,C=0,P=g.length;C<P;)S=S>>>8^r[(S^g.charCodeAt(C++))&255];return~S}function B(g,E){for(var S=E^-1,C=g.length-15,P=0;P<C;)S=w[g[P++]^S&255]^T[g[P++]^S>>8&255]^k[g[P++]^S>>16&255]^y[g[P++]^S>>>24]^v[g[P++]]^x[g[P++]]^p[g[P++]]^d[g[P++]]^h[g[P++]]^u[g[P++]]^c[g[P++]]^l[g[P++]]^o[g[P++]]^a[g[P++]]^s[g[P++]]^r[g[P++]];for(C+=15;P<C;)S=S>>>8^r[(S^g[P++])&255];return~S}function U(g,E){for(var S=E^-1,C=0,P=g.length,R=0,b=0;C<P;)R=g.charCodeAt(C++),R<128?S=S>>>8^r[(S^R)&255]:R<2048?(S=S>>>8^r[(S^(192|R>>6&31))&255],S=S>>>8^r[(S^(128|R&63))&255]):R>=55296&&R<57344?(R=(R&1023)+64,b=g.charCodeAt(C++)&1023,S=S>>>8^r[(S^(240|R>>8&7))&255],S=S>>>8^r[(S^(128|R>>2&63))&255],S=S>>>8^r[(S^(128|b>>6&15|(R&3)<<4))&255],S=S>>>8^r[(S^(128|b&63))&255]):(S=S>>>8^r[(S^(224|R>>12&15))&255],S=S>>>8^r[(S^(128|R>>6&63))&255],S=S>>>8^r[(S^(128|R&63))&255]);return~S}return t.table=r,t.bstr=D,t.buf=B,t.str=U,t}(),et=function(){var e={};e.version="1.2.1";function r(I,M){for(var N=I.split("/"),F=M.split("/"),O=0,L=0,q=Math.min(N.length,F.length);O<q;++O){if(L=N[O].length-F[O].length)return L;if(N[O]!=F[O])return N[O]<F[O]?-1:1}return N.length-F.length}function n(I){if(I.charAt(I.length-1)=="/")return I.slice(0,-1).indexOf("/")===-1?I:n(I.slice(0,-1));var M=I.lastIndexOf("/");return M===-1?I:I.slice(0,M+1)}function i(I){if(I.charAt(I.length-1)=="/")return i(I.slice(0,-1));var M=I.lastIndexOf("/");return M===-1?I:I.slice(M+1)}function s(I,M){typeof M=="string"&&(M=new Date(M));var N=M.getHours();N=N<<6|M.getMinutes(),N=N<<5|M.getSeconds()>>>1,I.write_shift(2,N);var F=M.getFullYear()-1980;F=F<<4|M.getMonth()+1,F=F<<5|M.getDate(),I.write_shift(2,F)}function a(I){var M=I.read_shift(2)&65535,N=I.read_shift(2)&65535,F=new Date,O=N&31;N>>>=5;var L=N&15;N>>>=4,F.setMilliseconds(0),F.setFullYear(N+1980),F.setMonth(L-1),F.setDate(O);var q=M&31;M>>>=5;var te=M&63;return M>>>=6,F.setHours(M),F.setMinutes(te),F.setSeconds(q<<1),F}function o(I){vr(I,0);for(var M={},N=0;I.l<=I.length-4;){var F=I.read_shift(2),O=I.read_shift(2),L=I.l+O,q={};switch(F){case 21589:N=I.read_shift(1),N&1&&(q.mtime=I.read_shift(4)),O>5&&(N&2&&(q.atime=I.read_shift(4)),N&4&&(q.ctime=I.read_shift(4))),q.mtime&&(q.mt=new Date(q.mtime*1e3));break}I.l=L,M[F]=q}return M}var l;function c(){return l||(l={})}function u(I,M){if(I[0]==80&&I[1]==75)return ms(I,M);if((I[0]|32)==109&&(I[1]|32)==105)return ao(I,M);if(I.length<512)throw new Error("CFB file size "+I.length+" < 512");var N=3,F=512,O=0,L=0,q=0,te=0,ee=0,Z=[],Q=I.slice(0,512);vr(Q,0);var le=h(Q);switch(N=le[0],N){case 3:F=512;break;case 4:F=4096;break;case 0:if(le[1]==0)return ms(I,M);default:throw new Error("Major Version: Expected 3 or 4 saw "+N)}F!==512&&(Q=I.slice(0,F),vr(Q,28));var ye=I.slice(0,F);d(Q,N);var Ce=Q.read_shift(4,"i");if(N===3&&Ce!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ce);Q.l+=4,q=Q.read_shift(4,"i"),Q.l+=4,Q.chk("00100000","Mini Stream Cutoff Size: "),te=Q.read_shift(4,"i"),O=Q.read_shift(4,"i"),ee=Q.read_shift(4,"i"),L=Q.read_shift(4,"i");for(var ge=-1,we=0;we<109&&(ge=Q.read_shift(4,"i"),!(ge<0));++we)Z[we]=ge;var Fe=p(I,F);y(ee,L,Fe,F,Z);var nt=T(Fe,q,Z,F);nt[q].name="!Directory",O>0&&te!==b&&(nt[te].name="!MiniFAT"),nt[Z[0]].name="!FAT",nt.fat_addrs=Z,nt.ssz=F;var Ke={},dt=[],rn=[],He=[];w(q,nt,Fe,dt,O,Ke,rn,te),x(rn,He,dt),dt.shift();var ft={FileIndex:rn,FullPaths:He};return M&&M.raw&&(ft.raw={header:ye,sectors:Fe}),ft}function h(I){if(I[I.l]==80&&I[I.l+1]==75)return[0,0];I.chk(fe,"Header Signature: "),I.l+=16;var M=I.read_shift(2,"u");return[I.read_shift(2,"u"),M]}function d(I,M){var N=9;switch(I.l+=2,N=I.read_shift(2)){case 9:if(M!=3)throw new Error("Sector Shift: Expected 9 saw "+N);break;case 12:if(M!=4)throw new Error("Sector Shift: Expected 12 saw "+N);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+N)}I.chk("0600","Mini Sector Shift: "),I.chk("000000000000","Reserved: ")}function p(I,M){for(var N=Math.ceil(I.length/M)-1,F=[],O=1;O<N;++O)F[O-1]=I.slice(O*M,(O+1)*M);return F[N-1]=I.slice(N*M),F}function x(I,M,N){for(var F=0,O=0,L=0,q=0,te=0,ee=N.length,Z=[],Q=[];F<ee;++F)Z[F]=Q[F]=F,M[F]=N[F];for(;te<Q.length;++te)F=Q[te],O=I[F].L,L=I[F].R,q=I[F].C,Z[F]===F&&(O!==-1&&Z[O]!==O&&(Z[F]=Z[O]),L!==-1&&Z[L]!==L&&(Z[F]=Z[L])),q!==-1&&(Z[q]=F),O!==-1&&F!=Z[F]&&(Z[O]=Z[F],Q.lastIndexOf(O)<te&&Q.push(O)),L!==-1&&F!=Z[F]&&(Z[L]=Z[F],Q.lastIndexOf(L)<te&&Q.push(L));for(F=1;F<ee;++F)Z[F]===F&&(L!==-1&&Z[L]!==L?Z[F]=Z[L]:O!==-1&&Z[O]!==O&&(Z[F]=Z[O]));for(F=1;F<ee;++F)if(I[F].type!==0){if(te=F,te!=Z[te])do te=Z[te],M[F]=M[te]+"/"+M[F];while(te!==0&&Z[te]!==-1&&te!=Z[te]);Z[F]=-1}for(M[0]+="/",F=1;F<ee;++F)I[F].type!==2&&(M[F]+="/")}function v(I,M,N){for(var F=I.start,O=I.size,L=[],q=F;N&&O>0&&q>=0;)L.push(M.slice(q*R,q*R+R)),O-=R,q=ga(N,q*4);return L.length===0?er(0):Rs(L).slice(0,I.size)}function y(I,M,N,F,O){var L=b;if(I===b){if(M!==0)throw new Error("DIFAT chain shorter than expected")}else if(I!==-1){var q=N[I],te=(F>>>2)-1;if(!q)return;for(var ee=0;ee<te&&(L=ga(q,ee*4))!==b;++ee)O.push(L);y(ga(q,F-4),M-1,N,F,O)}}function k(I,M,N,F,O){var L=[],q=[];O||(O=[]);var te=F-1,ee=0,Z=0;for(ee=M;ee>=0;){O[ee]=!0,L[L.length]=ee,q.push(I[ee]);var Q=N[Math.floor(ee*4/F)];if(Z=ee*4&te,F<4+Z)throw new Error("FAT boundary crossed: "+ee+" 4 "+F);if(!I[Q])break;ee=ga(I[Q],Z)}return{nodes:L,data:Xy([q])}}function T(I,M,N,F){var O=I.length,L=[],q=[],te=[],ee=[],Z=F-1,Q=0,le=0,ye=0,Ce=0;for(Q=0;Q<O;++Q)if(te=[],ye=Q+M,ye>=O&&(ye-=O),!q[ye]){ee=[];var ge=[];for(le=ye;le>=0;){ge[le]=!0,q[le]=!0,te[te.length]=le,ee.push(I[le]);var we=N[Math.floor(le*4/F)];if(Ce=le*4&Z,F<4+Ce)throw new Error("FAT boundary crossed: "+le+" 4 "+F);if(!I[we]||(le=ga(I[we],Ce),ge[le]))break}L[ye]={nodes:te,data:Xy([ee])}}return L}function w(I,M,N,F,O,L,q,te){for(var ee=0,Z=F.length?2:0,Q=M[I].data,le=0,ye=0,Ce;le<Q.length;le+=128){var ge=Q.slice(le,le+128);vr(ge,64),ye=ge.read_shift(2),Ce=Ov(ge,0,ye-Z),F.push(Ce);var we={name:Ce,type:ge.read_shift(1),color:ge.read_shift(1),L:ge.read_shift(4,"i"),R:ge.read_shift(4,"i"),C:ge.read_shift(4,"i"),clsid:ge.read_shift(16),state:ge.read_shift(4,"i"),start:0,size:0},Fe=ge.read_shift(2)+ge.read_shift(2)+ge.read_shift(2)+ge.read_shift(2);Fe!==0&&(we.ct=D(ge,ge.l-8));var nt=ge.read_shift(2)+ge.read_shift(2)+ge.read_shift(2)+ge.read_shift(2);nt!==0&&(we.mt=D(ge,ge.l-8)),we.start=ge.read_shift(4,"i"),we.size=ge.read_shift(4,"i"),we.size<0&&we.start<0&&(we.size=we.type=0,we.start=b,we.name=""),we.type===5?(ee=we.start,O>0&&ee!==b&&(M[ee].name="!StreamData")):we.size>=4096?(we.storage="fat",M[we.start]===void 0&&(M[we.start]=k(N,we.start,M.fat_addrs,M.ssz)),M[we.start].name=we.name,we.content=M[we.start].data.slice(0,we.size)):(we.storage="minifat",we.size<0?we.size=0:ee!==b&&we.start!==b&&M[ee]&&(we.content=v(we,M[ee].data,(M[te]||{}).data))),we.content&&vr(we.content,0),L[Ce]=we,q.push(we)}}function D(I,M){return new Date((gn(I,M+4)/1e7*Math.pow(2,32)+gn(I,M)/1e7-11644473600)*1e3)}function B(I,M){return c(),u(l.readFileSync(I),M)}function U(I,M){var N=M&&M.type;switch(N||Qe&&Buffer.isBuffer(I)&&(N="buffer"),N||"base64"){case"file":return B(I,M);case"base64":return u(Qn(En(I)),M);case"binary":return u(Qn(I),M)}return u(I,M)}function g(I,M){var N=M||{},F=N.root||"Root Entry";if(I.FullPaths||(I.FullPaths=[]),I.FileIndex||(I.FileIndex=[]),I.FullPaths.length!==I.FileIndex.length)throw new Error("inconsistent CFB structure");I.FullPaths.length===0&&(I.FullPaths[0]=F+"/",I.FileIndex[0]={name:F,type:5}),N.CLSID&&(I.FileIndex[0].clsid=N.CLSID),E(I)}function E(I){var M="Sh33tJ5";if(!et.find(I,"/"+M)){var N=er(4);N[0]=55,N[1]=N[3]=50,N[2]=54,I.FileIndex.push({name:M,type:2,content:N,size:4,L:69,R:69,C:69}),I.FullPaths.push(I.FullPaths[0]+M),S(I)}}function S(I,M){g(I);for(var N=!1,F=!1,O=I.FullPaths.length-1;O>=0;--O){var L=I.FileIndex[O];switch(L.type){case 0:F?N=!0:(I.FileIndex.pop(),I.FullPaths.pop());break;case 1:case 2:case 5:F=!0,isNaN(L.R*L.L*L.C)&&(N=!0),L.R>-1&&L.L>-1&&L.R==L.L&&(N=!0);break;default:N=!0;break}}if(!(!N&&!M)){var q=new Date(1987,1,19),te=0,ee=Object.create?Object.create(null):{},Z=[];for(O=0;O<I.FullPaths.length;++O)ee[I.FullPaths[O]]=!0,I.FileIndex[O].type!==0&&Z.push([I.FullPaths[O],I.FileIndex[O]]);for(O=0;O<Z.length;++O){var Q=n(Z[O][0]);F=ee[Q],F||(Z.push([Q,{name:i(Q).replace("/",""),type:1,clsid:Se,ct:q,mt:q,content:null}]),ee[Q]=!0)}for(Z.sort(function(Ce,ge){return r(Ce[0],ge[0])}),I.FullPaths=[],I.FileIndex=[],O=0;O<Z.length;++O)I.FullPaths[O]=Z[O][0],I.FileIndex[O]=Z[O][1];for(O=0;O<Z.length;++O){var le=I.FileIndex[O],ye=I.FullPaths[O];if(le.name=i(ye).replace("/",""),le.L=le.R=le.C=-(le.color=1),le.size=le.content?le.content.length:0,le.start=0,le.clsid=le.clsid||Se,O===0)le.C=Z.length>1?1:-1,le.size=0,le.type=5;else if(ye.slice(-1)=="/"){for(te=O+1;te<Z.length&&n(I.FullPaths[te])!=ye;++te);for(le.C=te>=Z.length?-1:te,te=O+1;te<Z.length&&n(I.FullPaths[te])!=n(ye);++te);le.R=te>=Z.length?-1:te,le.type=1}else n(I.FullPaths[O+1]||"")==n(ye)&&(le.R=O+1),le.type=2}}}function C(I,M){var N=M||{};if(N.fileType=="mad")return Zt(I,N);switch(S(I),N.fileType){case"zip":return Oi(I,N)}var F=function(Ce){for(var ge=0,we=0,Fe=0;Fe<Ce.FileIndex.length;++Fe){var nt=Ce.FileIndex[Fe];if(nt.content){var Ke=nt.content.length;Ke>0&&(Ke<4096?ge+=Ke+63>>6:we+=Ke+511>>9)}}for(var dt=Ce.FullPaths.length+3>>2,rn=ge+7>>3,He=ge+127>>7,ft=rn+we+dt+He,dr=ft+127>>7,In=dr<=109?0:Math.ceil((dr-109)/127);ft+dr+In+127>>7>dr;)In=++dr<=109?0:Math.ceil((dr-109)/127);var Je=[1,In,dr,He,dt,we,ge,0];return Ce.FileIndex[0].size=ge<<6,Je[7]=(Ce.FileIndex[0].start=Je[0]+Je[1]+Je[2]+Je[3]+Je[4]+Je[5])+(Je[6]+7>>3),Je}(I),O=er(F[7]<<9),L=0,q=0;{for(L=0;L<8;++L)O.write_shift(1,de[L]);for(L=0;L<8;++L)O.write_shift(2,0);for(O.write_shift(2,62),O.write_shift(2,3),O.write_shift(2,65534),O.write_shift(2,9),O.write_shift(2,6),L=0;L<3;++L)O.write_shift(2,0);for(O.write_shift(4,0),O.write_shift(4,F[2]),O.write_shift(4,F[0]+F[1]+F[2]+F[3]-1),O.write_shift(4,0),O.write_shift(4,4096),O.write_shift(4,F[3]?F[0]+F[1]+F[2]-1:b),O.write_shift(4,F[3]),O.write_shift(-4,F[1]?F[0]-1:b),O.write_shift(4,F[1]),L=0;L<109;++L)O.write_shift(-4,L<F[2]?F[1]+L:-1)}if(F[1])for(q=0;q<F[1];++q){for(;L<236+q*127;++L)O.write_shift(-4,L<F[2]?F[1]+L:-1);O.write_shift(-4,q===F[1]-1?b:q+1)}var te=function(Ce){for(q+=Ce;L<q-1;++L)O.write_shift(-4,L+1);Ce&&(++L,O.write_shift(-4,b))};for(q=L=0,q+=F[1];L<q;++L)O.write_shift(-4,oe.DIFSECT);for(q+=F[2];L<q;++L)O.write_shift(-4,oe.FATSECT);te(F[3]),te(F[4]);for(var ee=0,Z=0,Q=I.FileIndex[0];ee<I.FileIndex.length;++ee)Q=I.FileIndex[ee],Q.content&&(Z=Q.content.length,!(Z<4096)&&(Q.start=q,te(Z+511>>9)));for(te(F[6]+7>>3);O.l&511;)O.write_shift(-4,oe.ENDOFCHAIN);for(q=L=0,ee=0;ee<I.FileIndex.length;++ee)Q=I.FileIndex[ee],Q.content&&(Z=Q.content.length,!(!Z||Z>=4096)&&(Q.start=q,te(Z+63>>6)));for(;O.l&511;)O.write_shift(-4,oe.ENDOFCHAIN);for(L=0;L<F[4]<<2;++L){var le=I.FullPaths[L];if(!le||le.length===0){for(ee=0;ee<17;++ee)O.write_shift(4,0);for(ee=0;ee<3;++ee)O.write_shift(4,-1);for(ee=0;ee<12;++ee)O.write_shift(4,0);continue}Q=I.FileIndex[L],L===0&&(Q.start=Q.size?Q.start-1:b);var ye=L===0&&N.root||Q.name;if(Z=2*(ye.length+1),O.write_shift(64,ye,"utf16le"),O.write_shift(2,Z),O.write_shift(1,Q.type),O.write_shift(1,Q.color),O.write_shift(-4,Q.L),O.write_shift(-4,Q.R),O.write_shift(-4,Q.C),Q.clsid)O.write_shift(16,Q.clsid,"hex");else for(ee=0;ee<4;++ee)O.write_shift(4,0);O.write_shift(4,Q.state||0),O.write_shift(4,0),O.write_shift(4,0),O.write_shift(4,0),O.write_shift(4,0),O.write_shift(4,Q.start),O.write_shift(4,Q.size),O.write_shift(4,0)}for(L=1;L<I.FileIndex.length;++L)if(Q=I.FileIndex[L],Q.size>=4096)if(O.l=Q.start+1<<9,Qe&&Buffer.isBuffer(Q.content))Q.content.copy(O,O.l,0,Q.size),O.l+=Q.size+511&-512;else{for(ee=0;ee<Q.size;++ee)O.write_shift(1,Q.content[ee]);for(;ee&511;++ee)O.write_shift(1,0)}for(L=1;L<I.FileIndex.length;++L)if(Q=I.FileIndex[L],Q.size>0&&Q.size<4096)if(Qe&&Buffer.isBuffer(Q.content))Q.content.copy(O,O.l,0,Q.size),O.l+=Q.size+63&-64;else{for(ee=0;ee<Q.size;++ee)O.write_shift(1,Q.content[ee]);for(;ee&63;++ee)O.write_shift(1,0)}if(Qe)O.l=O.length;else for(;O.l<O.length;)O.write_shift(1,0);return O}function P(I,M){var N=I.FullPaths.map(function(ee){return ee.toUpperCase()}),F=N.map(function(ee){var Z=ee.split("/");return Z[Z.length-(ee.slice(-1)=="/"?2:1)]}),O=!1;M.charCodeAt(0)===47?(O=!0,M=N[0].slice(0,-1)+M):O=M.indexOf("/")!==-1;var L=M.toUpperCase(),q=O===!0?N.indexOf(L):F.indexOf(L);if(q!==-1)return I.FileIndex[q];var te=!L.match(Jl);for(L=L.replace(Yr,""),te&&(L=L.replace(Jl,"!")),q=0;q<N.length;++q)if((te?N[q].replace(Jl,"!"):N[q]).replace(Yr,"")==L||(te?F[q].replace(Jl,"!"):F[q]).replace(Yr,"")==L)return I.FileIndex[q];return null}var R=64,b=-2,fe="d0cf11e0a1b11ae1",de=[208,207,17,224,161,177,26,225],Se="00000000000000000000000000000000",oe={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:b,FREESECT:-1,HEADER_SIGNATURE:fe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Se,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ie(I,M,N){c();var F=C(I,N);l.writeFileSync(M,F)}function G(I){for(var M=new Array(I.length),N=0;N<I.length;++N)M[N]=String.fromCharCode(I[N]);return M.join("")}function ce(I,M){var N=C(I,M);switch(M&&M.type||"buffer"){case"file":return c(),l.writeFileSync(M.filename,N),N;case"binary":return typeof N=="string"?N:G(N);case"base64":return Py(typeof N=="string"?N:G(N));case"buffer":if(Qe)return Buffer.isBuffer(N)?N:Ja(N);case"array":return typeof N=="string"?Qn(N):N}return N}var Ee;function j(I){try{var M=I.InflateRaw,N=new M;if(N._processChunk(new Uint8Array([3,0]),N._finishFlushFlag),N.bytesRead)Ee=I;else throw new Error("zlib does not expose bytesRead")}catch(F){console.error("cannot use native zlib: "+(F.message||F))}}function Y(I,M){if(!Ee)return bi(I,M);var N=Ee.InflateRaw,F=new N,O=F._processChunk(I.slice(I.l),F._finishFlushFlag);return I.l+=F.bytesRead,O}function K(I){return Ee?Ee.deflateRawSync(I):Ve(I)}var W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],xe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ke(I){var M=(I<<1|I<<11)&139536|(I<<5|I<<15)&558144;return(M>>16|M>>8|M)&255}for(var he=typeof Uint8Array<"u",me=he?new Uint8Array(256):[],$e=0;$e<256;++$e)me[$e]=ke($e);function z(I,M){var N=me[I&255];return M<=8?N>>>8-M:(N=N<<8|me[I>>8&255],M<=16?N>>>16-M:(N=N<<8|me[I>>16&255],N>>>24-M))}function ot(I,M){var N=M&7,F=M>>>3;return(I[F]|(N<=6?0:I[F+1]<<8))>>>N&3}function We(I,M){var N=M&7,F=M>>>3;return(I[F]|(N<=5?0:I[F+1]<<8))>>>N&7}function rt(I,M){var N=M&7,F=M>>>3;return(I[F]|(N<=4?0:I[F+1]<<8))>>>N&15}function be(I,M){var N=M&7,F=M>>>3;return(I[F]|(N<=3?0:I[F+1]<<8))>>>N&31}function Ie(I,M){var N=M&7,F=M>>>3;return(I[F]|(N<=1?0:I[F+1]<<8))>>>N&127}function Et(I,M,N){var F=M&7,O=M>>>3,L=(1<<N)-1,q=I[O]>>>F;return N<8-F||(q|=I[O+1]<<8-F,N<16-F)||(q|=I[O+2]<<16-F,N<24-F)||(q|=I[O+3]<<24-F),q&L}function ar(I,M,N){var F=M&7,O=M>>>3;return F<=5?I[O]|=(N&7)<<F:(I[O]|=N<<F&255,I[O+1]=(N&7)>>8-F),M+3}function Sr(I,M,N){var F=M&7,O=M>>>3;return N=(N&1)<<F,I[O]|=N,M+1}function en(I,M,N){var F=M&7,O=M>>>3;return N<<=F,I[O]|=N&255,N>>>=8,I[O+1]=N,M+8}function Di(I,M,N){var F=M&7,O=M>>>3;return N<<=F,I[O]|=N&255,N>>>=8,I[O+1]=N&255,I[O+2]=N>>>8,M+16}function tn(I,M){var N=I.length,F=2*N>M?2*N:M+5,O=0;if(N>=M)return I;if(Qe){var L=Dy(F);if(I.copy)I.copy(L);else for(;O<I.length;++O)L[O]=I[O];return L}else if(he){var q=new Uint8Array(F);if(q.set)q.set(I);else for(;O<N;++O)q[O]=I[O];return q}return I.length=F,I}function Tt(I){for(var M=new Array(I),N=0;N<I;++N)M[N]=0;return M}function or(I,M,N){var F=1,O=0,L=0,q=0,te=0,ee=I.length,Z=he?new Uint16Array(32):Tt(32);for(L=0;L<32;++L)Z[L]=0;for(L=ee;L<N;++L)I[L]=0;ee=I.length;var Q=he?new Uint16Array(ee):Tt(ee);for(L=0;L<ee;++L)Z[O=I[L]]++,F<O&&(F=O),Q[L]=0;for(Z[0]=0,L=1;L<=F;++L)Z[L+16]=te=te+Z[L-1]<<1;for(L=0;L<ee;++L)te=I[L],te!=0&&(Q[L]=Z[te+16]++);var le=0;for(L=0;L<ee;++L)if(le=I[L],le!=0)for(te=z(Q[L],F)>>F-le,q=(1<<F+4-le)-1;q>=0;--q)M[te|q<<le]=le&15|L<<4;return F}var vt=he?new Uint16Array(512):Tt(512),kt=he?new Uint16Array(32):Tt(32);if(!he){for(var ht=0;ht<512;++ht)vt[ht]=0;for(ht=0;ht<32;++ht)kt[ht]=0}(function(){for(var I=[],M=0;M<32;M++)I.push(5);or(I,kt,32);var N=[];for(M=0;M<=143;M++)N.push(8);for(;M<=255;M++)N.push(9);for(;M<=279;M++)N.push(7);for(;M<=287;M++)N.push(8);or(N,vt,288)})();var Dt=function(){for(var M=he?new Uint8Array(32768):[],N=0,F=0;N<xe.length-1;++N)for(;F<xe[N+1];++F)M[F]=N;for(;F<32768;++F)M[F]=29;var O=he?new Uint8Array(259):[];for(N=0,F=0;N<ae.length-1;++N)for(;F<ae[N+1];++F)O[F]=N;function L(te,ee){for(var Z=0;Z<te.length;){var Q=Math.min(65535,te.length-Z),le=Z+Q==te.length;for(ee.write_shift(1,+le),ee.write_shift(2,Q),ee.write_shift(2,~Q&65535);Q-- >0;)ee[ee.l++]=te[Z++]}return ee.l}function q(te,ee){for(var Z=0,Q=0,le=he?new Uint16Array(32768):[];Q<te.length;){var ye=Math.min(65535,te.length-Q);if(ye<10){for(Z=ar(ee,Z,+(Q+ye==te.length)),Z&7&&(Z+=8-(Z&7)),ee.l=Z/8|0,ee.write_shift(2,ye),ee.write_shift(2,~ye&65535);ye-- >0;)ee[ee.l++]=te[Q++];Z=ee.l*8;continue}Z=ar(ee,Z,+(Q+ye==te.length)+2);for(var Ce=0;ye-- >0;){var ge=te[Q];Ce=(Ce<<5^ge)&32767;var we=-1,Fe=0;if((we=le[Ce])&&(we|=Q&-32768,we>Q&&(we-=32768),we<Q))for(;te[we+Fe]==te[Q+Fe]&&Fe<250;)++Fe;if(Fe>2){ge=O[Fe],ge<=22?Z=en(ee,Z,me[ge+1]>>1)-1:(en(ee,Z,3),Z+=5,en(ee,Z,me[ge-23]>>5),Z+=3);var nt=ge<8?0:ge-4>>2;nt>0&&(Di(ee,Z,Fe-ae[ge]),Z+=nt),ge=M[Q-we],Z=en(ee,Z,me[ge]>>3),Z-=3;var Ke=ge<4?0:ge-2>>1;Ke>0&&(Di(ee,Z,Q-we-xe[ge]),Z+=Ke);for(var dt=0;dt<Fe;++dt)le[Ce]=Q&32767,Ce=(Ce<<5^te[Q])&32767,++Q;ye-=Fe-1}else ge<=143?ge=ge+48:Z=Sr(ee,Z,1),Z=en(ee,Z,me[ge]),le[Ce]=Q&32767,++Q}Z=en(ee,Z,0)-1}return ee.l=(Z+7)/8|0,ee.l}return function(ee,Z){return ee.length<8?L(ee,Z):q(ee,Z)}}();function Ve(I){var M=er(50+Math.floor(I.length*1.1)),N=Dt(I,M);return M.slice(0,N)}var xt=he?new Uint16Array(32768):Tt(32768),Ht=he?new Uint16Array(32768):Tt(32768),ut=he?new Uint16Array(128):Tt(128),hn=1,Fi=1;function io(I,M){var N=be(I,M)+257;M+=5;var F=be(I,M)+1;M+=5;var O=rt(I,M)+4;M+=4;for(var L=0,q=he?new Uint8Array(19):Tt(19),te=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ee=1,Z=he?new Uint8Array(8):Tt(8),Q=he?new Uint8Array(8):Tt(8),le=q.length,ye=0;ye<O;++ye)q[W[ye]]=L=We(I,M),ee<L&&(ee=L),Z[L]++,M+=3;var Ce=0;for(Z[0]=0,ye=1;ye<=ee;++ye)Q[ye]=Ce=Ce+Z[ye-1]<<1;for(ye=0;ye<le;++ye)(Ce=q[ye])!=0&&(te[ye]=Q[Ce]++);var ge=0;for(ye=0;ye<le;++ye)if(ge=q[ye],ge!=0){Ce=me[te[ye]]>>8-ge;for(var we=(1<<7-ge)-1;we>=0;--we)ut[Ce|we<<ge]=ge&7|ye<<3}var Fe=[];for(ee=1;Fe.length<N+F;)switch(Ce=ut[Ie(I,M)],M+=Ce&7,Ce>>>=3){case 16:for(L=3+ot(I,M),M+=2,Ce=Fe[Fe.length-1];L-- >0;)Fe.push(Ce);break;case 17:for(L=3+We(I,M),M+=3;L-- >0;)Fe.push(0);break;case 18:for(L=11+Ie(I,M),M+=7;L-- >0;)Fe.push(0);break;default:Fe.push(Ce),ee<Ce&&(ee=Ce);break}var nt=Fe.slice(0,N),Ke=Fe.slice(N);for(ye=N;ye<286;++ye)nt[ye]=0;for(ye=F;ye<30;++ye)Ke[ye]=0;return hn=or(nt,xt,286),Fi=or(Ke,Ht,30),M}function wl(I,M){if(I[0]==3&&!(I[1]&3))return[ea(M),2];for(var N=0,F=0,O=Dy(M||1<<18),L=0,q=O.length>>>0,te=0,ee=0;!(F&1);){if(F=We(I,N),N+=3,F>>>1)F>>1==1?(te=9,ee=5):(N=io(I,N),te=hn,ee=Fi);else{N&7&&(N+=8-(N&7));var Z=I[N>>>3]|I[(N>>>3)+1]<<8;if(N+=32,Z>0)for(!M&&q<L+Z&&(O=tn(O,L+Z),q=O.length);Z-- >0;)O[L++]=I[N>>>3],N+=8;continue}for(;;){!M&&q<L+32767&&(O=tn(O,L+32767),q=O.length);var Q=Et(I,N,te),le=F>>>1==1?vt[Q]:xt[Q];if(N+=le&15,le>>>=4,!(le>>>8&255))O[L++]=le;else{if(le==256)break;le-=257;var ye=le<8?0:le-4>>2;ye>5&&(ye=0);var Ce=L+ae[le];ye>0&&(Ce+=Et(I,N,ye),N+=ye),Q=Et(I,N,ee),le=F>>>1==1?kt[Q]:Ht[Q],N+=le&15,le>>>=4;var ge=le<4?0:le-2>>1,we=xe[le];for(ge>0&&(we+=Et(I,N,ge),N+=ge),!M&&q<Ce&&(O=tn(O,Ce+100),q=O.length);L<Ce;)O[L]=O[L-we],++L}}}return M?[O,N+7>>>3]:[O.slice(0,L),N+7>>>3]}function bi(I,M){var N=I.slice(I.l||0),F=wl(N,M);return I.l+=F[1],F[0]}function ci(I,M){if(I)typeof console<"u"&&console.error(M);else throw new Error(M)}function ms(I,M){var N=I;vr(N,0);var F=[],O=[],L={FileIndex:F,FullPaths:O};g(L,{root:M.root});for(var q=N.length-4;(N[q]!=80||N[q+1]!=75||N[q+2]!=5||N[q+3]!=6)&&q>=0;)--q;N.l=q+4,N.l+=4;var te=N.read_shift(2);N.l+=6;var ee=N.read_shift(4);for(N.l=ee,q=0;q<te;++q){N.l+=20;var Z=N.read_shift(4),Q=N.read_shift(4),le=N.read_shift(2),ye=N.read_shift(2),Ce=N.read_shift(2);N.l+=8;var ge=N.read_shift(4),we=o(N.slice(N.l+le,N.l+le+ye));N.l+=le+ye+Ce;var Fe=N.l;N.l=ge+4,Bn(N,Z,Q,L,we),N.l=Fe}return L}function Bn(I,M,N,F,O){I.l+=2;var L=I.read_shift(2),q=I.read_shift(2),te=a(I);if(L&8257)throw new Error("Unsupported ZIP encryption");for(var ee=I.read_shift(4),Z=I.read_shift(4),Q=I.read_shift(4),le=I.read_shift(2),ye=I.read_shift(2),Ce="",ge=0;ge<le;++ge)Ce+=String.fromCharCode(I[I.l++]);if(ye){var we=o(I.slice(I.l,I.l+ye));(we[21589]||{}).mt&&(te=we[21589].mt),((O||{})[21589]||{}).mt&&(te=O[21589].mt)}I.l+=ye;var Fe=I.slice(I.l,I.l+Z);switch(q){case 8:Fe=Y(I,Q);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+q)}var nt=!1;L&8&&(ee=I.read_shift(4),ee==134695760&&(ee=I.read_shift(4),nt=!0),Z=I.read_shift(4),Q=I.read_shift(4)),Z!=M&&ci(nt,"Bad compressed size: "+M+" != "+Z),Q!=N&&ci(nt,"Bad uncompressed size: "+N+" != "+Q),J(F,Ce,Fe,{unsafe:!0,mt:te})}function Oi(I,M){var N=M||{},F=[],O=[],L=er(1),q=N.compression?8:0,te=0,ee=0,Z=0,Q=0,le=0,ye=I.FullPaths[0],Ce=ye,ge=I.FileIndex[0],we=[],Fe=0;for(ee=1;ee<I.FullPaths.length;++ee)if(Ce=I.FullPaths[ee].slice(ye.length),ge=I.FileIndex[ee],!(!ge.size||!ge.content||Ce=="Sh33tJ5")){var nt=Q,Ke=er(Ce.length);for(Z=0;Z<Ce.length;++Z)Ke.write_shift(1,Ce.charCodeAt(Z)&127);Ke=Ke.slice(0,Ke.l),we[le]=rM.buf(ge.content,0);var dt=ge.content;q==8&&(dt=K(dt)),L=er(30),L.write_shift(4,67324752),L.write_shift(2,20),L.write_shift(2,te),L.write_shift(2,q),ge.mt?s(L,ge.mt):L.write_shift(4,0),L.write_shift(-4,we[le]),L.write_shift(4,dt.length),L.write_shift(4,ge.content.length),L.write_shift(2,Ke.length),L.write_shift(2,0),Q+=L.length,F.push(L),Q+=Ke.length,F.push(Ke),Q+=dt.length,F.push(dt),L=er(46),L.write_shift(4,33639248),L.write_shift(2,0),L.write_shift(2,20),L.write_shift(2,te),L.write_shift(2,q),L.write_shift(4,0),L.write_shift(-4,we[le]),L.write_shift(4,dt.length),L.write_shift(4,ge.content.length),L.write_shift(2,Ke.length),L.write_shift(2,0),L.write_shift(2,0),L.write_shift(2,0),L.write_shift(2,0),L.write_shift(4,0),L.write_shift(4,nt),Fe+=L.l,O.push(L),Fe+=Ke.length,O.push(Ke),++le}return L=er(22),L.write_shift(4,101010256),L.write_shift(2,0),L.write_shift(2,0),L.write_shift(2,le),L.write_shift(2,le),L.write_shift(4,Fe),L.write_shift(4,Q),L.write_shift(2,0),Rs([Rs(F),Rs(O),L])}var ui={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Sn(I,M){if(I.ctype)return I.ctype;var N=I.name||"",F=N.match(/\.([^\.]+)$/);return F&&ui[F[1]]||M&&(F=(N=M).match(/[\.\\]([^\.\\])+$/),F&&ui[F[1]])?ui[F[1]]:"application/octet-stream"}function so(I){for(var M=Py(I),N=[],F=0;F<M.length;F+=76)N.push(M.slice(F,F+76));return N.join(`\r
`)+`\r
`}function Li(I){var M=I.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Z){var Q=Z.charCodeAt(0).toString(16).toUpperCase();return"="+(Q.length==1?"0"+Q:Q)});M=M.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),M.charAt(0)==`
`&&(M="=0D"+M.slice(1)),M=M.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var N=[],F=M.split(`\r
`),O=0;O<F.length;++O){var L=F[O];if(L.length==0){N.push("");continue}for(var q=0;q<L.length;){var te=76,ee=L.slice(q,q+te);ee.charAt(te-1)=="="?te--:ee.charAt(te-2)=="="?te-=2:ee.charAt(te-3)=="="&&(te-=3),ee=L.slice(q,q+te),q+=te,q<L.length&&(ee+="="),N.push(ee)}}return N.join(`\r
`)}function Mi(I){for(var M=[],N=0;N<I.length;++N){for(var F=I[N];N<=I.length&&F.charAt(F.length-1)=="=";)F=F.slice(0,F.length-1)+I[++N];M.push(F)}for(var O=0;O<M.length;++O)M[O]=M[O].replace(/[=][0-9A-Fa-f]{2}/g,function(L){return String.fromCharCode(parseInt(L.slice(1),16))});return Qn(M.join(`\r
`))}function An(I,M,N){for(var F="",O="",L="",q,te=0;te<10;++te){var ee=M[te];if(!ee||ee.match(/^\s*$/))break;var Z=ee.match(/^(.*?):\s*([^\s].*)$/);if(Z)switch(Z[1].toLowerCase()){case"content-location":F=Z[2].trim();break;case"content-type":L=Z[2].trim();break;case"content-transfer-encoding":O=Z[2].trim();break}}switch(++te,O.toLowerCase()){case"base64":q=Qn(En(M.slice(te).join("")));break;case"quoted-printable":q=Mi(M.slice(te));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+O)}var Q=J(I,F.slice(N.length),q,{unsafe:!0});L&&(Q.ctype=L)}function ao(I,M){if(G(I.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var N=M&&M.root||"",F=(Qe&&Buffer.isBuffer(I)?I.toString("binary"):G(I)).split(`\r
`),O=0,L="";for(O=0;O<F.length;++O)if(L=F[O],!!/^Content-Location:/i.test(L)&&(L=L.slice(L.indexOf("file")),N||(N=L.slice(0,L.lastIndexOf("/")+1)),L.slice(0,N.length)!=N))for(;N.length>0&&(N=N.slice(0,N.length-1),N=N.slice(0,N.lastIndexOf("/")+1),L.slice(0,N.length)!=N););var q=(F[1]||"").match(/boundary="(.*?)"/);if(!q)throw new Error("MAD cannot find boundary");var te="--"+(q[1]||""),ee=[],Z=[],Q={FileIndex:ee,FullPaths:Z};g(Q);var le,ye=0;for(O=0;O<F.length;++O){var Ce=F[O];Ce!==te&&Ce!==te+"--"||(ye++&&An(Q,F.slice(le,O),N),le=O)}return Q}function Zt(I,M){var N=M||{},F=N.boundary||"SheetJS";F="------="+F;for(var O=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+F.slice(2)+'"',"","",""],L=I.FullPaths[0],q=L,te=I.FileIndex[0],ee=1;ee<I.FullPaths.length;++ee)if(q=I.FullPaths[ee].slice(L.length),te=I.FileIndex[ee],!(!te.size||!te.content||q=="Sh33tJ5")){q=q.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Fe){return"_x"+Fe.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Fe){return"_u"+Fe.charCodeAt(0).toString(16)+"_"});for(var Z=te.content,Q=Qe&&Buffer.isBuffer(Z)?Z.toString("binary"):G(Z),le=0,ye=Math.min(1024,Q.length),Ce=0,ge=0;ge<=ye;++ge)(Ce=Q.charCodeAt(ge))>=32&&Ce<128&&++le;var we=le>=ye*4/5;O.push(F),O.push("Content-Location: "+(N.root||"file:///C:/SheetJS/")+q),O.push("Content-Transfer-Encoding: "+(we?"quoted-printable":"base64")),O.push("Content-Type: "+Sn(te,q)),O.push(""),O.push(we?Li(Q):so(Q))}return O.push(F+`--\r
`),O.join(`\r
`)}function H(I){var M={};return g(M,I),M}function J(I,M,N,F){var O=F&&F.unsafe;O||g(I);var L=!O&&et.find(I,M);if(!L){var q=I.FullPaths[0];M.slice(0,q.length)==q?q=M:(q.slice(-1)!="/"&&(q+="/"),q=(q+M).replace("//","/")),L={name:i(M),type:2},I.FileIndex.push(L),I.FullPaths.push(q),O||et.utils.cfb_gc(I)}return L.content=N,L.size=N?N.length:0,F&&(F.CLSID&&(L.clsid=F.CLSID),F.mt&&(L.mt=F.mt),F.ct&&(L.ct=F.ct)),L}function ne(I,M){g(I);var N=et.find(I,M);if(N){for(var F=0;F<I.FileIndex.length;++F)if(I.FileIndex[F]==N)return I.FileIndex.splice(F,1),I.FullPaths.splice(F,1),!0}return!1}function pe(I,M,N){g(I);var F=et.find(I,M);if(F){for(var O=0;O<I.FileIndex.length;++O)if(I.FileIndex[O]==F)return I.FileIndex[O].name=i(N),I.FullPaths[O]=N,!0}return!1}function Ae(I){S(I,!0)}return e.find=P,e.read=U,e.parse=u,e.write=ce,e.writeFile=ie,e.utils={cfb_new:H,cfb_add:J,cfb_del:ne,cfb_mov:pe,cfb_gc:Ae,ReadShift:gc,CheckField:vA,prep_blob:vr,bconcat:Rs,use_zlib:j,_deflateRaw:Ve,_inflateRaw:bi,consts:oe},e}();function nM(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var r=e.read();return e.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+t)}function Ai(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function Pv(t){for(var e=[],r=Ai(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}var Gh=new Date(1899,11,30,0,0,0);function Qr(t,e){var r=t.getTime(),n=Gh.getTime()+(t.getTimezoneOffset()-Gh.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var YS=new Date,iM=Gh.getTime()+(YS.getTimezoneOffset()-Gh.getTimezoneOffset())*6e4,jy=YS.getTimezoneOffset();function $0(t){var e=new Date;return e.setTime(t*24*60*60*1e3+iM),e.getTimezoneOffset()!==jy&&e.setTime(e.getTime()+(e.getTimezoneOffset()-jy)*6e4),e}function sM(t){var e=0,r=0,n=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(r=1,s>3&&(n=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=r*parseInt(i[s],10)}return e}var By=new Date("2017-02-19T19:06:09.000Z"),QS=isNaN(By.getFullYear())?new Date("2/19/17"):By,aM=QS.getFullYear()==2017;function hr(t,e){var r=new Date(t);if(aM)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(QS.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function za(t,e){if(Qe&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return ec(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return ec(MS(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return ec(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return ec(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function wr(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=wr(t[r]));return e}function Ut(t,e){for(var r="";r.length<e;)r+=t;return r}function ii(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return r=-r,s}),!isNaN(e=Number(n)))?e/r:e}var oM=["january","february","march","april","may","june","july","august","september","october","november","december"];function ol(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return r;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&oM.indexOf(a)==-1)return r}else if(a.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||s>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}var lM=function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,n,i){if(t||typeof n=="string")return r.split(n);for(var s=r.split(n),a=[s[0]],o=1;o<s.length;++o)a.push(i),a.push(s[o]);return a}}();function JS(t){return t?t.content&&t.type?za(t.content,!0):t.data?Ql(t.data):t.asNodeBuffer&&Qe?Ql(t.asNodeBuffer().toString("binary")):t.asBinary?Ql(t.asBinary()):t._data&&t._data.getContent?Ql(za(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function ZS(t){if(!t)return null;if(t.data)return Ry(t.data);if(t.asNodeBuffer&&Qe)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?Ry(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function cM(t){return t&&t.name.slice(-4)===".bin"?ZS(t):JS(t)}function Nn(t,e){for(var r=t.FullPaths||Ai(t.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var a=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==a||i==a)return t.files?t.files[r[s]]:t.FileIndex[s]}return null}function Dv(t,e){var r=Nn(t,e);if(r==null)throw new Error("Cannot find file "+e+" in zip");return r}function Kt(t,e,r){if(!r)return cM(Dv(t,e));if(!e)return null;try{return Kt(t,e)}catch{return null}}function vn(t,e,r){if(!r)return JS(Dv(t,e));if(!e)return null;try{return vn(t,e)}catch{return null}}function uM(t,e,r){return ZS(Dv(t,e))}function zy(t){for(var e=t.FullPaths||Ai(t.files),r=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&r.push(e[n].replace(/^Root Entry[\/]/,""));return r.sort()}function fM(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return Qe?n=Ja(r):n=N6(r),et.utils.cfb_add(t,e,n)}et.utils.cfb_add(t,e,r)}else t.file(e,r)}function eA(t,e){switch(e.type){case"base64":return et.read(t,{type:"base64"});case"binary":return et.read(t,{type:"binary"});case"buffer":case"array":return et.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function Zl(t,e){if(t.charAt(0)=="/")return t.slice(1);var r=e.split("/");e.slice(-1)!="/"&&r.pop();for(var n=t.split("/");n.length!==0;){var i=n.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var tA=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,hM=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,$y=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,dM=/<[^>]*>/g,zr=tA.match($y)?$y:dM,pM=/<\w*:/,mM=/<(\/?)\w+:/;function Oe(t,e,r){for(var n={},i=0,s=0;i!==t.length&&!((s=t.charCodeAt(i))===32||s===10||s===13);++i);if(e||(n[0]=t.slice(0,i)),i===t.length)return n;var a=t.match(hM),o=0,l="",c=0,u="",h="",d=1;if(a)for(c=0;c!=a.length;++c){for(h=a[c],s=0;s!=h.length&&h.charCodeAt(s)!==61;++s);for(u=h.slice(0,s).trim();h.charCodeAt(s+1)==32;)++s;for(d=(i=h.charCodeAt(s+1))==34||i==39?1:0,l=h.slice(s+1+d,h.length-d),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var p=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[p]&&u.slice(o-3,o)=="ext")continue;n[p]=l,n[p.toLowerCase()]=l}}return n}function Ni(t){return t.replace(mM,"<$1")}var rA={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},gM=Pv(rA),at=function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function r(n){var i=n+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(t,function(o,l){return rA[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var a=i.indexOf("]]>");return r(i.slice(0,s))+i.slice(s+9,a)+r(i.slice(a+3))}}(),vM=/[&<>'"]/g,xM=/[\u0000-\u001f]/g;function Fv(t){var e=t+"";return e.replace(vM,function(r){return gM[r]}).replace(/\n/g,"<br/>").replace(xM,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var Hy=function(){var t=/&#(\d+);/g;function e(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(t,e)}}();function Nt(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function jd(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){a=(n&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}a=t.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function Wy(t){var e=ea(2*t.length),r,n,i=1,s=0,a=0,o;for(n=0;n<t.length;n+=i)i=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,a=55296+(r>>>10&1023),r=56320+(r&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=r%256,e[s++]=r>>>8;return e.slice(0,s).toString("ucs2")}function Gy(t){return Ja(t,"binary").toString("utf8")}var yf="foo bar baz",wt=Qe&&(Gy(yf)==jd(yf)&&Gy||Wy(yf)==jd(yf)&&Wy)||jd,ec=Qe?function(t){return Ja(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},nu=function(){var t={};return function(r,n){var i=r+"|"+(n||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),nA=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}}(),_M=function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),yM=/<\/?(?:vt:)?variant>/g,wM=/<(?:vt:)([^>]*)>([\s\S]*)</;function Ky(t,e){var r=Oe(t),n=t.match(_M(r.baseType))||[],i=[];if(n.length!=r.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return i}return n.forEach(function(s){var a=s.replace(yM,"").match(wM);a&&i.push({v:wt(a[2]),t:a[1]})}),i}var EM=/(^\s|\s$|\n)/;function TM(t){return Ai(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function kM(t,e,r){return"<"+t+(r!=null?TM(r):"")+(e!=null?(e.match(EM)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function bv(t){if(Qe&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return wt(Za(Cv(t)));throw new Error("Bad input format: expected Buffer or string")}var iu=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,SM={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},AM=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function IM(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function CM(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=n?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[r+o]=s&255;t[r+6]=(i&15)<<4|s&15,t[r+7]=i>>4|n}var qy=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,s=t[0][n].length;i<s;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},Xy=Qe?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Ja(e)})):qy(t)}:qy,Yy=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(qi(t,i)));return n.join("").replace(Yr,"")},Ov=Qe?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(Yr,""):Yy(t,e,r)}:Yy,Qy=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},iA=Qe?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):Qy(t,e,r)}:Qy,Jy=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(vo(t,i)));return n.join("")},Nu=Qe?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):Jy(e,r,n)}:Jy,sA=function(t,e){var r=gn(t,e);return r>0?Nu(t,e+4,e+4+r-1):""},aA=sA,oA=function(t,e){var r=gn(t,e);return r>0?Nu(t,e+4,e+4+r-1):""},lA=oA,cA=function(t,e){var r=2*gn(t,e);return r>0?Nu(t,e+4,e+4+r-1):""},uA=cA,fA=function(e,r){var n=gn(e,r);return n>0?Ov(e,r+4,r+4+n):""},hA=fA,dA=function(t,e){var r=gn(t,e);return r>0?Nu(t,e+4,e+4+r):""},pA=dA,mA=function(t,e){return IM(t,e)},Kh=mA,gA=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Qe&&(aA=function(e,r){if(!Buffer.isBuffer(e))return sA(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},lA=function(e,r){if(!Buffer.isBuffer(e))return oA(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},uA=function(e,r){if(!Buffer.isBuffer(e))return cA(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},hA=function(e,r){if(!Buffer.isBuffer(e))return fA(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},pA=function(e,r){if(!Buffer.isBuffer(e))return dA(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},Kh=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):mA(e,r)},gA=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var vo=function(t,e){return t[e]},qi=function(t,e){return t[e+1]*256+t[e]},RM=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},gn=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},ga=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},NM=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function gc(t,e){var r="",n,i,s=[],a,o,l,c;switch(e){case"dbcs":if(c=this.l,Qe&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)r+=String.fromCharCode(qi(this,c)),c+=2;t*=2;break;case"utf8":r=Nu(this,this.l,this.l+t);break;case"utf16le":t*=2,r=Ov(this,this.l,this.l+t);break;case"wstr":return gc.call(this,t,"dbcs");case"lpstr-ansi":r=aA(this,this.l),t=4+gn(this,this.l);break;case"lpstr-cp":r=lA(this,this.l),t=4+gn(this,this.l);break;case"lpwstr":r=uA(this,this.l),t=4+2*gn(this,this.l);break;case"lpp4":t=4+gn(this,this.l),r=hA(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+gn(this,this.l),r=pA(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(a=vo(this,this.l+t++))!==0;)s.push(_f(a));r=s.join("");break;case"_wstr":for(t=0,r="";(a=qi(this,this.l+t))!==0;)s.push(_f(a)),t+=2;t+=2,r=s.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=vo(this,c),this.l=c+1,o=gc.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(_f(qi(this,c))),c+=2}r=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=vo(this,c),this.l=c+1,o=gc.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(_f(vo(this,c))),c+=1}r=s.join("");break;default:switch(t){case 1:return n=vo(this,this.l),this.l++,n;case 2:return n=(e==="i"?RM:qi)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(t>0?ga:NM)(this,this.l),this.l+=4,n):(i=gn(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=Kh(this,this.l):i=Kh([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=iA(this,this.l,t);break}}return this.l+=t,r}var PM=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},DM=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},FM=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function bM(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)FM(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,PM(this,e,this.l);break;case 8:if(n=8,r==="f"){CM(this,e,this.l);break}case 16:break;case-4:n=4,DM(this,e,this.l);break}return this.l+=n,this}function vA(t,e){var r=iA(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function vr(t,e){t.l=e,t.read_shift=gc,t.chk=vA,t.write_shift=bM}function Br(t,e){t.l+=e}function er(t){var e=ea(t);return vr(e,0),e}function ps(t,e,r){if(t){var n,i,s;vr(t,t.l||0);for(var a=t.length,o=0,l=0;t.l<a;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var c=Zh[o]||Zh[65535];for(n=t.read_shift(1),s=n&127,i=1;i<4&&n&128;++i)s+=((n=t.read_shift(1))&127)<<7*i;l=t.l+s;var u=c.f&&c.f(t,s,r);if(t.l=l,e(u,c,o))return}}}function xm(){var t=[],e=Qe?256:2048,r=function(c){var u=er(c);return vr(u,0),u},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},s=function(c){return n&&c<n.length-n.l?n:(i(),n=r(Math.max(c+1,e)))},a=function(){return i(),Rs(t)},o=function(c){i(),n=c,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:o,end:a,_bufs:t}}function vc(t,e,r){var n=wr(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function Zy(t,e,r){var n=wr(t);return n.s=vc(n.s,e.s,r),n.e=vc(n.e,e.s,r),n}function xc(t,e){if(t.cRel&&t.c<0)for(t=wr(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=wr(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=je(t);return!t.cRel&&t.cRel!=null&&(r=MM(r)),!t.rRel&&t.rRel!=null&&(r=OM(r)),r}function Bd(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+nr(t.s.c)+":"+(t.e.cRel?"":"$")+nr(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Er(t.s.r)+":"+(t.e.rRel?"":"$")+Er(t.e.r):xc(t.s,e.biff)+":"+xc(t.e,e.biff)}function Lv(t){return parseInt(LM(t),10)-1}function Er(t){return""+(t+1)}function OM(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function LM(t){return t.replace(/\$(\d+)$/,"$1")}function Mv(t){for(var e=VM(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function nr(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function MM(t){return t.replace(/^([A-Z])/,"$$$1")}function VM(t){return t.replace(/^\$([A-Z])/,"$1")}function UM(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Gr(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function je(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function _l(t){var e=t.indexOf(":");return e==-1?{s:Gr(t),e:Gr(t)}:{s:Gr(t.slice(0,e)),e:Gr(t.slice(e+1))}}function tt(t,e){return typeof e>"u"||typeof e=="number"?tt(t.s,t.e):(typeof t!="string"&&(t=je(t)),typeof e!="string"&&(e=je(e)),t==e?t:t+":"+e)}function jt(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,s=t.length;for(r=0;n<s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function ew(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Un(t.z,r?Qr(e):e)}catch{}try{return t.w=Un((t.XF||{}).numFmtId||(r?14:0),r?Qr(e):e)}catch{return""+e}}function us(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?ro[t.v]||t.v:e==null?ew(t,t.v):ew(t,e))}function oa(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function xA(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,s=t||(i?[]:{}),a=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?Gr(n.origin):n.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=jt(s["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),a==-1&&(c.e.r=a=u.e.r+1)}for(var h=0;h!=e.length;++h)if(e[h]){if(!Array.isArray(e[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=e[h].length;++d)if(!(typeof e[h][d]>"u")){var p={v:e[h][d]},x=a+h,v=o+d;if(c.s.r>x&&(c.s.r=x),c.s.c>v&&(c.s.c=v),c.e.r<x&&(c.e.r=x),c.e.c<v&&(c.e.c=v),e[h][d]&&typeof e[h][d]=="object"&&!Array.isArray(e[h][d])&&!(e[h][d]instanceof Date))p=e[h][d];else if(Array.isArray(p.v)&&(p.f=e[h][d][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||ze[14],n.cellDates?(p.t="d",p.w=Un(p.z,Qr(p.v))):(p.t="n",p.v=Qr(p.v),p.w=Un(p.z,p.v))):p.t="s";if(i)s[x]||(s[x]=[]),s[x][v]&&s[x][v].z&&(p.z=s[x][v].z),s[x][v]=p;else{var y=je({c:v,r:x});s[y]&&s[y].z&&(p.z=s[y].z),s[y]=p}}}return c.s.c<1e7&&(s["!ref"]=tt(c)),s}function yl(t,e){return xA(null,t,e)}function jM(t){return t.read_shift(4,"i")}function Vr(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function BM(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function Vv(t,e){var r=t.l,n=t.read_shift(1),i=Vr(t),s=[],a={t:i,h:i};if(n&1){for(var o=t.read_shift(4),l=0;l!=o;++l)s.push(BM(t));a.r=s}else a.r=[{ich:0,ifnt:0}];return t.l=r+e,a}var zM=Vv;function jn(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function eo(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var $M=Vr;function Uv(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}var HM=Vr,_m=Uv;function jv(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?Kh([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):ga(e,0)>>2;return r?i/100:i}function _A(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var to=_A;function Lr(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function WM(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var c=Ra[i];c&&(e.rgb=au(c));break;case 2:e.rgb=au([a,o,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function GM(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function yA(t,e){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function KM(t){return yA(t,1)}function qM(t){return yA(t,2)}var Bv=2,sn=3,wf=11,tw=12,qh=19,Ef=64,XM=65,YM=71,QM=4108,JM=4126,cr=80,wA=81,ZM=[cr,wA],e8={1:{n:"CodePage",t:Bv},2:{n:"Category",t:cr},3:{n:"PresentationFormat",t:cr},4:{n:"ByteCount",t:sn},5:{n:"LineCount",t:sn},6:{n:"ParagraphCount",t:sn},7:{n:"SlideCount",t:sn},8:{n:"NoteCount",t:sn},9:{n:"HiddenCount",t:sn},10:{n:"MultimediaClipCount",t:sn},11:{n:"ScaleCrop",t:wf},12:{n:"HeadingPairs",t:QM},13:{n:"TitlesOfParts",t:JM},14:{n:"Manager",t:cr},15:{n:"Company",t:cr},16:{n:"LinksUpToDate",t:wf},17:{n:"CharacterCount",t:sn},19:{n:"SharedDoc",t:wf},22:{n:"HyperlinksChanged",t:wf},23:{n:"AppVersion",t:sn,p:"version"},24:{n:"DigSig",t:XM},26:{n:"ContentType",t:cr},27:{n:"ContentStatus",t:cr},28:{n:"Language",t:cr},29:{n:"Version",t:cr},255:{},2147483648:{n:"Locale",t:qh},2147483651:{n:"Behavior",t:qh},1919054434:{}},t8={1:{n:"CodePage",t:Bv},2:{n:"Title",t:cr},3:{n:"Subject",t:cr},4:{n:"Author",t:cr},5:{n:"Keywords",t:cr},6:{n:"Comments",t:cr},7:{n:"Template",t:cr},8:{n:"LastAuthor",t:cr},9:{n:"RevNumber",t:cr},10:{n:"EditTime",t:Ef},11:{n:"LastPrinted",t:Ef},12:{n:"CreatedDate",t:Ef},13:{n:"ModifiedDate",t:Ef},14:{n:"PageCount",t:sn},15:{n:"WordCount",t:sn},16:{n:"CharCount",t:sn},17:{n:"Thumbnail",t:YM},18:{n:"Application",t:cr},19:{n:"DocSecurity",t:sn},255:{},2147483648:{n:"Locale",t:qh},2147483651:{n:"Behavior",t:qh},1919054434:{}},rw={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},r8=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function n8(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var i8=n8([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ra=wr(i8),ro={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},EA={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},nw={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function s8(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function a8(t){var e=s8();if(!t||!t.match)return e;var r={};if((t.match(zr)||[]).forEach(function(n){var i=Oe(n);switch(i[0].replace(pM,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":e[nw[i.ContentType]]!==void 0&&e[nw[i.ContentType]].push(i.PartName);break}}),e.xmlns!==SM.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=r,delete e.calcchains,e}var No={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function ym(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function _c(t,e){var r={"!id":{}};if(!t)return r;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(t.match(zr)||[]).forEach(function(i){var s=Oe(i);if(s[0]==="<Relationship"){var a={};a.Type=s.Type,a.Target=s.Target,a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:Zl(s.Target,e);r[o]=a,n[s.Id]=a}}),r["!id"]=n,r}var o8="application/vnd.oasis.opendocument.spreadsheet";function l8(t,e){for(var r=bv(t),n,i;n=iu.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(i=Oe(n[0],!1),i.path=="/"&&i.type!==o8)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}var yc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],c8=function(){for(var t=new Array(yc.length),e=0;e<yc.length;++e){var r=yc[e],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return t}();function TA(t){var e={};t=wt(t);for(var r=0;r<yc.length;++r){var n=yc[r],i=t.match(c8[r]);i!=null&&i.length>0&&(e[n[1]]=at(i[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=hr(e[n[1]]))}return e}var u8=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function kA(t,e,r,n){var i=[];if(typeof t=="string")i=Ky(t,n);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(u){return{v:u}}));var a=typeof e=="string"?Ky(e,n).map(function(u){return u.v}):e,o=0,l=0;if(a.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=a.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=a.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=a.slice(o,o+l);break}o+=l}}function f8(t,e,r){var n={};return e||(e={}),t=wt(t),u8.forEach(function(i){var s=(t.match(nu(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=at(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var a=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));a&&a.length>0&&(n[i[1]]=a[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&kA(n.HeadingPairs,n.TitlesOfParts,e,r),e}var h8=/<[^>]+>[^<]*/g;function d8(t,e){var r={},n="",i=t.match(h8);if(i)for(var s=0;s!=i.length;++s){var a=i[s],o=Oe(a);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=at(o.name);break;case"</property>":n=null;break;default:if(a.indexOf("<vt:")===0){var l=a.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=at(u);break;case"bool":r[n]=Nt(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=hr(u);break;case"cy":case"error":r[n]=at(u);break;default:if(c.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",a,c,l)}}else if(a.slice(0,2)!=="</"){if(e.WTF)throw new Error(a)}}}return r}var p8={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},zd;function m8(t,e,r){zd||(zd=Pv(p8)),e=zd[e]||e,t[e]=r}function zv(t){var e=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function SA(t,e,r){var n=t.l,i=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-n&3;)++t.l;return i}function AA(t,e,r){var n=t.read_shift(0,"lpwstr");return n}function IA(t,e,r){return e===31?AA(t):SA(t,e,r)}function wm(t,e,r){return IA(t,e,r===!1?0:4)}function g8(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return IA(t,e,0)}function v8(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n){var i=t.l;r[n]=t.read_shift(0,"lpwstr").replace(Yr,""),t.l-i&2&&(t.l+=2)}return r}function x8(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n)r[n]=t.read_shift(0,"lpstr-cp").replace(Yr,"");return r}function _8(t){var e=t.l,r=Xh(t,wA);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var n=Xh(t,sn);return[r,n]}function y8(t){for(var e=t.read_shift(4),r=[],n=0;n<e/2;++n)r.push(_8(t));return r}function iw(t,e){for(var r=t.read_shift(4),n={},i=0;i!=r;++i){var s=t.read_shift(4),a=t.read_shift(4);n[s]=t.read_shift(a,e===1200?"utf16le":"utf8").replace(Yr,"").replace(Jl,"!"),e===1200&&a%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),n}function CA(t){var e=t.read_shift(4),r=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),r}function w8(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function Xh(t,e,r){var n=t.read_shift(2),i,s=r||{};if(t.l+=2,e!==tw&&n!==e&&ZM.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===tw?n:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return SA(t,n,4).replace(Yr,"");case 31:return AA(t);case 64:return zv(t);case 65:return CA(t);case 71:return w8(t);case 80:return wm(t,n,!s.raw).replace(Yr,"");case 81:return g8(t,n).replace(Yr,"");case 4108:return y8(t);case 4126:case 4127:return n==4127?v8(t):x8(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function sw(t,e){var r=t.l,n=t.read_shift(4),i=t.read_shift(4),s=[],a=0,o=0,l=-1,c={};for(a=0;a!=i;++a){var u=t.read_shift(4),h=t.read_shift(4);s[a]=[u,h+r]}s.sort(function(T,w){return T[1]-w[1]});var d={};for(a=0;a!=i;++a){if(t.l!==s[a][1]){var p=!0;if(a>0&&e)switch(e[s[a-1][0]].t){case 2:t.l+2===s[a][1]&&(t.l+=2,p=!1);break;case 80:t.l<=s[a][1]&&(t.l=s[a][1],p=!1);break;case 4108:t.l<=s[a][1]&&(t.l=s[a][1],p=!1);break}if((!e||a==0)&&t.l<=s[a][1]&&(p=!1,t.l=s[a][1]),p)throw new Error("Read Error: Expected address "+s[a][1]+" at "+t.l+" :"+a)}if(e){var x=e[s[a][0]];if(d[x.n]=Xh(t,x.t,{raw:!0}),x.p==="version"&&(d[x.n]=String(d[x.n]>>16)+"."+("0000"+String(d[x.n]&65535)).slice(-4)),x.n=="CodePage")switch(d[x.n]){case 0:d[x.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Zn(o=d[x.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+d[x.n])}}else if(s[a][0]===1){if(o=d.CodePage=Xh(t,Bv),Zn(o),l!==-1){var v=t.l;t.l=s[l][1],c=iw(t,o),t.l=v}}else if(s[a][0]===0){if(o===0){l=a,t.l=s[a+1][1];continue}c=iw(t,o)}else{var y=c[s[a][0]],k;switch(t[t.l]){case 65:t.l+=4,k=CA(t);break;case 30:t.l+=4,k=wm(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,k=wm(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,k=t.read_shift(4,"i");break;case 19:t.l+=4,k=t.read_shift(4);break;case 5:t.l+=4,k=t.read_shift(8,"f");break;case 11:t.l+=4,k=Bt(t,4);break;case 64:t.l+=4,k=hr(zv(t));break;default:throw new Error("unparsed value: "+t[t.l])}d[y]=k}}return t.l=r+n,d}function aw(t,e,r){var n=t.content;if(!n)return{};vr(n,0);var i,s,a,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==et.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=n.read_shift(16),o=n.read_shift(4),i===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);i===2&&(a=n.read_shift(16),l=n.read_shift(4));var h=sw(n,e),d={SystemIdentifier:c};for(var p in h)d[p]=h[p];if(d.FMTID=s,i===1)return d;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var x;try{x=sw(n,null)}catch{}for(p in x)d[p]=x[p];return d.FMTID=[s,a],d}function ys(t,e){return t.read_shift(e),null}function E8(t,e,r){for(var n=[],i=t.l+e;t.l<i;)n.push(r(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return n}function Bt(t,e){return t.read_shift(e)===1}function qt(t){return t.read_shift(2,"u")}function RA(t,e){return E8(t,e,qt)}function T8(t){var e=t.read_shift(1),r=t.read_shift(1);return r===1?e:e===1}function Pu(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var a=n?t.read_shift(n,i):"";return a}function k8(t){var e=t.read_shift(2),r=t.read_shift(1),n=r&4,i=r&8,s=1+(r&1),a=0,o,l={};i&&(a=t.read_shift(2)),n&&(o=t.read_shift(4));var c=s==2?"dbcs-cont":"sbcs-cont",u=e===0?"":t.read_shift(e,c);return i&&(t.l+=4*a),n&&(t.l+=o),l.t=u,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function $a(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function Du(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):$a(t,n,r)}function no(t,e,r){if(r.biff>5)return Du(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function S8(t){var e=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[e,r]}function A8(t){var e=t.read_shift(4),r=t.l,n=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),t.l=r);var i=t.read_shift((n?e-24:e)>>1,"utf16le").replace(Yr,"");return n&&(t.l+=24),i}function I8(t){for(var e=t.read_shift(2),r="";e-- >0;)r+="../";var n=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return r+n.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=t.read_shift(s>>1,"utf16le").replace(Yr,"");return r+a}function C8(t,e){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return A8(t);case"0303000000000000c000000000000046":return I8(t);default:throw new Error("Unsupported Moniker "+r)}}function Tf(t){var e=t.read_shift(4),r=e>0?t.read_shift(e,"utf16le").replace(Yr,""):"";return r}function R8(t,e){var r=t.l+e,n=t.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=t.read_shift(2);t.l+=2;var s,a,o,l,c="",u,h;i&16&&(s=Tf(t,r-t.l)),i&128&&(a=Tf(t,r-t.l)),(i&257)===257&&(o=Tf(t,r-t.l)),(i&257)===1&&(l=C8(t,r-t.l)),i&8&&(c=Tf(t,r-t.l)),i&32&&(u=t.read_shift(16)),i&64&&(h=zv(t)),t.l=r;var d=a||o||l||"";d&&c&&(d+="#"+c),d||(d="#"+c),i&2&&d.charAt(0)=="/"&&d.charAt(1)!="/"&&(d="file://"+d);var p={Target:d};return u&&(p.guid=u),h&&(p.time=h),s&&(p.Tooltip=s),p}function NA(t){var e=t.read_shift(1),r=t.read_shift(1),n=t.read_shift(1),i=t.read_shift(1);return[e,r,n,i]}function PA(t,e){var r=NA(t);return r[3]=0,r}function Pi(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{r:e,c:r,ixfe:n}}function N8(t){var e=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:e,flags:r}}function P8(t,e,r){return e===0?"":no(t,e,r)}function D8(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),s=t.read_shift(n,"i"),a=t.read_shift(n,"i");return[i,s,a]}function DA(t){var e=t.read_shift(2),r=jv(t);return[e,r]}function F8(t,e,r){t.l+=4,e-=4;var n=t.l+e,i=Pu(t,e,r),s=t.read_shift(2);if(n-=t.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return t.l+=s,i}function H0(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function FA(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(1),i=t.read_shift(1);return{s:{c:n,r:e},e:{c:i,r}}}var b8=FA;function bA(t){t.l+=4;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return t.l+=12,[r,e,n]}function O8(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function L8(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function Pr(t){t.l+=2,t.l+=t.read_shift(2)}var M8={0:Pr,4:Pr,5:Pr,6:Pr,7:L8,8:Pr,9:Pr,10:Pr,11:Pr,12:Pr,13:O8,14:Pr,15:Pr,16:Pr,17:Pr,18:Pr,19:Pr,20:Pr,21:bA};function V8(t,e){for(var r=t.l+e,n=[];t.l<r;){var i=t.read_shift(2);t.l-=2;try{n.push(M8[i](t,r-t.l))}catch{return t.l=r,n}}return t.l!=r&&(t.l=r),n}function kf(t,e){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),e-=2,e>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(e),r}function U8(t,e){return e===0||t.read_shift(2),1200}function j8(t,e,r){if(r.enc)return t.l+=e,"";var n=t.l,i=no(t,0,r);return t.read_shift(e+n-t.l),i}function B8(t,e,r){var n=r&&r.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function z8(t,e,r){var n=t.read_shift(4),i=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var a=Pu(t,0,r);return a.length===0&&(a="Sheet1"),{pos:n,hs:i,dt:s,name:a}}function $8(t,e){for(var r=t.l+e,n=t.read_shift(4),i=t.read_shift(4),s=[],a=0;a!=i&&t.l<r;++a)s.push(k8(t));return s.Count=n,s.Unique=i,s}function H8(t,e){var r={};return r.dsst=t.read_shift(2),t.l+=e-2,r}function W8(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var r=t.read_shift(2);t.l+=4;var n=t.read_shift(1);return t.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=r/20),e}function G8(t){var e=N8(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var r=t.read_shift(4);return r!==0}function K8(t){return t.read_shift(2),t.read_shift(4)}function ow(t,e,r){var n=0;r&&r.biff==2||(n=t.read_shift(2));var i=t.read_shift(2);r&&r.biff==2&&(n=1-(i>>15),i&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,i]}function q8(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2);return{Pos:[e,r],Dim:[n,i],Flags:s,CurTab:a,FirstTab:o,Selected:l,TabRatio:c}}function X8(t,e,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=t.read_shift(2);return{RTL:n&64}}function Y8(){}function Q8(t,e,r){var n={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return n.name=Pu(t,0,r),n}function J8(t){var e=Pi(t);return e.isst=t.read_shift(4),e}function Z8(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=t.l+e,i=Pi(t);r.biff==2&&t.l++;var s=Du(t,n-t.l,r);return i.val=s,i}function e5(t,e,r){var n=t.read_shift(2),i=no(t,0,r);return[n,i]}var t5=no;function lw(t,e,r){var n=t.l+e,i=r.biff==8||!r.biff?4:2,s=t.read_shift(i),a=t.read_shift(i),o=t.read_shift(2),l=t.read_shift(2);return t.l=n,{s:{r:s,c:o},e:{r:a,c:l}}}function r5(t){var e=t.read_shift(2),r=t.read_shift(2),n=DA(t);return{r:e,c:r,ixfe:n[0],rknum:n[1]}}function n5(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),s=[];t.l<r;)s.push(DA(t));if(t.l!==r)throw new Error("MulRK read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:a,rkrec:s}}function i5(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),s=[];t.l<r;)s.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:a,ixfe:s}}function s5(t,e,r,n){var i={},s=t.read_shift(4),a=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(2);return i.patternType=r8[o>>26],n.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=a&15,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function a5(t,e,r){var n={};return n.ifnt=t.read_shift(2),n.numFmtId=t.read_shift(2),n.flags=t.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=s5(t,e,n.fStyle,r),n}function o5(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function cw(t,e,r){var n=Pi(t);(r.biff==2||e==9)&&++t.l;var i=T8(t);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function l5(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Pi(t),i=Lr(t);return n.val=i,n}var uw=P8;function c5(t,e,r){var n=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=$a(t,s),o=[];n>t.l;)o.push(Du(t));return[s,i,a,o]}function fw(t,e,r){var n=t.read_shift(2),i,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(i=F8(t,e-2,r)),s.body=i||t.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var u5=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function hw(t,e,r){var n=t.l+e,i=t.read_shift(2),s=t.read_shift(1),a=t.read_shift(1),o=t.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),l=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var c=$a(t,a,r);i&32&&(c=u5[c.charCodeAt(0)]);var u=n-t.l;r&&r.biff==2&&--u;var h=n==t.l||o===0||!(u>0)?[]:WU(t,u,r,o);return{chKey:s,Name:c,itab:l,rgce:h}}function OA(t,e,r){if(r.biff<8)return f5(t,e,r);for(var n=[],i=t.l+e,s=t.read_shift(r.biff>8?4:2);s--!==0;)n.push(D8(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function f5(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=Pu(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function h5(t,e,r){if(r.biff<8){t.l+=e;return}var n=t.read_shift(2),i=t.read_shift(2),s=$a(t,n,r),a=$a(t,i,r);return[s,a]}function d5(t,e,r){var n=FA(t);t.l++;var i=t.read_shift(1);return e-=8,[GU(t,e,r),i,n]}function dw(t,e,r){var n=b8(t);switch(r.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[n,$U(t,e,r)]}function p5(t){var e=t.read_shift(4)!==0,r=t.read_shift(4)!==0,n=t.read_shift(4);return[e,r,n]}function m5(t,e,r){if(!(r.biff<8)){var n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=no(t,0,r);return r.biff<8&&t.read_shift(1),[{r:n,c:i},o,a,s]}}function g5(t,e,r){return m5(t,e,r)}function v5(t,e){for(var r=[],n=t.read_shift(2);n--;)r.push(H0(t));return r}function x5(t,e,r){if(r&&r.biff<8)return y5(t,e,r);var n=bA(t),i=V8(t,e-22,n[1]);return{cmo:n,ft:i}}var _5={8:function(t,e){var r=t.l+e;t.l+=10;var n=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=r,{fmt:n}}};function y5(t,e,r){t.l+=4;var n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var a=[];return a.push((_5[n]||Br)(t,e,r)),{cmo:[i,n,s],ft:a}}function w5(t,e,r){var n=t.l,i="";try{t.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:a=S8(t,6,r);var o=t.read_shift(2);t.read_shift(2),qt(t,2);var l=t.read_shift(2);t.l+=l;for(var c=1;c<t.lens.length-1;++c){if(t.l-n!=t.lens[c])throw new Error("TxO: bad continue record");var u=t[t.l],h=$a(t,t.lens[c+1]-t.lens[c]-1);if(i+=h,i.length>=(u?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return t.l=n+e,{t:i}}catch{return t.l=n+e,{t:i}}}function E5(t,e){var r=H0(t);t.l+=16;var n=R8(t,e-24);return[r,n]}function T5(t,e){t.read_shift(2);var r=H0(t),n=t.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(Yr,""),[r,n]}function k5(t){var e=[0,0],r;return r=t.read_shift(2),e[0]=rw[r]||r,r=t.read_shift(2),e[1]=rw[r]||r,e}function S5(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(PA(t));return r}function A5(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(PA(t));return r}function I5(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function LA(t,e,r){if(!r.cellStyles)return Br(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),s=t.read_shift(n),a=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(2);n==2&&(t.l+=2);var c={s:i,e:s,w:a,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function C5(t,e){var r={};return e<32||(t.l+=16,r.header=Lr(t),r.footer=Lr(t),t.l+=2),r}function R5(t,e,r){var n={area:!1};if(r.biff!=5)return t.l+=e,n;var i=t.read_shift(1);return t.l+=3,i&16&&(n.area=!0),n}var N5=Pi,P5=RA,D5=Du;function F5(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i={fmt:e,env:r,len:n,data:t.slice(t.l,t.l+n)};return t.l+=n,i}function b5(t,e,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Pi(t);++t.l;var i=no(t,e-7,r);return n.t="str",n.val=i,n}function O5(t){var e=Pi(t);++t.l;var r=Lr(t);return e.t="n",e.val=r,e}function L5(t){var e=Pi(t);++t.l;var r=t.read_shift(2);return e.t="n",e.val=r,e}function M5(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function V5(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function U5(t,e,r){var n=t.l+e,i=Pi(t),s=t.read_shift(2),a=$a(t,s,r);return t.l=n,i.t="str",i.val=a,i}var j5=[2,3,48,49,131,139,140,245],pw=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Pv({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=ea(1);switch(l.type){case"base64":u=Qn(En(o));break;case"binary":u=Qn(o);break;case"buffer":case"array":u=o;break}vr(u,0);var h=u.read_shift(1),d=!!(h&136),p=!1,x=!1;switch(h){case 2:break;case 3:break;case 48:p=!0,d=!0;break;case 49:p=!0,d=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var v=0,y=521;h==2&&(v=u.read_shift(2)),u.l+=3,h!=2&&(v=u.read_shift(4)),v>1048576&&(v=1e6),h!=2&&(y=u.read_shift(2));var k=u.read_shift(2),T=l.codepage||1252;h!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(T=t[u[u.l]]),u.l+=1,u.l+=2),x&&(u.l+=36);for(var w=[],D={},B=Math.min(u.length,h==2?521:y-10-(p?264:0)),U=x?32:11;u.l<B&&u[u.l]!=13;)switch(D={},D.name=tu.utils.decode(T,u.slice(u.l,u.l+U)).replace(/[\u0000\r\n].*$/g,""),u.l+=U,D.type=String.fromCharCode(u.read_shift(1)),h!=2&&!x&&(D.offset=u.read_shift(4)),D.len=u.read_shift(1),h==2&&(D.offset=u.read_shift(2)),D.dec=u.read_shift(1),D.name.length&&w.push(D),h!=2&&(u.l+=x?13:14),D.type){case"B":(!p||D.len!=8)&&l.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+D.type)}if(u[u.l]!==13&&(u.l=y-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=y;var g=0,E=0;for(c[0]=[],E=0;E!=w.length;++E)c[0][E]=w[E].name;for(;v-- >0;){if(u[u.l]===42){u.l+=k;continue}for(++u.l,c[++g]=[],E=0,E=0;E!=w.length;++E){var S=u.slice(u.l,u.l+w[E].len);u.l+=w[E].len,vr(S,0);var C=tu.utils.decode(T,S);switch(w[E].type){case"C":C.trim().length&&(c[g][E]=C.replace(/\s+$/,""));break;case"D":C.length===8?c[g][E]=new Date(+C.slice(0,4),+C.slice(4,6)-1,+C.slice(6,8)):c[g][E]=C;break;case"F":c[g][E]=parseFloat(C.trim());break;case"+":case"I":c[g][E]=x?S.read_shift(-4,"i")^2147483648:S.read_shift(4,"i");break;case"L":switch(C.trim().toUpperCase()){case"Y":case"T":c[g][E]=!0;break;case"N":case"F":c[g][E]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+C+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));c[g][E]="##MEMO##"+(x?parseInt(C.trim(),10):S.read_shift(4));break;case"N":C=C.replace(/\u0000/g,"").trim(),C&&C!="."&&(c[g][E]=+C||0);break;case"@":c[g][E]=new Date(S.read_shift(-8,"f")-621356832e5);break;case"T":c[g][E]=new Date((S.read_shift(4)-2440588)*864e5+S.read_shift(4));break;case"Y":c[g][E]=S.read_shift(4,"i")/1e4+S.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[g][E]=-S.read_shift(-8,"f");break;case"B":if(p&&w[E].len==8){c[g][E]=S.read_shift(8,"f");break}case"G":case"P":S.l+=w[E].len;break;case"0":if(w[E].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[E].type)}}}if(h!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=w,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=yl(r(o,c),c);return u["!cols"]=c.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete c.DBF,u}function i(o,l){try{return oa(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var c=l||{};if(+c.codepage>=0&&Zn(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=xm(),h=Cm(o,{header:1,raw:!0,cellDates:!0}),d=h[0],p=h.slice(1),x=o["!cols"]||[],v=0,y=0,k=0,T=1;for(v=0;v<d.length;++v){if(((x[v]||{}).DBF||{}).name){d[v]=x[v].DBF.name,++k;continue}if(d[v]!=null){if(++k,typeof d[v]=="number"&&(d[v]=d[v].toString(10)),typeof d[v]!="string")throw new Error("DBF Invalid column name "+d[v]+" |"+typeof d[v]+"|");if(d.indexOf(d[v])!==v){for(y=0;y<1024;++y)if(d.indexOf(d[v]+"_"+y)==-1){d[v]+="_"+y;break}}}}var w=jt(o["!ref"]),D=[],B=[],U=[];for(v=0;v<=w.e.c-w.s.c;++v){var g="",E="",S=0,C=[];for(y=0;y<p.length;++y)p[y][v]!=null&&C.push(p[y][v]);if(C.length==0||d[v]==null){D[v]="?";continue}for(y=0;y<C.length;++y){switch(typeof C[y]){case"number":E="B";break;case"string":E="C";break;case"boolean":E="L";break;case"object":E=C[y]instanceof Date?"D":"C";break;default:E="C"}S=Math.max(S,String(C[y]).length),g=g&&g!=E?"C":E}S>250&&(S=250),E=((x[v]||{}).DBF||{}).type,E=="C"&&x[v].DBF.len>S&&(S=x[v].DBF.len),g=="B"&&E=="N"&&(g="N",U[v]=x[v].DBF.dec,S=x[v].DBF.len),B[v]=g=="C"||E=="N"?S:s[g]||0,T+=B[v],D[v]=g}var P=u.next(32);for(P.write_shift(4,318902576),P.write_shift(4,p.length),P.write_shift(2,296+32*k),P.write_shift(2,T),v=0;v<4;++v)P.write_shift(4,0);for(P.write_shift(4,0|(+e[OS]||3)<<8),v=0,y=0;v<d.length;++v)if(d[v]!=null){var R=u.next(32),b=(d[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);R.write_shift(1,b,"sbcs"),R.write_shift(1,D[v]=="?"?"C":D[v],"sbcs"),R.write_shift(4,y),R.write_shift(1,B[v]||s[D[v]]||0),R.write_shift(1,U[v]||0),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(1,0),R.write_shift(4,0),R.write_shift(4,0),y+=B[v]||s[D[v]]||0}var fe=u.next(264);for(fe.write_shift(4,13),v=0;v<65;++v)fe.write_shift(4,0);for(v=0;v<p.length;++v){var de=u.next(T);for(de.write_shift(1,0),y=0;y<d.length;++y)if(d[y]!=null)switch(D[y]){case"L":de.write_shift(1,p[v][y]==null?63:p[v][y]?84:70);break;case"B":de.write_shift(8,p[v][y]||0,"f");break;case"N":var Se="0";for(typeof p[v][y]=="number"&&(Se=p[v][y].toFixed(U[y]||0)),k=0;k<B[y]-Se.length;++k)de.write_shift(1,32);de.write_shift(1,Se,"sbcs");break;case"D":p[v][y]?(de.write_shift(4,("0000"+p[v][y].getFullYear()).slice(-4),"sbcs"),de.write_shift(2,("00"+(p[v][y].getMonth()+1)).slice(-2),"sbcs"),de.write_shift(2,("00"+p[v][y].getDate()).slice(-2),"sbcs")):de.write_shift(8,"00000000","sbcs");break;case"C":var oe=String(p[v][y]!=null?p[v][y]:"").slice(0,B[y]);for(de.write_shift(1,oe,"sbcs"),k=0;k<B[y]-oe.length;++k)de.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:n,from_sheet:a}}(),B5=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Ai(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(d,p){var x=t[p];return typeof x=="number"?Ny(x):x},n=function(d,p,x){var v=p.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return v==59?d:Ny(v)};t["|"]=254;function i(d,p){switch(p.type){case"base64":return s(En(d),p);case"binary":return s(d,p);case"buffer":return s(Qe&&Buffer.isBuffer(d)?d.toString("binary"):Za(d),p);case"array":return s(za(d),p)}throw new Error("Unrecognized type "+p.type)}function s(d,p){var x=d.split(/[\n\r]+/),v=-1,y=-1,k=0,T=0,w=[],D=[],B=null,U={},g=[],E=[],S=[],C=0,P;for(+p.codepage>=0&&Zn(+p.codepage);k!==x.length;++k){C=0;var R=x[k].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),b=R.replace(/;;/g,"\0").split(";").map(function(W){return W.replace(/\u0000/g,";")}),fe=b[0],de;if(R.length>0)switch(fe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":b[1].charAt(0)=="P"&&D.push(R.slice(3).replace(/;;/g,";"));break;case"C":var Se=!1,oe=!1,ie=!1,G=!1,ce=-1,Ee=-1;for(T=1;T<b.length;++T)switch(b[T].charAt(0)){case"A":break;case"X":y=parseInt(b[T].slice(1))-1,oe=!0;break;case"Y":for(v=parseInt(b[T].slice(1))-1,oe||(y=0),P=w.length;P<=v;++P)w[P]=[];break;case"K":de=b[T].slice(1),de.charAt(0)==='"'?de=de.slice(1,de.length-1):de==="TRUE"?de=!0:de==="FALSE"?de=!1:isNaN(ii(de))?isNaN(ol(de).getDate())||(de=hr(de)):(de=ii(de),B!==null&&xl(B)&&(de=$0(de))),Se=!0;break;case"E":G=!0;var j=zo(b[T].slice(1),{r:v,c:y});w[v][y]=[w[v][y],j];break;case"S":ie=!0,w[v][y]=[w[v][y],"S5S"];break;case"G":break;case"R":ce=parseInt(b[T].slice(1))-1;break;case"C":Ee=parseInt(b[T].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+R)}if(Se&&(w[v][y]&&w[v][y].length==2?w[v][y][0]=de:w[v][y]=de,B=null),ie){if(G)throw new Error("SYLK shared formula cannot have own formula");var Y=ce>-1&&w[ce][Ee];if(!Y||!Y[1])throw new Error("SYLK shared formula cannot find base");w[v][y][1]=GA(Y[1],{r:v-ce,c:y-Ee})}break;case"F":var K=0;for(T=1;T<b.length;++T)switch(b[T].charAt(0)){case"X":y=parseInt(b[T].slice(1))-1,++K;break;case"Y":for(v=parseInt(b[T].slice(1))-1,P=w.length;P<=v;++P)w[P]=[];break;case"M":C=parseInt(b[T].slice(1))/20;break;case"F":break;case"G":break;case"P":B=D[parseInt(b[T].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(S=b[T].slice(1).split(" "),P=parseInt(S[0],10);P<=parseInt(S[1],10);++P)C=parseInt(S[2],10),E[P-1]=C===0?{hidden:!0}:{wch:C},ll(E[P-1]);break;case"C":y=parseInt(b[T].slice(1))-1,E[y]||(E[y]={});break;case"R":v=parseInt(b[T].slice(1))-1,g[v]||(g[v]={}),C>0?(g[v].hpt=C,g[v].hpx=ou(C)):C===0&&(g[v].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+R)}K<1&&(B=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+R)}}return g.length>0&&(U["!rows"]=g),E.length>0&&(U["!cols"]=E),p&&p.sheetRows&&(w=w.slice(0,p.sheetRows)),[w,U]}function a(d,p){var x=i(d,p),v=x[0],y=x[1],k=yl(v,p);return Ai(y).forEach(function(T){k[T]=y[T]}),k}function o(d,p){return oa(a(d,p),p)}function l(d,p,x,v){var y="C;Y"+(x+1)+";X"+(v+1)+";K";switch(d.t){case"n":y+=d.v||0,d.f&&!d.F&&(y+=";E"+IV(d.f,{r:x,c:v}));break;case"b":y+=d.v?"TRUE":"FALSE";break;case"e":y+=d.w||d.v;break;case"d":y+='"'+(d.w||d.v)+'"';break;case"s":y+='"'+d.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function c(d,p){p.forEach(function(x,v){var y="F;W"+(v+1)+" "+(v+1)+" ";x.hidden?y+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=Qh(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=Jh(x.wpx)),typeof x.wch=="number"&&(y+=Math.round(x.wch))),y.charAt(y.length-1)!=" "&&d.push(y)})}function u(d,p){p.forEach(function(x,v){var y="F;";x.hidden?y+="M0;":x.hpt?y+="M"+20*x.hpt+";":x.hpx&&(y+="M"+20*$A(x.hpx)+";"),y.length>2&&d.push(y+"R"+(v+1))})}function h(d,p){var x=["ID;PWXL;N;E"],v=[],y=jt(d["!ref"]),k,T=Array.isArray(d),w=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),d["!cols"]&&c(x,d["!cols"]),d["!rows"]&&u(x,d["!rows"]),x.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var D=y.s.r;D<=y.e.r;++D)for(var B=y.s.c;B<=y.e.c;++B){var U=je({r:D,c:B});k=T?(d[D]||[])[B]:d[U],!(!k||k.v==null&&(!k.f||k.F))&&v.push(l(k,d,D,B))}return x.join(w)+w+v.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:a,from_sheet:h}}(),z5=function(){function t(s,a){switch(a.type){case"base64":return e(En(s),a);case"binary":return e(s,a);case"buffer":return e(Qe&&Buffer.isBuffer(s)?s.toString("binary"):Za(s),a);case"array":return e(za(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,c=-1,u=0,h=[];u!==o.length;++u){if(o[u].trim()==="BOT"){h[++l]=[],c=0;continue}if(!(l<0)){var d=o[u].trim().split(","),p=d[0],x=d[1];++u;for(var v=o[u]||"";(v.match(/["]/g)||[]).length&1&&u<o.length-1;)v+=`
`+o[++u];switch(v=v.trim(),+p){case-1:if(v==="BOT"){h[++l]=[],c=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?h[l][c]=!0:v==="FALSE"?h[l][c]=!1:isNaN(ii(x))?isNaN(ol(x).getDate())?h[l][c]=x:h[l][c]=hr(x):h[l][c]=ii(x),++c;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),h[l][c++]=v!==""?v:null;break}if(v==="EOD")break}}return a&&a.sheetRows&&(h=h.slice(0,a.sheetRows)),h}function r(s,a){return yl(t(s,a),a)}function n(s,a){return oa(r(s,a),a)}var i=function(){var s=function(l,c,u,h,d){l.push(c),l.push(u+","+h),l.push('"'+d.replace(/"/g,'""')+'"')},a=function(l,c,u,h){l.push(c+","+u),l.push(c==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(l){var c=[],u=jt(l["!ref"]),h,d=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,u.e.r-u.s.r+1,""),s(c,"TUPLES",0,u.e.c-u.s.c+1,""),s(c,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){a(c,-1,0,"BOT");for(var x=u.s.c;x<=u.e.c;++x){var v=je({r:p,c:x});if(h=d?(l[p]||[])[x]:l[v],!h){a(c,1,0,"");continue}switch(h.t){case"n":var y=h.w;!y&&h.v!=null&&(y=h.v),y==null?h.f&&!h.F?a(c,1,0,"="+h.f):a(c,1,0,""):a(c,0,y,"V");break;case"b":a(c,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":a(c,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=Un(h.z||ze[14],Qr(hr(h.v)))),a(c,0,h.w,"V");break;default:a(c,1,0,"")}}}a(c,-1,0,"EOD");var k=`\r
`,T=c.join(k);return T}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),$5=function(){function t(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,d){for(var p=h.split(`
`),x=-1,v=-1,y=0,k=[];y!==p.length;++y){var T=p[y].trim().split(":");if(T[0]==="cell"){var w=Gr(T[1]);if(k.length<=w.r)for(x=k.length;x<=w.r;++x)k[x]||(k[x]=[]);switch(x=w.r,v=w.c,T[2]){case"t":k[x][v]=t(T[3]);break;case"v":k[x][v]=+T[3];break;case"vtf":var D=T[T.length-1];case"vtc":switch(T[3]){case"nl":k[x][v]=!!+T[4];break;default:k[x][v]=+T[4];break}T[2]=="vtf"&&(k[x][v]=[k[x][v],D])}}}return d&&d.sheetRows&&(k=k.slice(0,d.sheetRows)),k}function n(h,d){return yl(r(h,d),d)}function i(h,d){return oa(n(h,d),d)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(h){if(!h||!h["!ref"])return"";for(var d=[],p=[],x,v="",y=_l(h["!ref"]),k=Array.isArray(h),T=y.s.r;T<=y.e.r;++T)for(var w=y.s.c;w<=y.e.c;++w)if(v=je({r:T,c:w}),x=k?(h[T]||[])[w]:h[v],!(!x||x.v==null||x.t==="z")){switch(p=["cell",v,"t"],x.t){case"s":case"str":p.push(e(x.v));break;case"n":x.f?(p[2]="vtf",p[3]="n",p[4]=x.v,p[5]=e(x.f)):(p[2]="v",p[3]=x.v);break;case"b":p[2]="vt"+(x.f?"f":"c"),p[3]="nl",p[4]=x.v?"1":"0",p[5]=e(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var D=Qr(hr(x.v));p[2]="vtc",p[3]="nd",p[4]=""+D,p[5]=x.w||Un(x.z||ze[14],D);break;case"e":continue}d.push(p.join(":"))}return d.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function u(h){return[s,a,o,a,c(h),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:u}}(),su=function(){function t(u,h,d,p,x){x.raw?h[d][p]=u:u===""||(u==="TRUE"?h[d][p]=!0:u==="FALSE"?h[d][p]=!1:isNaN(ii(u))?isNaN(ol(u).getDate())?h[d][p]=u:h[d][p]=hr(u):h[d][p]=ii(u))}function e(u,h){var d=h||{},p=[];if(!u||u.length===0)return p;for(var x=u.split(/[\r\n]/),v=x.length-1;v>=0&&x[v].length===0;)--v;for(var y=10,k=0,T=0;T<=v;++T)k=x[T].indexOf(" "),k==-1?k=x[T].length:k++,y=Math.max(y,k);for(T=0;T<=v;++T){p[T]=[];var w=0;for(t(x[T].slice(0,y).trim(),p,T,w,d),w=1;w<=(x[T].length-y)/10+1;++w)t(x[T].slice(y+(w-1)*10,y+w*10).trim(),p,T,w,d)}return d.sheetRows&&(p=p.slice(0,d.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(u){for(var h={},d=!1,p=0,x=0;p<u.length;++p)(x=u.charCodeAt(p))==34?d=!d:!d&&x in r&&(h[x]=(h[x]||0)+1);x=[];for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&x.push([h[p],p]);if(!x.length){h=n;for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&x.push([h[p],p])}return x.sort(function(v,y){return v[0]-y[0]||n[v[1]]-n[y[1]]}),r[x.pop()[1]]||44}function s(u,h){var d=h||{},p="",x=d.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=i(u.slice(0,1024)):d&&d.FS?p=d.FS:p=i(u.slice(0,1024));var y=0,k=0,T=0,w=0,D=0,B=p.charCodeAt(0),U=!1,g=0,E=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var S=d.dateNF!=null?eM(d.dateNF):null;function C(){var P=u.slice(w,D),R={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)R.t="z";else if(d.raw)R.t="s",R.v=P;else if(P.trim().length===0)R.t="s",R.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(R.t="s",R.v=P.slice(2,-1).replace(/""/g,'"')):RV(P)?(R.t="n",R.f=P.slice(1)):(R.t="s",R.v=P);else if(P=="TRUE")R.t="b",R.v=!0;else if(P=="FALSE")R.t="b",R.v=!1;else if(!isNaN(T=ii(P)))R.t="n",d.cellText!==!1&&(R.w=P),R.v=T;else if(!isNaN(ol(P).getDate())||S&&P.match(S)){R.z=d.dateNF||ze[14];var b=0;S&&P.match(S)&&(P=tM(P,d.dateNF,P.match(S)||[]),b=1),d.cellDates?(R.t="d",R.v=hr(P,b)):(R.t="n",R.v=Qr(hr(P,b))),d.cellText!==!1&&(R.w=Un(R.z,R.v instanceof Date?Qr(R.v):R.v)),d.cellNF||delete R.z}else R.t="s",R.v=P;if(R.t=="z"||(d.dense?(x[y]||(x[y]=[]),x[y][k]=R):x[je({c:k,r:y})]=R),w=D+1,E=u.charCodeAt(w),v.e.c<k&&(v.e.c=k),v.e.r<y&&(v.e.r=y),g==B)++k;else if(k=0,++y,d.sheetRows&&d.sheetRows<=y)return!0}e:for(;D<u.length;++D)switch(g=u.charCodeAt(D)){case 34:E===34&&(U=!U);break;case B:case 10:case 13:if(!U&&C())break e;break}return D-w>0&&C(),x["!ref"]=tt(v),x}function a(u,h){return!(h&&h.PRN)||h.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,h):yl(e(u,h),h)}function o(u,h){var d="",p=h.type=="string"?[0,0,0,0]:Yv(u,h);switch(h.type){case"base64":d=En(u);break;case"binary":d=u;break;case"buffer":h.codepage==65001?d=u.toString("utf8"):h.codepage&&typeof tu<"u"||(d=Qe&&Buffer.isBuffer(u)?u.toString("binary"):Za(u));break;case"array":d=za(u);break;case"string":d=u;break;default:throw new Error("Unrecognized type "+h.type)}return p[0]==239&&p[1]==187&&p[2]==191?d=wt(d.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?d=wt(d):h.type=="binary"&&typeof tu<"u",d.slice(0,19)=="socialcalc:version:"?$5.to_sheet(h.type=="string"?d:wt(d),h):a(d,h)}function l(u,h){return oa(o(u,h),h)}function c(u){for(var h=[],d=jt(u["!ref"]),p,x=Array.isArray(u),v=d.s.r;v<=d.e.r;++v){for(var y=[],k=d.s.c;k<=d.e.c;++k){var T=je({r:v,c:k});if(p=x?(u[v]||[])[k]:u[T],!p||p.v==null){y.push("          ");continue}for(var w=(p.w||(us(p),p.w)||"").slice(0,10);w.length<10;)w+=" ";y.push(w+(k===0?" ":""))}h.push(y.join(""))}return h.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function H5(t,e){var r=e||{},n=!!r.WTF;r.WTF=!0;try{var i=B5.to_workbook(t,r);return r.WTF=n,i}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return su.to_workbook(t,e)}}var wc=function(){function t(j,Y,K){if(j){vr(j,j.l||0);for(var W=K.Enum||ce;j.l<j.length;){var ae=j.read_shift(2),xe=W[ae]||W[65535],ke=j.read_shift(2),he=j.l+ke,me=xe.f&&xe.f(j,ke,K);if(j.l=he,Y(me,xe,ae))return}}}function e(j,Y){switch(Y.type){case"base64":return r(Qn(En(j)),Y);case"binary":return r(Qn(j),Y);case"buffer":case"array":return r(j,Y)}throw"Unsupported type "+Y.type}function r(j,Y){if(!j)return j;var K=Y||{},W=K.dense?[]:{},ae="Sheet1",xe="",ke=0,he={},me=[],$e=[],z={s:{r:0,c:0},e:{r:0,c:0}},ot=K.sheetRows||0;if(j[2]==0&&(j[3]==8||j[3]==9)&&j.length>=16&&j[14]==5&&j[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(j[2]==2)K.Enum=ce,t(j,function(Ie,Et,ar){switch(ar){case 0:K.vers=Ie,Ie>=4096&&(K.qpro=!0);break;case 6:z=Ie;break;case 204:Ie&&(xe=Ie);break;case 222:xe=Ie;break;case 15:case 51:K.qpro||(Ie[1].v=Ie[1].v.slice(1));case 13:case 14:case 16:ar==14&&(Ie[2]&112)==112&&(Ie[2]&15)>1&&(Ie[2]&15)<15&&(Ie[1].z=K.dateNF||ze[14],K.cellDates&&(Ie[1].t="d",Ie[1].v=$0(Ie[1].v))),K.qpro&&Ie[3]>ke&&(W["!ref"]=tt(z),he[ae]=W,me.push(ae),W=K.dense?[]:{},z={s:{r:0,c:0},e:{r:0,c:0}},ke=Ie[3],ae=xe||"Sheet"+(ke+1),xe="");var Sr=K.dense?(W[Ie[0].r]||[])[Ie[0].c]:W[je(Ie[0])];if(Sr){Sr.t=Ie[1].t,Sr.v=Ie[1].v,Ie[1].z!=null&&(Sr.z=Ie[1].z),Ie[1].f!=null&&(Sr.f=Ie[1].f);break}K.dense?(W[Ie[0].r]||(W[Ie[0].r]=[]),W[Ie[0].r][Ie[0].c]=Ie[1]):W[je(Ie[0])]=Ie[1];break}},K);else if(j[2]==26||j[2]==14)K.Enum=Ee,j[2]==14&&(K.qpro=!0,j.l=0),t(j,function(Ie,Et,ar){switch(ar){case 204:ae=Ie;break;case 22:Ie[1].v=Ie[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ie[3]>ke&&(W["!ref"]=tt(z),he[ae]=W,me.push(ae),W=K.dense?[]:{},z={s:{r:0,c:0},e:{r:0,c:0}},ke=Ie[3],ae="Sheet"+(ke+1)),ot>0&&Ie[0].r>=ot)break;K.dense?(W[Ie[0].r]||(W[Ie[0].r]=[]),W[Ie[0].r][Ie[0].c]=Ie[1]):W[je(Ie[0])]=Ie[1],z.e.c<Ie[0].c&&(z.e.c=Ie[0].c),z.e.r<Ie[0].r&&(z.e.r=Ie[0].r);break;case 27:Ie[14e3]&&($e[Ie[14e3][0]]=Ie[14e3][1]);break;case 1537:$e[Ie[0]]=Ie[1],Ie[0]==ke&&(ae=Ie[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+j[2]);if(W["!ref"]=tt(z),he[xe||ae]=W,me.push(xe||ae),!$e.length)return{SheetNames:me,Sheets:he};for(var We={},rt=[],be=0;be<$e.length;++be)he[me[be]]?(rt.push($e[be]||me[be]),We[$e[be]]=he[$e[be]]||he[me[be]]):(rt.push($e[be]),We[$e[be]]={"!ref":"A1"});return{SheetNames:rt,Sheets:We}}function n(j,Y){var K=Y||{};if(+K.codepage>=0&&Zn(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var W=xm(),ae=jt(j["!ref"]),xe=Array.isArray(j),ke=[];Wn(W,0,s(1030)),Wn(W,6,l(ae));for(var he=Math.min(ae.e.r,8191),me=ae.s.r;me<=he;++me)for(var $e=Er(me),z=ae.s.c;z<=ae.e.c;++z){me===ae.s.r&&(ke[z]=nr(z));var ot=ke[z]+$e,We=xe?(j[me]||[])[z]:j[ot];if(!(!We||We.t=="z"))if(We.t=="n")(We.v|0)==We.v&&We.v>=-32768&&We.v<=32767?Wn(W,13,p(me,z,We.v)):Wn(W,14,v(me,z,We.v));else{var rt=us(We);Wn(W,15,h(me,z,rt.slice(0,239)))}}return Wn(W,1),W.end()}function i(j,Y){var K=Y||{};if(+K.codepage>=0&&Zn(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var W=xm();Wn(W,0,a(j));for(var ae=0,xe=0;ae<j.SheetNames.length;++ae)(j.Sheets[j.SheetNames[ae]]||{})["!ref"]&&Wn(W,27,G(j.SheetNames[ae],xe++));var ke=0;for(ae=0;ae<j.SheetNames.length;++ae){var he=j.Sheets[j.SheetNames[ae]];if(!(!he||!he["!ref"])){for(var me=jt(he["!ref"]),$e=Array.isArray(he),z=[],ot=Math.min(me.e.r,8191),We=me.s.r;We<=ot;++We)for(var rt=Er(We),be=me.s.c;be<=me.e.c;++be){We===me.s.r&&(z[be]=nr(be));var Ie=z[be]+rt,Et=$e?(he[We]||[])[be]:he[Ie];if(!(!Et||Et.t=="z"))if(Et.t=="n")Wn(W,23,C(We,be,ke,Et.v));else{var ar=us(Et);Wn(W,22,g(We,be,ke,ar.slice(0,239)))}}++ke}}return Wn(W,1),W.end()}function s(j){var Y=er(2);return Y.write_shift(2,j),Y}function a(j){var Y=er(26);Y.write_shift(2,4096),Y.write_shift(2,4),Y.write_shift(4,0);for(var K=0,W=0,ae=0,xe=0;xe<j.SheetNames.length;++xe){var ke=j.SheetNames[xe],he=j.Sheets[ke];if(!(!he||!he["!ref"])){++ae;var me=_l(he["!ref"]);K<me.e.r&&(K=me.e.r),W<me.e.c&&(W=me.e.c)}}return K>8191&&(K=8191),Y.write_shift(2,K),Y.write_shift(1,ae),Y.write_shift(1,W),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(1,1),Y.write_shift(1,2),Y.write_shift(4,0),Y.write_shift(4,0),Y}function o(j,Y,K){var W={s:{c:0,r:0},e:{c:0,r:0}};return Y==8&&K.qpro?(W.s.c=j.read_shift(1),j.l++,W.s.r=j.read_shift(2),W.e.c=j.read_shift(1),j.l++,W.e.r=j.read_shift(2),W):(W.s.c=j.read_shift(2),W.s.r=j.read_shift(2),Y==12&&K.qpro&&(j.l+=2),W.e.c=j.read_shift(2),W.e.r=j.read_shift(2),Y==12&&K.qpro&&(j.l+=2),W.s.c==65535&&(W.s.c=W.e.c=W.s.r=W.e.r=0),W)}function l(j){var Y=er(8);return Y.write_shift(2,j.s.c),Y.write_shift(2,j.s.r),Y.write_shift(2,j.e.c),Y.write_shift(2,j.e.r),Y}function c(j,Y,K){var W=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(W[0].c=j.read_shift(1),W[3]=j.read_shift(1),W[0].r=j.read_shift(2),j.l+=2):(W[2]=j.read_shift(1),W[0].c=j.read_shift(2),W[0].r=j.read_shift(2)),W}function u(j,Y,K){var W=j.l+Y,ae=c(j,Y,K);if(ae[1].t="s",K.vers==20768){j.l++;var xe=j.read_shift(1);return ae[1].v=j.read_shift(xe,"utf8"),ae}return K.qpro&&j.l++,ae[1].v=j.read_shift(W-j.l,"cstr"),ae}function h(j,Y,K){var W=er(7+K.length);W.write_shift(1,255),W.write_shift(2,Y),W.write_shift(2,j),W.write_shift(1,39);for(var ae=0;ae<W.length;++ae){var xe=K.charCodeAt(ae);W.write_shift(1,xe>=128?95:xe)}return W.write_shift(1,0),W}function d(j,Y,K){var W=c(j,Y,K);return W[1].v=j.read_shift(2,"i"),W}function p(j,Y,K){var W=er(7);return W.write_shift(1,255),W.write_shift(2,Y),W.write_shift(2,j),W.write_shift(2,K,"i"),W}function x(j,Y,K){var W=c(j,Y,K);return W[1].v=j.read_shift(8,"f"),W}function v(j,Y,K){var W=er(13);return W.write_shift(1,255),W.write_shift(2,Y),W.write_shift(2,j),W.write_shift(8,K,"f"),W}function y(j,Y,K){var W=j.l+Y,ae=c(j,Y,K);if(ae[1].v=j.read_shift(8,"f"),K.qpro)j.l=W;else{var xe=j.read_shift(2);D(j.slice(j.l,j.l+xe),ae),j.l+=xe}return ae}function k(j,Y,K){var W=Y&32768;return Y&=-32769,Y=(W?j:0)+(Y>=8192?Y-16384:Y),(W?"":"$")+(K?nr(Y):Er(Y))}var T={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function D(j,Y){vr(j,0);for(var K=[],W=0,ae="",xe="",ke="",he="";j.l<j.length;){var me=j[j.l++];switch(me){case 0:K.push(j.read_shift(8,"f"));break;case 1:xe=k(Y[0].c,j.read_shift(2),!0),ae=k(Y[0].r,j.read_shift(2),!1),K.push(xe+ae);break;case 2:{var $e=k(Y[0].c,j.read_shift(2),!0),z=k(Y[0].r,j.read_shift(2),!1);xe=k(Y[0].c,j.read_shift(2),!0),ae=k(Y[0].r,j.read_shift(2),!1),K.push($e+z+":"+xe+ae)}break;case 3:if(j.l<j.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(j.read_shift(2));break;case 6:{for(var ot="";me=j[j.l++];)ot+=String.fromCharCode(me);K.push('"'+ot.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:he=K.pop(),ke=K.pop(),K.push(["AND","OR"][me-20]+"("+ke+","+he+")");break;default:if(me<32&&w[me])he=K.pop(),ke=K.pop(),K.push(ke+w[me]+he);else if(T[me]){if(W=T[me][1],W==69&&(W=j[j.l++]),W>K.length){console.error("WK1 bad formula parse 0x"+me.toString(16)+":|"+K.join("|")+"|");return}var We=K.slice(-W);K.length-=W,K.push(T[me][0]+"("+We.join(",")+")")}else return me<=7?console.error("WK1 invalid opcode "+me.toString(16)):me<=24?console.error("WK1 unsupported op "+me.toString(16)):me<=30?console.error("WK1 invalid opcode "+me.toString(16)):me<=115?console.error("WK1 unsupported function opcode "+me.toString(16)):console.error("WK1 unrecognized opcode "+me.toString(16))}}K.length==1?Y[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function B(j){var Y=[{c:0,r:0},{t:"n",v:0},0];return Y[0].r=j.read_shift(2),Y[3]=j[j.l++],Y[0].c=j[j.l++],Y}function U(j,Y){var K=B(j);return K[1].t="s",K[1].v=j.read_shift(Y-4,"cstr"),K}function g(j,Y,K,W){var ae=er(6+W.length);ae.write_shift(2,j),ae.write_shift(1,K),ae.write_shift(1,Y),ae.write_shift(1,39);for(var xe=0;xe<W.length;++xe){var ke=W.charCodeAt(xe);ae.write_shift(1,ke>=128?95:ke)}return ae.write_shift(1,0),ae}function E(j,Y){var K=B(j);K[1].v=j.read_shift(2);var W=K[1].v>>1;if(K[1].v&1)switch(W&7){case 0:W=(W>>3)*5e3;break;case 1:W=(W>>3)*500;break;case 2:W=(W>>3)/20;break;case 3:W=(W>>3)/200;break;case 4:W=(W>>3)/2e3;break;case 5:W=(W>>3)/2e4;break;case 6:W=(W>>3)/16;break;case 7:W=(W>>3)/64;break}return K[1].v=W,K}function S(j,Y){var K=B(j),W=j.read_shift(4),ae=j.read_shift(4),xe=j.read_shift(2);if(xe==65535)return W===0&&ae===3221225472?(K[1].t="e",K[1].v=15):W===0&&ae===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var ke=xe&32768;return xe=(xe&32767)-16446,K[1].v=(1-ke*2)*(ae*Math.pow(2,xe+32)+W*Math.pow(2,xe)),K}function C(j,Y,K,W){var ae=er(14);if(ae.write_shift(2,j),ae.write_shift(1,K),ae.write_shift(1,Y),W==0)return ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(2,65535),ae;var xe=0,ke=0,he=0,me=0;return W<0&&(xe=1,W=-W),ke=Math.log2(W)|0,W/=Math.pow(2,ke-31),me=W>>>0,me&2147483648||(W/=2,++ke,me=W>>>0),W-=me,me|=2147483648,me>>>=0,W*=Math.pow(2,32),he=W>>>0,ae.write_shift(4,he),ae.write_shift(4,me),ke+=16383+(xe?32768:0),ae.write_shift(2,ke),ae}function P(j,Y){var K=S(j);return j.l+=Y-14,K}function R(j,Y){var K=B(j),W=j.read_shift(4);return K[1].v=W>>6,K}function b(j,Y){var K=B(j),W=j.read_shift(8,"f");return K[1].v=W,K}function fe(j,Y){var K=b(j);return j.l+=Y-10,K}function de(j,Y){return j[j.l+Y-1]==0?j.read_shift(Y,"cstr"):""}function Se(j,Y){var K=j[j.l++];K>Y-1&&(K=Y-1);for(var W="";W.length<K;)W+=String.fromCharCode(j[j.l++]);return W}function oe(j,Y,K){if(!(!K.qpro||Y<21)){var W=j.read_shift(1);j.l+=17,j.l+=1,j.l+=2;var ae=j.read_shift(Y-21,"cstr");return[W,ae]}}function ie(j,Y){for(var K={},W=j.l+Y;j.l<W;){var ae=j.read_shift(2);if(ae==14e3){for(K[ae]=[0,""],K[ae][0]=j.read_shift(2);j[j.l];)K[ae][1]+=String.fromCharCode(j[j.l]),j.l++;j.l++}}return K}function G(j,Y){var K=er(5+j.length);K.write_shift(2,14e3),K.write_shift(2,Y);for(var W=0;W<j.length;++W){var ae=j.charCodeAt(W);K[K.l++]=ae>127?95:ae}return K[K.l++]=0,K}var ce={0:{n:"BOF",f:qt},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:de},222:{n:"SHEETNAMELP",f:Se},65535:{n:""}},Ee={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:U},23:{n:"NUMBER17",f:S},24:{n:"NUMBER18",f:E},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ie},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:R},38:{n:"??"},39:{n:"NUMBER27",f:b},40:{n:"FORMULA28",f:fe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:de},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:oe},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}}();function W5(t){var e={},r=t.match(zr),n=0,i=!1;if(r)for(;n!=r.length;++n){var s=Oe(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=Av[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var G5=function(){var t=nu("t"),e=nu("rPr");function r(s){var a=s.match(t);if(!a)return{t:"s",v:""};var o={t:"s",v:at(a[1])},l=s.match(e);return l&&(o.s=W5(l[1])),o}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(a){return a.replace(n,"").split(i).map(r).filter(function(o){return o.v})}}(),K5=function(){var e=/(\r\n|\n)/g;function r(i,s,a){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),i.b&&(s.push("<b>"),a.push("</b>")),i.i&&(s.push("<i>"),a.push("</i>")),i.strike&&(s.push("<s>"),a.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),a.push("</"+l+">")),a.push("</span>"),i}function n(i){var s=[[],i.v,[]];return i.v?(i.s&&r(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),q5=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,X5=/<(?:\w+:)?r>/,Y5=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function $v(t,e){var r=e?e.cellHTML:!0,n={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=at(wt(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=wt(t),r&&(n.h=Fv(n.t))):t.match(X5)&&(n.r=wt(t),n.t=at(wt((t.replace(Y5,"").match(q5)||[]).join("").replace(zr,""))),r&&(n.h=K5(G5(n.r)))),n):{t:""}}var Q5=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,J5=/<(?:\w+:)?(?:si|sstItem)>/g,Z5=/<\/(?:\w+:)?(?:si|sstItem)>/;function e9(t,e){var r=[],n="";if(!t)return r;var i=t.match(Q5);if(i){n=i[2].replace(J5,"").split(Z5);for(var s=0;s!=n.length;++s){var a=$v(n[s].trim(),e);a!=null&&(r[r.length]=a)}i=Oe(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}function t9(t){return[t.read_shift(4),t.read_shift(4)]}function r9(t,e){var r=[],n=!1;return ps(t,function(s,a,o){switch(o){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(a.T,!n||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function MA(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function Zi(t,e){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),r}function n9(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=Zi(t,4),e.U=Zi(t,4),e.W=Zi(t,4),e}function i9(t){for(var e=t.read_shift(4),r=t.l+e-4,n={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(n.name=t.read_shift(0,"lpp4"),n.comps=s,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return n}function s9(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(i9(t));return e}function a9(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function o9(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=Zi(t,4),e.U=Zi(t,4),e.W=Zi(t,4),e}function l9(t){var e=o9(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function VA(t,e){var r=t.l+e,n={};n.Flags=t.read_shift(4)&63,t.l+=4,n.AlgID=t.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=t.read_shift(4),n.KeySize=t.read_shift(4),n.ProviderType=t.read_shift(4),t.l+=8,n.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,n}function UA(t,e){var r={},n=t.l+e;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,n),t.l=n,r}function c9(t){var e=Zi(t);switch(e.Minor){case 2:return[e.Minor,u9(t)];case 3:return[e.Minor,f9()];case 4:return[e.Minor,h9(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function u9(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),n=VA(t,r),i=UA(t,t.length-t.l);return{t:"Std",h:n,v:i}}function f9(){throw new Error("File is password-protected: ECMA-376 Extensible")}function h9(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),n={};return r.replace(zr,function(s){var a=Oe(s);switch(Ni(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){n[o]=a[o]});break;case"<dataIntegrity":n.encryptedHmacKey=a.encryptedHmacKey,n.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(a);break;default:throw a[0]}}),n}function d9(t,e){var r={},n=r.EncryptionVersionInfo=Zi(t,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,r.EncryptionHeader=VA(t,i),e-=i,r.EncryptionVerifier=UA(t,e),r}function p9(t){var e={},r=e.EncryptionVersionInfo=Zi(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function m9(t){var e=0,r,n=MA(t),i=n.length+1,s,a,o,l,c;for(r=ea(i),r[0]=n.length,s=1;s!=i;++s)r[s]=n[s-1];for(s=i-1;s>=0;--s)a=r[s],o=e&16384?1:0,l=e<<1&32767,c=o|l,e=c^a;return e^52811}var jA=function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(a){return(a/2|a*128)&255},i=function(a,o){return n(a^o)},s=function(a){for(var o=e[a.length-1],l=104,c=a.length-1;c>=0;--c)for(var u=a[c],h=0;h!=7;++h)u&64&&(o^=r[l]),u*=2,--l;return o};return function(a){for(var o=MA(a),l=s(o),c=o.length,u=ea(16),h=0;h!=16;++h)u[h]=0;var d,p,x;for((c&1)===1&&(d=l>>8,u[c]=i(t[0],d),--c,d=l&255,p=o[o.length-1],u[c]=i(p,d));c>0;)--c,d=l>>8,u[c]=i(o[c],d),--c,d=l&255,u[c]=i(o[c],d);for(c=15,x=15-o.length;x>0;)d=l>>8,u[c]=i(t[x],d),--c,--x,d=l&255,u[c]=i(o[c],d),--c,--x;return u}}(),g9=function(t,e,r,n,i){i||(i=e),n||(n=jA(t));var s,a;for(s=0;s!=e.length;++s)a=e[s],a^=n[r],a=(a>>5|a<<3)&255,i[s]=a,++r;return[i,r,n]},v9=function(t){var e=0,r=jA(t);return function(n){var i=g9("",n,e,r);return e=i[1],i[0]}};function x9(t,e,r,n){var i={key:qt(t),verificationBytes:qt(t)};return r.password&&(i.verifier=m9(r.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=v9(r.password)),i}function _9(t,e,r){var n=r||{};return n.Info=t.read_shift(2),t.l-=2,n.Info===1?n.Data=p9(t):n.Data=d9(t,e),n}function y9(t,e,r){var n={Type:r.biff>=8?t.read_shift(2):0};return n.Type?_9(t,e-2,n):x9(t,r.biff>=8?e:e-2,r,n),n}var w9=function(){function t(i,s){switch(s.type){case"base64":return e(En(i),s);case"binary":return e(i,s);case"buffer":return e(Qe&&Buffer.isBuffer(i)?i.toString("binary"):Za(i),s);case"array":return e(za(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,h){Array.isArray(o)&&(o[h]=[]);for(var d=/\\\w+\b/g,p=0,x,v=-1;x=d.exec(u);){switch(x[0]){case"\\cell":var y=u.slice(p,d.lastIndex-x[0].length);if(y[0]==" "&&(y=y.slice(1)),++v,y.length){var k={v:y,t:"s"};Array.isArray(o)?o[h][v]=k:o[je({r:h,c:v})]=k}break}p=d.lastIndex}v>c.e.c&&(c.e.c=v)}),o["!ref"]=tt(c),o}function r(i,s){return oa(t(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],a=jt(i["!ref"]),o,l=Array.isArray(i),c=a.s.r;c<=a.e.r;++c){s.push("\\trowd\\trautofit1");for(var u=a.s.c;u<=a.e.c;++u)s.push("\\cellx"+(u+1));for(s.push("\\pard\\intbl"),u=a.s.c;u<=a.e.c;++u){var h=je({r:c,c:u});o=l?(i[c]||[])[u]:i[h],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(us(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function E9(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function au(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}function T9(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(e,r,n),s=Math.min(e,r,n),a=i-s;if(a===0)return[0,0,e];var o=0,l=0,c=i+s;switch(l=a/(c>1?2-c:c),i){case e:o=((r-n)/a+6)%6;break;case r:o=(n-e)/a+2;break;case n:o=(e-r)/a+4;break}return[o/6,l,c/2]}function k9(t){var e=t[0],r=t[1],n=t[2],i=r*2*(n<.5?n:1-n),s=n-i/2,a=[s,s,s],o=6*e,l;if(r!==0)switch(o|0){case 0:case 6:l=i*o,a[0]+=i,a[1]+=l;break;case 1:l=i*(2-o),a[0]+=l,a[1]+=i;break;case 2:l=i*(o-2),a[1]+=i,a[2]+=l;break;case 3:l=i*(4-o),a[1]+=l,a[2]+=i;break;case 4:l=i*(o-4),a[2]+=i,a[0]+=l;break;case 5:l=i*(6-o),a[2]+=l,a[0]+=i;break}for(var c=0;c!=3;++c)a[c]=Math.round(a[c]*255);return a}function Yh(t,e){if(e===0)return t;var r=T9(E9(t));return e<0?r[2]=r[2]*(1+e):r[2]=1-(1-r[2])*(1-e),au(k9(r))}var BA=6,S9=15,A9=1,Wr=BA;function Qh(t){return Math.floor((t+Math.round(128/Wr)/256)*Wr)}function Jh(t){return Math.floor((t-5)/Wr*100+.5)/100}function Em(t){return Math.round((t*Wr+5)/Wr*256)/256}function $d(t){return Em(Jh(Qh(t)))}function Hv(t){var e=Math.abs(t-$d(t)),r=Wr;if(e>.005)for(Wr=A9;Wr<S9;++Wr)Math.abs(t-$d(t))<=e&&(e=Math.abs(t-$d(t)),r=Wr);Wr=r}function ll(t){t.width?(t.wpx=Qh(t.width),t.wch=Jh(t.wpx),t.MDW=Wr):t.wpx?(t.wch=Jh(t.wpx),t.width=Em(t.wch),t.MDW=Wr):typeof t.wch=="number"&&(t.width=Em(t.wch),t.wpx=Qh(t.width),t.MDW=Wr),t.customWidth&&delete t.customWidth}var I9=96,zA=I9;function $A(t){return t*96/zA}function ou(t){return t*zA/96}var C9={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function R9(t,e,r,n){e.Borders=[];var i={},s=!1;(t[0].match(zr)||[]).forEach(function(a){var o=Oe(a);switch(Ni(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=Nt(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=Nt(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function N9(t,e,r,n){e.Fills=[];var i={},s=!1;(t[0].match(zr)||[]).forEach(function(a){var o=Oe(a);switch(Ni(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function P9(t,e,r,n){e.Fonts=[];var i={},s=!1;(t[0].match(zr)||[]).forEach(function(a){var o=Oe(a);switch(Ni(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=wt(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?Nt(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?Nt(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?Nt(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?Nt(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?Nt(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?Nt(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?Nt(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=Av[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=Nt(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=Ra[i.color.index];i.color.index==81&&(l=Ra[1]),l||(l=Ra[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=Yh(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function D9(t,e,r){e.NumberFmt=[];for(var n=Ai(ze),i=0;i<n.length;++i)e.NumberFmt[n[i]]=ze[n[i]];var s=t[0].match(zr);if(s)for(i=0;i<s.length;++i){var a=Oe(s[i]);switch(Ni(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=at(wt(a.formatCode)),l=parseInt(a.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}Ca(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}var Sf=["numFmtId","fillId","fontId","borderId","xfId"],Af=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function F9(t,e,r){e.CellXf=[];var n,i=!1;(t[0].match(zr)||[]).forEach(function(s){var a=Oe(s),o=0;switch(Ni(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=a,delete n[0],o=0;o<Sf.length;++o)n[Sf[o]]&&(n[Sf[o]]=parseInt(n[Sf[o]],10));for(o=0;o<Af.length;++o)n[Af[o]]&&(n[Af[o]]=Nt(n[Af[o]]));if(e.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[o]){n.numFmtId=o;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};a.vertical&&(l.vertical=a.vertical),a.horizontal&&(l.horizontal=a.horizontal),a.textRotation!=null&&(l.textRotation=a.textRotation),a.indent&&(l.indent=a.indent),a.wrapText&&(l.wrapText=Nt(a.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}var b9=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var h;return(h=o.match(e))&&D9(h,u,c),(h=o.match(i))&&P9(h,u,l,c),(h=o.match(n))&&N9(h,u,l,c),(h=o.match(s))&&R9(h,u,l,c),(h=o.match(r))&&F9(h,u,c),u}}();function O9(t,e){var r=t.read_shift(2),n=Vr(t);return[r,n]}function L9(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=GM(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=t.read_shift(2);switch(s===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(n.underline=a);var o=t.read_shift(1);o>0&&(n.family=o);var l=t.read_shift(1);switch(l>0&&(n.charset=l),t.l++,n.color=WM(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Vr(t),n}var M9=Br;function V9(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}var U9=Br;function j9(t,e,r){var n={};n.NumberFmt=[];for(var i in ze)n.NumberFmt[i]=ze[i];n.CellXf=[],n.Fonts=[];var s=[],a=!1;return ps(t,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],Ca(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=Yh(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(u),a=!0;break;case 38:s.pop(),a=!1;break;default:if(c.T>0)s.push(u);else if(c.T<0)s.pop();else if(!a||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}var B9=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function z9(t,e,r){e.themeElements.clrScheme=[];var n={};(t[0].match(zr)||[]).forEach(function(i){var s=Oe(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[B9.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function $9(){}function H9(){}var W9=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,G9=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,K9=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function q9(t,e,r){e.themeElements={};var n;[["clrScheme",W9,z9],["fontScheme",G9,$9],["fmtScheme",K9,H9]].forEach(function(i){if(!(n=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,e,r)})}var X9=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function HA(t,e){(!t||t.length===0)&&(t=Y9());var r,n={};if(!(r=t.match(X9)))throw new Error("themeElements not found in theme");return q9(r[0],n,e),n.raw=t,n}function Y9(t,e){var r=[tA];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Q9(t,e,r){var n=t.l+e,i=t.read_shift(4);if(i!==124226){if(!r.cellStyles){t.l=n;return}var s=t.slice(t.l);t.l=n;var a;try{a=eA(s,{type:"array"})}catch{return}var o=vn(a,"theme/theme/theme1.xml",!0);if(o)return HA(o,r)}}function J9(t){return t.read_shift(4)}function Z9(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=eV(t,4);break;case 2:e.xclrValue=NA(t);break;case 3:e.xclrValue=J9(t);break;case 4:t.l+=4;break}return t.l+=8,e}function eV(t,e){return Br(t,e)}function tV(t,e){return Br(t,e)}function rV(t){var e=t.read_shift(2),r=t.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Z9(t);break;case 6:n[1]=tV(t,r);break;case 14:case 15:n[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+r)}return n}function nV(t,e){var r=t.l+e;t.l+=2;var n=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(rV(t,r-t.l));return{ixfe:n,ext:s}}function iV(t,e){e.forEach(function(r){switch(r[0]){}})}function sV(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Vr(t)}}function aV(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function oV(t){return t.l+=4,t.read_shift(4)!=0}function lV(t,e,r){var n={Types:[],Cell:[],Value:[]},i=r||{},s=[],a=!1,o=2;return ps(t,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(h){o==1?n.Cell.push({type:n.Types[h[0]-1].name,index:h[1]}):o==0&&n.Value.push({type:n.Types[h[0]-1].name,index:h[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:s.push(u),a=!0;break;case 36:s.pop(),a=!1;break;default:if(!c.T){if(!a||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function cV(t,e,r){var n={Types:[],Cell:[],Value:[]};if(!t)return n;var i=!1,s=2,a;return t.replace(zr,function(o){var l=Oe(o);switch(Ni(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(a=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):s==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+l.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function uV(t){var e=[];if(!t)return e;var r=1;return(t.match(zr)||[]).forEach(function(n){var i=Oe(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,e.push(i);break}}),e}function fV(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=je(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function hV(t,e,r){var n=[];return ps(t,function(s,a,o){switch(o){case 63:n.push(s);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function dV(t,e,r,n){if(!t)return t;var i=n||{},s=!1;ps(t,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function pV(t,e){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][r].Target}function mw(t,e,r,n){var i=Array.isArray(t),s;e.forEach(function(a){var o=Gr(a.ref);if(i?(t[o.r]||(t[o.r]=[]),s=t[o.r][o.c]):s=t[a.ref],!s){s={t:"z"},i?t[o.r][o.c]=s:t[a.ref]=s;var l=jt(t["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=tt(l);c!==t["!ref"]&&(t["!ref"]=c)}s.c||(s.c=[]);var u={a:a.author,t:a.t,r:a.r,T:r};a.h&&(u.h=a.h);for(var h=s.c.length-1;h>=0;--h){if(!r&&s.c[h].T)return;r&&!s.c[h].T&&s.c.splice(h,1)}if(r&&n){for(h=0;h<n.length;++h)if(u.a==n[h].id){u.a=n[h].name||u.a;break}}s.c.push(u)})}function mV(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Oe(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Gr(l.ref);if(!(e.sheetRows&&e.sheetRows<=u.r)){var h=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),d=!!h&&!!h[1]&&$v(h[1])||{r:"",t:"",h:""};c.r=d.r,d.r=="<t></t>"&&(d.t=d.h=""),c.t=(d.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(c.h=d.h),n.push(c)}}}}),n}function gV(t,e){var r=[],n=!1,i={},s=0;return t.replace(zr,function(o,l){var c=Oe(o);switch(Ni(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":s=l+o.length;break;case"</text>":i.t=t.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function vV(t,e){var r=[],n=!1;return t.replace(zr,function(s){var a=Oe(s);switch(Ni(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return s}),r}function xV(t){var e={};e.iauthor=t.read_shift(4);var r=to(t);return e.rfx=r.s,e.ref=je(r.s),t.l+=16,e}var _V=Vr;function yV(t,e){var r=[],n=[],i={},s=!1;return ps(t,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}var wV="application/vnd.ms-office.vbaProject";function EV(t){var e=et.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");et.utils.cfb_add(e,i,t.FileIndex[n].content)}}),et.write(e)}function TV(){return{"!type":"dialog"}}function kV(){return{"!type":"dialog"}}function SV(){return{"!type":"macro"}}function AV(){return{"!type":"macro"}}var zo=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,u=a.length>0?parseInt(a,10)|0:0;return o?u+=e.c:--u,l?c+=e.r:--c,i+(o?"":"$")+nr(u)+(l?"":"$")+Er(c)}return function(i,s){return e=s,i.replace(t,r)}}(),WA=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,IV=function(){return function(e,r){return e.replace(WA,function(n,i,s,a,o,l){var c=Mv(a)-(s?0:r.c),u=Lv(l)-(o?0:r.r),h=u==0?"":o?u+1:"["+u+"]",d=c==0?"":s?c+1:"["+c+"]";return i+"R"+h+"C"+d})}}();function GA(t,e){return t.replace(WA,function(r,n,i,s,a,o){return n+(i=="$"?i+s:nr(Mv(s)+e.c))+(a=="$"?a+o:Er(Lv(o)+e.r))})}function CV(t,e,r){var n=_l(e),i=n.s,s=Gr(r),a={r:s.r-i.r,c:s.c-i.c};return GA(t,a)}function RV(t){return t.length!=1}function gw(t){return t.replace(/_xlfn\./g,"")}function Wt(t){t.l+=1}function ta(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function KA(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return qA(t);r.biff==12&&(n=4)}var i=t.read_shift(n),s=t.read_shift(n),a=ta(t),o=ta(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function qA(t){var e=ta(t),r=ta(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function NV(t,e,r){if(r.biff<8)return qA(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),s=ta(t),a=ta(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function XA(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return PV(t);var n=t.read_shift(r&&r.biff==12?4:2),i=ta(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function PV(t){var e=ta(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function DV(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function FV(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return bV(t);var i=t.read_shift(n>=12?4:2),s=t.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function bV(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function OV(t,e,r){var n=(t[t.l++]&96)>>5,i=KA(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function LV(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var a=KA(t,s,r);return[n,i,a]}function MV(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function VV(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[n,i]}function UV(t,e,r){var n=(t[t.l++]&96)>>5,i=NV(t,e-1,r);return[n,i]}function jV(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function vw(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function BV(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function zV(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function $V(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function HV(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function WV(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function YA(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function GV(t){return t.read_shift(2),YA(t)}function KV(t){return t.read_shift(2),YA(t)}function qV(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=XA(t,0,r);return[n,i]}function XV(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=FV(t,0,r);return[n,i]}function YV(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var s=XA(t,0,r);return[n,i,s]}function QV(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[JU[i],ZA[i],n]}function JV(t,e,r){var n=t[t.l++],i=t.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:ZV(t);return[i,(s[0]===0?ZA:QU)[s[1]]]}function ZV(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function eU(t,e,r){t.l+=r&&r.biff==2?3:4}function tU(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function rU(t){return t.l++,ro[t.read_shift(1)]}function nU(t){return t.l++,t.read_shift(2)}function iU(t){return t.l++,t.read_shift(1)!==0}function sU(t){return t.l++,Lr(t)}function aU(t,e,r){return t.l++,Pu(t,e-1,r)}function oU(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Bt(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=ro[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Lr(t);break;case 2:r[1]=no(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function lU(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((r.biff==12?to:H0)(t));return i}function cU(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var s=0,a=[];s!=n&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=oU(t,r.biff);return a}function uU(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,s=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,s]}function fU(t,e,r){if(r.biff==5)return hU(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[n,i,s]}function hU(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function dU(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function pU(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function mU(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function gU(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[n,i]}var vU=Br,xU=Br,_U=Br;function Fu(t,e,r){return t.l+=2,[DV(t)]}function Wv(t){return t.l+=6,[]}var yU=Fu,wU=Wv,EU=Wv,TU=Fu;function QA(t){return t.l+=2,[qt(t),t.read_shift(2)&1]}var kU=Fu,SU=QA,AU=Wv,IU=Fu,CU=Fu,RU=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function NU(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),a=RU[r>>2&31];return{ixti:e,coltype:r&3,rt:a,idx:n,c:i,C:s}}function PU(t){return t.l+=2,[t.read_shift(4)]}function DU(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function FU(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function bU(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function OU(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function LU(t){return t.l+=4,[0,0]}var xw={1:{n:"PtgExp",f:tU},2:{n:"PtgTbl",f:_U},3:{n:"PtgAdd",f:Wt},4:{n:"PtgSub",f:Wt},5:{n:"PtgMul",f:Wt},6:{n:"PtgDiv",f:Wt},7:{n:"PtgPower",f:Wt},8:{n:"PtgConcat",f:Wt},9:{n:"PtgLt",f:Wt},10:{n:"PtgLe",f:Wt},11:{n:"PtgEq",f:Wt},12:{n:"PtgGe",f:Wt},13:{n:"PtgGt",f:Wt},14:{n:"PtgNe",f:Wt},15:{n:"PtgIsect",f:Wt},16:{n:"PtgUnion",f:Wt},17:{n:"PtgRange",f:Wt},18:{n:"PtgUplus",f:Wt},19:{n:"PtgUminus",f:Wt},20:{n:"PtgPercent",f:Wt},21:{n:"PtgParen",f:Wt},22:{n:"PtgMissArg",f:Wt},23:{n:"PtgStr",f:aU},26:{n:"PtgSheet",f:DU},27:{n:"PtgEndSheet",f:FU},28:{n:"PtgErr",f:rU},29:{n:"PtgBool",f:iU},30:{n:"PtgInt",f:nU},31:{n:"PtgNum",f:sU},32:{n:"PtgArray",f:jV},33:{n:"PtgFunc",f:QV},34:{n:"PtgFuncVar",f:JV},35:{n:"PtgName",f:uU},36:{n:"PtgRef",f:qV},37:{n:"PtgArea",f:OV},38:{n:"PtgMemArea",f:dU},39:{n:"PtgMemErr",f:vU},40:{n:"PtgMemNoMem",f:xU},41:{n:"PtgMemFunc",f:pU},42:{n:"PtgRefErr",f:mU},43:{n:"PtgAreaErr",f:MV},44:{n:"PtgRefN",f:XV},45:{n:"PtgAreaN",f:UV},46:{n:"PtgMemAreaN",f:bU},47:{n:"PtgMemNoMemN",f:OU},57:{n:"PtgNameX",f:fU},58:{n:"PtgRef3d",f:YV},59:{n:"PtgArea3d",f:LV},60:{n:"PtgRefErr3d",f:gU},61:{n:"PtgAreaErr3d",f:VV},255:{}},MU={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},VU={1:{n:"PtgElfLel",f:QA},2:{n:"PtgElfRw",f:IU},3:{n:"PtgElfCol",f:yU},6:{n:"PtgElfRwV",f:CU},7:{n:"PtgElfColV",f:TU},10:{n:"PtgElfRadical",f:kU},11:{n:"PtgElfRadicalS",f:AU},13:{n:"PtgElfColS",f:wU},15:{n:"PtgElfColSV",f:EU},16:{n:"PtgElfRadicalLel",f:SU},25:{n:"PtgList",f:NU},29:{n:"PtgSxName",f:PU},255:{}},UU={0:{n:"PtgAttrNoop",f:LU},1:{n:"PtgAttrSemi",f:WV},2:{n:"PtgAttrIf",f:$V},4:{n:"PtgAttrChoose",f:BV},8:{n:"PtgAttrGoto",f:zV},16:{n:"PtgAttrSum",f:eU},32:{n:"PtgAttrBaxcel",f:vw},33:{n:"PtgAttrBaxcel",f:vw},64:{n:"PtgAttrSpace",f:GV},65:{n:"PtgAttrSpaceSemi",f:KV},128:{n:"PtgAttrIfError",f:HV},255:{}};function bu(t,e,r,n){if(n.biff<8)return Br(t,e);for(var i=t.l+e,s=[],a=0;a!==r.length;++a)switch(r[a][0]){case"PtgArray":r[a][1]=cU(t,0,n),s.push(r[a][1]);break;case"PtgMemArea":r[a][2]=lU(t,r[a][1],n),s.push(r[a][2]);break;case"PtgExp":n&&n.biff==12&&(r[a][1][1]=t.read_shift(4),s.push(r[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[a][0]}return e=i-t.l,e!==0&&s.push(Br(t,e)),s}function Ou(t,e,r){for(var n=t.l+e,i,s,a=[];n!=t.l;)e=n-t.l,s=t[t.l],i=xw[s]||xw[MU[s]],(s===24||s===25)&&(i=(s===24?VU:UU)[t[t.l+1]]),!i||!i.f?Br(t,e):a.push([i.n,i.f(t,e,r)]);return a}function jU(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],s=0;s<n.length;++s){var a=n[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var BU={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function zU(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function JA(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function _w(t,e,r){var n=JA(t,e,r);return n=="#REF"?n:zU(n,r)}function Fr(t,e,r,n,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],l,c,u,h=0,d=0,p,x="";if(!t[0]||!t[0][0])return"";for(var v=-1,y="",k=0,T=t[0].length;k<T;++k){var w=t[0][k];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),v>=0){switch(t[0][v][1][0]){case 0:y=Ut(" ",t[0][v][1][1]);break;case 1:y=Ut("\r",t[0][v][1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}c=c+y,v=-1}o.push(c+BU[w[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=vc(w[1][1],a,i),o.push(xc(u,s));break;case"PtgRefN":u=r?vc(w[1][1],r,i):w[1][1],o.push(xc(u,s));break;case"PtgRef3d":h=w[1][1],u=vc(w[1][2],a,i),x=_w(n,h,i),o.push(x+"!"+xc(u,s));break;case"PtgFunc":case"PtgFuncVar":var D=w[1][0],B=w[1][1];D||(D=0),D&=127;var U=D==0?[]:o.slice(-D);o.length-=D,B==="User"&&(B=U.shift()),o.push(B+"("+U.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":p=Zy(w[1][1],r?{s:r}:a,i),o.push(Bd(p,i));break;case"PtgArea":p=Zy(w[1][1],a,i),o.push(Bd(p,i));break;case"PtgArea3d":h=w[1][1],p=w[1][2],x=_w(n,h,i),o.push(x+"!"+Bd(p,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=w[1][2];var g=(n.names||[])[d-1]||(n[0]||[])[d],E=g?g.Name:"SH33TJSNAME"+String(d);E&&E.slice(0,6)=="_xlfn."&&!i.xlfn&&(E=E.slice(6)),o.push(E);break;case"PtgNameX":var S=w[1][1];d=w[1][2];var C;if(i.biff<=5)S<0&&(S=-S),n[S]&&(C=n[S][d]);else{var P="";if(((n[S]||[])[0]||[])[0]==14849||(((n[S]||[])[0]||[])[0]==1025?n[S][d]&&n[S][d].itab>0&&(P=n.SheetNames[n[S][d].itab-1]+"!"):P=n.SheetNames[d-1]+"!"),n[S]&&n[S][d])P+=n[S][d].Name;else if(n[0]&&n[0][d])P+=n[0][d].Name;else{var R=(JA(n,S,i)||"").split(";;");R[d-1]?P=R[d-1]:P+="SH33TJSERRX"}o.push(P);break}C||(C={Name:"SH33TJSERRY"}),o.push(C.Name);break;case"PtgParen":var b="(",fe=")";if(v>=0){switch(y="",t[0][v][1][0]){case 2:b=Ut(" ",t[0][v][1][1])+b;break;case 3:b=Ut("\r",t[0][v][1][1])+b;break;case 4:fe=Ut(" ",t[0][v][1][1])+fe;break;case 5:fe=Ut("\r",t[0][v][1][1])+fe;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}v=-1}o.push(b+o.pop()+fe);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:w[1][1],r:w[1][0]};var de={c:r.c,r:r.r};if(n.sharedf[je(u)]){var Se=n.sharedf[je(u)];o.push(Fr(Se,a,de,n,i))}else{var oe=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(Fr(c[1],a,de,n,i)),oe=!0;break}oe||o.push(w[1])}break;case"PtgArray":o.push("{"+jU(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=k;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var ie=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&v>=0&&ie.indexOf(t[0][k][0])==-1){w=t[0][v];var G=!0;switch(w[1][0]){case 4:G=!1;case 0:y=Ut(" ",w[1][1]);break;case 5:G=!1;case 1:y=Ut("\r",w[1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((G?y:"")+o.pop()+(G?"":y)),v=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function $U(t,e,r){var n=t.l+e,i=r.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],Br(t,e-2)];var o=Ou(t,a,r);return e!==a+i&&(s=bu(t,e-a-i,o,r)),t.l=n,[o,s]}function HU(t,e,r){var n=t.l+e,i=r.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],Br(t,e-2)];var o=Ou(t,a,r);return e!==a+i&&(s=bu(t,e-a-i,o,r)),t.l=n,[o,s]}function WU(t,e,r,n){var i=t.l+e,s=Ou(t,n,r),a;return i!==t.l&&(a=bu(t,i-t.l,s,r)),[s,a]}function GU(t,e,r){var n=t.l+e,i,s=t.read_shift(2),a=Ou(t,s,r);return s==65535?[[],Br(t,e-2)]:(e!==s+2&&(i=bu(t,n-s-2,a,r)),[a,i])}function KU(t){var e;if(qi(t,t.l+6)!==65535)return[Lr(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function Hd(t,e,r){var n=t.l+e,i=Pi(t);r.biff==2&&++t.l;var s=KU(t),a=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var o=HU(t,n-t.l,r);return{cell:i,val:s[0],formula:o,shared:a>>3&1,tt:s[1]}}function W0(t,e,r){var n=t.read_shift(4),i=Ou(t,n,r),s=t.read_shift(4),a=s>0?bu(t,s,i,r):null;return[i,a]}var qU=W0,G0=W0,XU=W0,YU=W0,QU={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},ZA={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},JU={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function yw(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function Wd(t){var e=t.split(":"),r=e[0].split(".")[0];return[r,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var Ec={},$o={};function Tc(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function eI(t,e,r,n,i,s){try{n.cellNF&&(t.z=ze[e])}catch(o){if(n.WTF)throw o}if(!(t.t==="z"&&!n.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=hr(t.v)),(!n||n.cellText!==!1)&&t.t!=="z")try{if(ze[e]==null&&Ca(Z6[e]||"General",e),t.t==="e")t.w=t.w||ro[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=ru(t.v);else if(t.t==="d"){var a=Qr(t.v);(a|0)===a?t.w=a.toString(10):t.w=ru(a)}else{if(t.v===void 0)return"";t.w=Ba(t.v,$o)}else t.t==="d"?t.w=Un(e,Qr(t.v),$o):t.w=Un(e,t.v,$o)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{t.s=s.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=Yh(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),n.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=Yh(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),n.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&s.Fills)throw o}}}function ZU(t,e){var r=jt(e);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=tt(r))}var ej=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,tj=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,rj=/<(?:\w:)?hyperlink [^>]*>/mg,nj=/"(\w*:\w*)"/,ij=/<(?:\w:)?col\b[^>]*[\/]?>/g,sj=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,aj=/<(?:\w:)?pageMargins[^>]*\/>/g,tI=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,oj=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,lj=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function cj(t,e,r,n,i,s,a){if(!t)return t;n||(n={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",h=t.match(tj);h?(c=t.slice(0,h.index),u=t.slice(h.index+h[0].length)):c=u=t;var d=c.match(tI);d?Gv(d[0],o,i,r):(d=c.match(oj))&&uj(d[0],d[1]||"",o,i,r);var p=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var x=c.slice(p,p+50).match(nj);x&&ZU(o,x[1])}var v=c.match(lj);v&&v[1]&&gj(v[1],i);var y=[];if(e.cellStyles){var k=c.match(ij);k&&dj(y,k)}h&&vj(h[1],o,e,l,s,a);var T=u.match(sj);T&&(o["!autofilter"]=pj(T[0]));var w=[],D=u.match(ej);if(D)for(p=0;p!=D.length;++p)w[p]=jt(D[p].slice(D[p].indexOf('"')+1));var B=u.match(rj);B&&fj(o,B,n);var U=u.match(aj);if(U&&(o["!margins"]=hj(Oe(U[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=tt(l)),e.sheetRows>0&&o["!ref"]){var g=jt(o["!ref"]);e.sheetRows<=+g.e.r&&(g.e.r=e.sheetRows-1,g.e.r>l.e.r&&(g.e.r=l.e.r),g.e.r<g.s.r&&(g.s.r=g.e.r),g.e.c>l.e.c&&(g.e.c=l.e.c),g.e.c<g.s.c&&(g.s.c=g.e.c),o["!fullref"]=o["!ref"],o["!ref"]=tt(g))}return y.length>0&&(o["!cols"]=y),w.length>0&&(o["!merges"]=w),o}function Gv(t,e,r,n){var i=Oe(t);r.Sheets[n]||(r.Sheets[n]={}),i.codeName&&(r.Sheets[n].CodeName=at(wt(i.codeName)))}function uj(t,e,r,n,i){Gv(t.slice(0,t.indexOf(">")),r,n,i)}function fj(t,e,r){for(var n=Array.isArray(t),i=0;i!=e.length;++i){var s=Oe(wt(e[i]),!0);if(!s.ref)return;var a=((r||{})["!id"]||[])[s.id];a?(s.Target=a.Target,s.location&&(s.Target+="#"+at(s.location))):(s.Target="#"+at(s.location),a={Target:s.Target,TargetMode:"Internal"}),s.Rel=a,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=jt(s.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=je({c,r:l});n?(t[l]||(t[l]=[]),t[l][c]||(t[l][c]={t:"z",v:void 0}),t[l][c].l=s):(t[u]||(t[u]={t:"z",v:void 0}),t[u].l=s)}}}function hj(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(e[r]=parseFloat(t[r]))}),e}function dj(t,e){for(var r=!1,n=0;n!=e.length;++n){var i=Oe(e[n],!0);i.hidden&&(i.hidden=Nt(i.hidden));var s=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,Hv(i.width)),ll(i);s<=a;)t[s++]=wr(i)}}function pj(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}var mj=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function gj(t,e){e.Views||(e.Views=[{}]),(t.match(mj)||[]).forEach(function(r,n){var i=Oe(r);e.Views[n]||(e.Views[n]={}),+i.zoomScale&&(e.Views[n].zoom=+i.zoomScale),Nt(i.rightToLeft)&&(e.Views[n].RTL=!0)})}var vj=function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=nu("v"),a=nu("f");return function(l,c,u,h,d,p){for(var x=0,v="",y=[],k=[],T=0,w=0,D=0,B="",U,g,E=0,S=0,C,P,R=0,b=0,fe=Array.isArray(p.CellXf),de,Se=[],oe=[],ie=Array.isArray(c),G=[],ce={},Ee=!1,j=!!u.sheetStubs,Y=l.split(e),K=0,W=Y.length;K!=W;++K){v=Y[K].trim();var ae=v.length;if(ae!==0){var xe=0;e:for(x=0;x<ae;++x)switch(v[x]){case">":if(v[x-1]!="/"){++x;break e}if(u&&u.cellStyles){if(g=Oe(v.slice(xe,x),!0),E=g.r!=null?parseInt(g.r,10):E+1,S=-1,u.sheetRows&&u.sheetRows<E)continue;ce={},Ee=!1,g.ht&&(Ee=!0,ce.hpt=parseFloat(g.ht),ce.hpx=ou(ce.hpt)),g.hidden=="1"&&(Ee=!0,ce.hidden=!0),g.outlineLevel!=null&&(Ee=!0,ce.level=+g.outlineLevel),Ee&&(G[E-1]=ce)}break;case"<":xe=x;break}if(xe>=x)break;if(g=Oe(v.slice(xe,x),!0),E=g.r!=null?parseInt(g.r,10):E+1,S=-1,!(u.sheetRows&&u.sheetRows<E)){h.s.r>E-1&&(h.s.r=E-1),h.e.r<E-1&&(h.e.r=E-1),u&&u.cellStyles&&(ce={},Ee=!1,g.ht&&(Ee=!0,ce.hpt=parseFloat(g.ht),ce.hpx=ou(ce.hpt)),g.hidden=="1"&&(Ee=!0,ce.hidden=!0),g.outlineLevel!=null&&(Ee=!0,ce.level=+g.outlineLevel),Ee&&(G[E-1]=ce)),y=v.slice(x).split(t);for(var ke=0;ke!=y.length&&y[ke].trim().charAt(0)=="<";++ke);for(y=y.slice(ke),x=0;x!=y.length;++x)if(v=y[x].trim(),v.length!==0){if(k=v.match(r),T=x,w=0,D=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,k!=null&&k.length===2){for(T=0,B=k[1],w=0;w!=B.length&&!((D=B.charCodeAt(w)-64)<1||D>26);++w)T=26*T+D;--T,S=T}else++S;for(w=0;w!=v.length&&v.charCodeAt(w)!==62;++w);if(++w,g=Oe(v.slice(0,w),!0),g.r||(g.r=je({r:E-1,c:S})),B=v.slice(w),U={t:""},(k=B.match(s))!=null&&k[1]!==""&&(U.v=at(k[1])),u.cellFormula){if((k=B.match(a))!=null&&k[1]!==""){if(U.f=at(wt(k[1])).replace(/\r\n/g,`
`),u.xlfn||(U.f=gw(U.f)),k[0].indexOf('t="array"')>-1)U.F=(B.match(i)||[])[1],U.F.indexOf(":")>-1&&Se.push([jt(U.F),U.F]);else if(k[0].indexOf('t="shared"')>-1){P=Oe(k[0]);var he=at(wt(k[1]));u.xlfn||(he=gw(he)),oe[parseInt(P.si,10)]=[P,he,g.r]}}else(k=B.match(/<f[^>]*\/>/))&&(P=Oe(k[0]),oe[P.si]&&(U.f=CV(oe[P.si][1],oe[P.si][2],g.r)));var me=Gr(g.r);for(w=0;w<Se.length;++w)me.r>=Se[w][0].s.r&&me.r<=Se[w][0].e.r&&me.c>=Se[w][0].s.c&&me.c<=Se[w][0].e.c&&(U.F=Se[w][1])}if(g.t==null&&U.v===void 0)if(U.f||U.F)U.v=0,U.t="n";else if(j)U.t="z";else continue;else U.t=g.t||"n";switch(h.s.c>S&&(h.s.c=S),h.e.c<S&&(h.e.c=S),U.t){case"n":if(U.v==""||U.v==null){if(!j)continue;U.t="z"}else U.v=parseFloat(U.v);break;case"s":if(typeof U.v>"u"){if(!j)continue;U.t="z"}else C=Ec[parseInt(U.v,10)],U.v=C.t,U.r=C.r,u.cellHTML&&(U.h=C.h);break;case"str":U.t="s",U.v=U.v!=null?wt(U.v):"",u.cellHTML&&(U.h=Fv(U.v));break;case"inlineStr":k=B.match(n),U.t="s",k!=null&&(C=$v(k[1]))?(U.v=C.t,u.cellHTML&&(U.h=C.h)):U.v="";break;case"b":U.v=Nt(U.v);break;case"d":u.cellDates?U.v=hr(U.v,1):(U.v=Qr(hr(U.v,1)),U.t="n");break;case"e":(!u||u.cellText!==!1)&&(U.w=U.v),U.v=EA[U.v];break}if(R=b=0,de=null,fe&&g.s!==void 0&&(de=p.CellXf[g.s],de!=null&&(de.numFmtId!=null&&(R=de.numFmtId),u.cellStyles&&de.fillId!=null&&(b=de.fillId))),eI(U,R,b,u,d,p),u.cellDates&&fe&&U.t=="n"&&xl(ze[R])&&(U.t="d",U.v=$0(U.v)),g.cm&&u.xlmeta){var $e=(u.xlmeta.Cell||[])[+g.cm-1];$e&&$e.type=="XLDAPR"&&(U.D=!0)}if(ie){var z=Gr(g.r);c[z.r]||(c[z.r]=[]),c[z.r][z.c]=U}else c[g.r]=U}}}}G.length>0&&(c["!rows"]=G)}}();function xj(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=i/20),r}var _j=to;function yj(){}function wj(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=$M(t),r}function Ej(t){var e=jn(t);return[e]}function Tj(t){var e=eo(t);return[e]}function kj(t){var e=jn(t),r=t.read_shift(1);return[e,r,"b"]}function Sj(t){var e=eo(t),r=t.read_shift(1);return[e,r,"b"]}function Aj(t){var e=jn(t),r=t.read_shift(1);return[e,r,"e"]}function Ij(t){var e=eo(t),r=t.read_shift(1);return[e,r,"e"]}function Cj(t){var e=jn(t),r=t.read_shift(4);return[e,r,"s"]}function Rj(t){var e=eo(t),r=t.read_shift(4);return[e,r,"s"]}function Nj(t){var e=jn(t),r=Lr(t);return[e,r,"n"]}function rI(t){var e=eo(t),r=Lr(t);return[e,r,"n"]}function Pj(t){var e=jn(t),r=jv(t);return[e,r,"n"]}function Dj(t){var e=eo(t),r=jv(t);return[e,r,"n"]}function Fj(t){var e=jn(t),r=Vv(t);return[e,r,"is"]}function bj(t){var e=jn(t),r=Vr(t);return[e,r,"str"]}function Oj(t){var e=eo(t),r=Vr(t);return[e,r,"str"]}function Lj(t,e,r){var n=t.l+e,i=jn(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"b"];if(r.cellFormula){t.l+=2;var o=G0(t,n-t.l,r);a[3]=Fr(o,null,i,r.supbooks,r)}else t.l=n;return a}function Mj(t,e,r){var n=t.l+e,i=jn(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"e"];if(r.cellFormula){t.l+=2;var o=G0(t,n-t.l,r);a[3]=Fr(o,null,i,r.supbooks,r)}else t.l=n;return a}function Vj(t,e,r){var n=t.l+e,i=jn(t);i.r=r["!row"];var s=Lr(t),a=[i,s,"n"];if(r.cellFormula){t.l+=2;var o=G0(t,n-t.l,r);a[3]=Fr(o,null,i,r.supbooks,r)}else t.l=n;return a}function Uj(t,e,r){var n=t.l+e,i=jn(t);i.r=r["!row"];var s=Vr(t),a=[i,s,"str"];if(r.cellFormula){t.l+=2;var o=G0(t,n-t.l,r);a[3]=Fr(o,null,i,r.supbooks,r)}else t.l=n;return a}var jj=to;function Bj(t,e){var r=t.l+e,n=to(t),i=Uv(t),s=Vr(t),a=Vr(t),o=Vr(t);t.l=r;var l={rfx:n,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function zj(){}function $j(t,e,r){var n=t.l+e,i=_A(t),s=t.read_shift(1),a=[i];if(a[2]=s,r.cellFormula){var o=qU(t,n-t.l,r);a[1]=o}else t.l=n;return a}function Hj(t,e,r){var n=t.l+e,i=to(t),s=[i];if(r.cellFormula){var a=YU(t,n-t.l,r);s[1]=a,t.l=n}else t.l=n;return s}var Wj=["left","right","top","bottom","header","footer"];function Gj(t){var e={};return Wj.forEach(function(r){e[r]=Lr(t)}),e}function Kj(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function qj(){}function Xj(){}function Yj(t,e,r,n,i,s,a){if(!t)return t;var o=e||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},h=!1,d=!1,p,x,v,y,k,T,w,D,B,U=[];o.biff=12,o["!row"]=0;var g=0,E=!1,S=[],C={},P=o.supbooks||i.supbooks||[[]];if(P.sharedf=C,P.arrayf=S,P.SheetNames=i.SheetNames||i.Sheets.map(function(ie){return ie.name}),!o.supbooks&&(o.supbooks=P,i.Names))for(var R=0;R<i.Names.length;++R)P[0][R+1]=i.Names[R];var b=[],fe=[],de=!1;Zh[16]={n:"BrtShortReal",f:rI};var Se;if(ps(t,function(G,ce,Ee){if(!d)switch(Ee){case 148:c=G;break;case 0:p=G,o.sheetRows&&o.sheetRows<=p.r&&(d=!0),D=Er(y=p.r),o["!row"]=p.r,(G.hidden||G.hpt||G.level!=null)&&(G.hpt&&(G.hpx=ou(G.hpt)),fe[G.r]=G);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(x={t:G[2]},G[2]){case"n":x.v=G[1];break;case"s":w=Ec[G[1]],x.v=w.t,x.r=w.r;break;case"b":x.v=!!G[1];break;case"e":x.v=G[1],o.cellText!==!1&&(x.w=ro[x.v]);break;case"str":x.t="s",x.v=G[1];break;case"is":x.t="s",x.v=G[1].t;break}if((v=a.CellXf[G[0].iStyleRef])&&eI(x,v.numFmtId,null,o,s,a),k=G[0].c==-1?k+1:G[0].c,o.dense?(l[y]||(l[y]=[]),l[y][k]=x):l[nr(k)+D]=x,o.cellFormula){for(E=!1,g=0;g<S.length;++g){var j=S[g];p.r>=j[0].s.r&&p.r<=j[0].e.r&&k>=j[0].s.c&&k<=j[0].e.c&&(x.F=tt(j[0]),E=!0)}!E&&G.length>3&&(x.f=G[3])}if(u.s.r>p.r&&(u.s.r=p.r),u.s.c>k&&(u.s.c=k),u.e.r<p.r&&(u.e.r=p.r),u.e.c<k&&(u.e.c=k),o.cellDates&&v&&x.t=="n"&&xl(ze[v.numFmtId])){var Y=Ta(x.v);Y&&(x.t="d",x.v=new Date(Y.y,Y.m-1,Y.d,Y.H,Y.M,Y.S,Y.u))}Se&&(Se.type=="XLDAPR"&&(x.D=!0),Se=void 0);break;case 1:case 12:if(!o.sheetStubs||h)break;x={t:"z",v:void 0},k=G[0].c==-1?k+1:G[0].c,o.dense?(l[y]||(l[y]=[]),l[y][k]=x):l[nr(k)+D]=x,u.s.r>p.r&&(u.s.r=p.r),u.s.c>k&&(u.s.c=k),u.e.r<p.r&&(u.e.r=p.r),u.e.c<k&&(u.e.c=k),Se&&(Se.type=="XLDAPR"&&(x.D=!0),Se=void 0);break;case 176:U.push(G);break;case 49:Se=((o.xlmeta||{}).Cell||[])[G-1];break;case 494:var K=n["!id"][G.relId];for(K?(G.Target=K.Target,G.loc&&(G.Target+="#"+G.loc),G.Rel=K):G.relId==""&&(G.Target="#"+G.loc),y=G.rfx.s.r;y<=G.rfx.e.r;++y)for(k=G.rfx.s.c;k<=G.rfx.e.c;++k)o.dense?(l[y]||(l[y]=[]),l[y][k]||(l[y][k]={t:"z",v:void 0}),l[y][k].l=G):(T=je({c:k,r:y}),l[T]||(l[T]={t:"z",v:void 0}),l[T].l=G);break;case 426:if(!o.cellFormula)break;S.push(G),B=o.dense?l[y][k]:l[nr(k)+D],B.f=Fr(G[1],u,{r:p.r,c:k},P,o),B.F=tt(G[0]);break;case 427:if(!o.cellFormula)break;C[je(G[0].s)]=G[1],B=o.dense?l[y][k]:l[nr(k)+D],B.f=Fr(G[1],u,{r:p.r,c:k},P,o);break;case 60:if(!o.cellStyles)break;for(;G.e>=G.s;)b[G.e--]={width:G.w/256,hidden:!!(G.flags&1),level:G.level},de||(de=!0,Hv(G.w/256)),ll(b[G.e+1]);break;case 161:l["!autofilter"]={ref:tt(G)};break;case 476:l["!margins"]=G;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),G.name&&(i.Sheets[r].CodeName=G.name),(G.above||G.left)&&(l["!outline"]={above:G.above,left:G.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),G.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:h=!0;break;case 36:h=!1;break;case 37:h=!0;break;case 38:h=!1;break;default:if(!ce.T){if(!h||o.WTF)throw new Error("Unexpected record 0x"+Ee.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=tt(c||u)),o.sheetRows&&l["!ref"]){var oe=jt(l["!ref"]);o.sheetRows<=+oe.e.r&&(oe.e.r=o.sheetRows-1,oe.e.r>u.e.r&&(oe.e.r=u.e.r),oe.e.r<oe.s.r&&(oe.s.r=oe.e.r),oe.e.c>u.e.c&&(oe.e.c=u.e.c),oe.e.c<oe.s.c&&(oe.s.c=oe.e.c),l["!fullref"]=l["!ref"],l["!ref"]=tt(oe))}return U.length>0&&(l["!merges"]=U),b.length>0&&(l["!cols"]=b),fe.length>0&&(l["!rows"]=fe),l}function Qj(t){var e=[],r=t.match(/^<c:numCache>/),n;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var a=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(e[+a[1]]=r?+a[2]:a[2])});var i=at((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[e,i,n]}function Jj(t,e,r,n,i,s){var a=s||{"!type":"chart"};if(!t)return s;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(h){var d=Qj(h);u.s.r=u.s.c=0,u.e.c=o,c=nr(o),d[0].forEach(function(p,x){a[c+Er(x)]={t:"n",v:p,z:d[1]},l=x}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(a["!ref"]=tt(u)),a}function Zj(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a,o=t.match(tI);return o&&Gv(o[0],s,i,r),(a=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function eB(t,e){t.l+=10;var r=Vr(t);return{name:r}}function tB(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a=!1;return ps(t,function(l,c,u){switch(u){case 550:s["!rel"]=l;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),l.name&&(i.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!a||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},e),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var nI=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],rB=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],nB=[],iB=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function ww(t,e){for(var r=0;r!=t.length;++r)for(var n=t[r],i=0;i!=e.length;++i){var s=e[i];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=Nt(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function Ew(t,e){for(var r=0;r!=e.length;++r){var n=e[r];if(t[n[0]]==null)t[n[0]]=n[1];else switch(n[2]){case"bool":typeof t[n[0]]=="string"&&(t[n[0]]=Nt(t[n[0]]));break;case"int":typeof t[n[0]]=="string"&&(t[n[0]]=parseInt(t[n[0]],10));break}}}function iI(t){Ew(t.WBProps,nI),Ew(t.CalcPr,iB),ww(t.WBView,rB),ww(t.Sheets,nB),$o.date1904=Nt(t.WBProps.date1904)}var sB="][*?/\\".split("");function aB(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return sB.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var oB=/<\w+:workbook/;function lB(t,e){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",s={},a=0;if(t.replace(zr,function(l,c){var u=Oe(l);switch(Ni(u[0])){case"<?xml":break;case"<workbook":l.match(oB)&&(i="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[i];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":nI.forEach(function(h){if(u[h[0]]!=null)switch(h[2]){case"bool":r.WBProps[h[0]]=Nt(u[h[0]]);break;case"int":r.WBProps[h[0]]=parseInt(u[h[0]],10);break;default:r.WBProps[h[0]]=u[h[0]]}}),u.codeName&&(r.WBProps.CodeName=wt(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=at(wt(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=wt(u.name),u.comment&&(s.Comment=u.comment),u.localSheetId&&(s.Sheet=+u.localSheetId),Nt(u.hidden||"0")&&(s.Hidden=!0),a=c+l.length;break;case"</definedName>":s.Ref=at(wt(t.slice(a,c))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),AM.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return iI(r),r}function cB(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=_m(t),r.name=Vr(t),r}function uB(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?Vr(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function fB(t,e){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=e-8,r}function hB(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=HM(t),a=XU(t,0,r),o=Uv(t);t.l=n;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function dB(t,e){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;e||(e={}),e.biff=12;var s=[],a=[[]];return a.SheetNames=[],a.XTI=[],Zh[16]={n:"BrtFRTArchID$",f:fB},ps(t,function(l,c,u){switch(u){case 156:a.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=Fr(l.Ptg,null,null,a,e),delete e.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([u,l]):a[0]=[u,l],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(l),a.XTI=a.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(u),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},e),iI(r),r.Names=s,r.supbooks=a,r}function pB(t,e,r){return e.slice(-4)===".bin"?dB(t,r):lB(t,r)}function mB(t,e,r,n,i,s,a,o){return e.slice(-4)===".bin"?Yj(t,n,r,i,s,a,o):cj(t,n,r,i,s,a,o)}function gB(t,e,r,n,i,s,a,o){return e.slice(-4)===".bin"?tB(t,n,r,i,s):Zj(t,n,r,i,s)}function vB(t,e,r,n,i,s,a,o){return e.slice(-4)===".bin"?SV():AV()}function xB(t,e,r,n,i,s,a,o){return e.slice(-4)===".bin"?TV():kV()}function _B(t,e,r,n){return e.slice(-4)===".bin"?j9(t,r,n):b9(t,r,n)}function yB(t,e,r){return HA(t,r)}function wB(t,e,r){return e.slice(-4)===".bin"?r9(t,r):e9(t,r)}function EB(t,e,r){return e.slice(-4)===".bin"?yV(t,r):mV(t,r)}function TB(t,e,r){return e.slice(-4)===".bin"?hV(t):uV(t)}function kB(t,e,r,n){return r.slice(-4)===".bin"?dV(t,e,r,n):void 0}function SB(t,e,r){return e.slice(-4)===".bin"?lV(t,e,r):cV(t,e,r)}var sI=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,aI=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Hn(t,e){var r=t.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var i=t.match(sI),s,a,o,l;if(i)for(l=0;l!=i.length;++l)s=i[l].match(aI),(a=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(a+1),n[o]=s[2].slice(1,s[2].length-1));return n}function AB(t){var e=t.split(/\s+/),r={};if(e.length===1)return r;var n=t.match(sI),i,s,a,o;if(n)for(o=0;o!=n.length;++o)i=n[o].match(aI),(s=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?a="xmlns"+i[1].slice(6):a=i[1].slice(s+1),r[a]=i[2].slice(1,i[2].length-1));return r}var kc;function IB(t,e){var r=kc[t]||at(t);return r==="General"?Ba(e):Un(r,e)}function CB(t,e,r,n){var i=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=Nt(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=hr(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[at(e)]=i}function RB(t,e,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||ro[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=ru(t.v):t.w=Ba(t.v):t.w=IB(e||"General",t.v)}catch(s){if(r.WTF)throw s}try{var n=kc[e]||e||"General";if(r.cellNF&&(t.z=n),r.cellDates&&t.t=="n"&&xl(n)){var i=Ta(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(r.WTF)throw s}}}function NB(t,e,r){if(r.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=C9[n.Pattern]||n.Pattern)}t[e.ID]=e}function PB(t,e,r,n,i,s,a,o,l,c){var u="General",h=n.StyleID,d={};c=c||{};var p=[],x=0;for(h===void 0&&o&&(h=o.StyleID),h===void 0&&a&&(h=a.StyleID);s[h]!==void 0&&(s[h].nf&&(u=s[h].nf),s[h].Interior&&p.push(s[h].Interior),!!s[h].Parent);)h=s[h].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Nt(t);break;case"String":n.t="s",n.r=Hy(at(t)),n.v=t.indexOf("<")>-1?at(e||t).replace(/<.*?>/g,""):n.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),n.v=(hr(t)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=at(t):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+t),n.t||(n.t="n");break;case"Error":n.t="e",n.v=EA[t],c.cellText!==!1&&(n.w=t);break;default:t==""&&e==""?n.t="z":(n.t="s",n.v=Hy(e||t));break}if(RB(n,u,c),c.cellFormula!==!1)if(n.Formula){var v=at(n.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),n.f=zo(v,i),delete n.Formula,n.ArrayRange=="RC"?n.F=zo("RC:RC",i):n.ArrayRange&&(n.F=zo(n.ArrayRange,i),l.push([jt(n.F),n.F]))}else for(x=0;x<l.length;++x)i.r>=l[x][0].s.r&&i.r<=l[x][0].e.r&&i.c>=l[x][0].s.c&&i.c<=l[x][0].e.c&&(n.F=l[x][1]);c.cellStyles&&(p.forEach(function(y){!d.patternType&&y.patternType&&(d.patternType=y.patternType)}),n.s=d),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function DB(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function Gd(t,e){var r=e||{};qS();var n=Ql(bv(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=wt(n));var i=n.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var a=wr(r);return a.type="string",su.to_workbook(n,a)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Et){i.indexOf("<"+Et)>=0&&(s=!0)}),s)return BB(n,r);kc={"General Number":"General","General Date":ze[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":ze[15],"Short Date":ze[14],"Long Time":ze[19],"Medium Time":ze[18],"Short Time":ze[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:ze[2],Standard:ze[4],Percent:ze[10],Scientific:ze[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},h=[],d=r.dense?[]:{},p="",x={},v={},y=Hn('<Data ss:Type="String">'),k=0,T=0,w=0,D={s:{r:2e6,c:2e6},e:{r:0,c:0}},B={},U={},g="",E=0,S=[],C={},P={},R=0,b=[],fe=[],de={},Se=[],oe,ie=!1,G=[],ce=[],Ee={},j=0,Y=0,K={Sheets:[],WBProps:{date1904:!1}},W={};iu.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ae="";o=iu.exec(n);)switch(o[3]=(ae=o[3]).toLowerCase()){case"data":if(ae=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?PB(n.slice(k,o.index),g,y,l[l.length-1][0]=="comment"?de:x,{c:T,r:w},B,Se[T],v,G,r):(g="",y=Hn(o[0]),k=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(fe.length>0&&(x.c=fe),(!r.sheetRows||r.sheetRows>w)&&x.v!==void 0&&(r.dense?(d[w]||(d[w]=[]),d[w][T]=x):d[nr(T)+Er(w)]=x),x.HRef&&(x.l={Target:at(x.HRef)},x.HRefScreenTip&&(x.l.Tooltip=x.HRefScreenTip),delete x.HRef,delete x.HRefScreenTip),(x.MergeAcross||x.MergeDown)&&(j=T+(parseInt(x.MergeAcross,10)|0),Y=w+(parseInt(x.MergeDown,10)|0),S.push({s:{c:T,r:w},e:{c:j,r:Y}})),!r.sheetStubs)x.MergeAcross?T=j+1:++T;else if(x.MergeAcross||x.MergeDown){for(var xe=T;xe<=j;++xe)for(var ke=w;ke<=Y;++ke)(xe>T||ke>w)&&(r.dense?(d[ke]||(d[ke]=[]),d[ke][xe]={t:"z"}):d[nr(xe)+Er(ke)]={t:"z"});T=j+1}else++T;else x=AB(o[0]),x.Index&&(T=+x.Index-1),T<D.s.c&&(D.s.c=T),T>D.e.c&&(D.e.c=T),o[0].slice(-2)==="/>"&&++T,fe=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(w<D.s.r&&(D.s.r=w),w>D.e.r&&(D.e.r=w),o[0].slice(-2)==="/>"&&(v=Hn(o[0]),v.Index&&(w=+v.Index-1)),T=0,++w):(v=Hn(o[0]),v.Index&&(w=+v.Index-1),Ee={},(v.AutoFitHeight=="0"||v.Height)&&(Ee.hpx=parseInt(v.Height,10),Ee.hpt=$A(Ee.hpx),ce[w]=Ee),v.Hidden=="1"&&(Ee.hidden=!0,ce[w]=Ee));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));h.push(p),D.s.r<=D.e.r&&D.s.c<=D.e.c&&(d["!ref"]=tt(D),r.sheetRows&&r.sheetRows<=D.e.r&&(d["!fullref"]=d["!ref"],D.e.r=r.sheetRows-1,d["!ref"]=tt(D))),S.length&&(d["!merges"]=S),Se.length>0&&(d["!cols"]=Se),ce.length>0&&(d["!rows"]=ce),u[p]=d}else D={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=T=0,l.push([o[3],!1]),c=Hn(o[0]),p=at(c.Name),d=r.dense?[]:{},S=[],G=[],ce=[],W={name:p,Hidden:0},K.Sheets.push(W);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),Se=[],ie=!1}break;case"style":o[1]==="/"?NB(B,U,r):U=Hn(o[0]);break;case"numberformat":U.nf=at(Hn(o[0]).Format||"General"),kc[U.nf]&&(U.nf=kc[U.nf]);for(var he=0;he!=392&&ze[he]!=U.nf;++he);if(he==392){for(he=57;he!=392;++he)if(ze[he]==null){Ca(U.nf,he);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(oe=Hn(o[0]),oe.Hidden&&(oe.hidden=!0,delete oe.Hidden),oe.Width&&(oe.wpx=parseInt(oe.Width,10)),!ie&&oe.wpx>10){ie=!0,Wr=BA;for(var me=0;me<Se.length;++me)Se[me]&&ll(Se[me])}ie&&ll(oe),Se[oe.Index-1||Se.length]=oe;for(var $e=0;$e<+oe.Span;++$e)Se[Se.length]=wr(oe);break;case"namedrange":if(o[1]==="/")break;K.Names||(K.Names=[]);var z=Oe(o[0]),ot={Name:z.Name,Ref:zo(z.RefersTo.slice(1),{r:0,c:0})};K.Sheets.length>0&&(ot.Sheet=K.Sheets.length-1),K.Names.push(ot);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?g+=n.slice(E,o.index):E=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;U.Interior=Hn(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?m8(C,ae,n.slice(R,o.index)):R=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));DB(de),fe.push(de)}else l.push([o[3],!1]),c=Hn(o[0]),de={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var We=Hn(o[0]);d["!autofilter"]={ref:zo(We.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return Cw(n,r);var rt=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:rt=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:rt=!1}break;case"excelworkbook":switch(o[3]){case"date1904":K.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:rt=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:rt=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(R,o.index)){case"SheetHidden":W.Hidden=1;break;case"SheetVeryHidden":W.Hidden=2;break}else R=o.index+o[0].length;break;case"header":d["!margins"]||Tc(d["!margins"]={},"xlml"),isNaN(+Oe(o[0]).Margin)||(d["!margins"].header=+Oe(o[0]).Margin);break;case"footer":d["!margins"]||Tc(d["!margins"]={},"xlml"),isNaN(+Oe(o[0]).Margin)||(d["!margins"].footer=+Oe(o[0]).Margin);break;case"pagemargins":var be=Oe(o[0]);d["!margins"]||Tc(d["!margins"]={},"xlml"),isNaN(+be.Top)||(d["!margins"].top=+be.Top),isNaN(+be.Left)||(d["!margins"].left=+be.Left),isNaN(+be.Right)||(d["!margins"].right=+be.Right),isNaN(+be.Bottom)||(d["!margins"].bottom=+be.Bottom);break;case"displayrighttoleft":K.Views||(K.Views=[]),K.Views[0]||(K.Views[0]={}),K.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:rt=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:rt=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:rt=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:rt=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:rt=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:rt=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:rt=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:rt=!1}break;case"smarttags":break;default:rt=!1;break}if(rt||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?CB(P,ae,b,n.slice(R,o.index)):(b=o,R=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var Ie={};return!r.bookSheets&&!r.bookProps&&(Ie.Sheets=u),Ie.SheetNames=h,Ie.Workbook=K,Ie.SSF=wr(ze),Ie.Props=C,Ie.Custprops=P,Ie}function Tm(t,e){switch(Xv(e=e||{}),e.type||"base64"){case"base64":return Gd(En(t),e);case"binary":case"buffer":case"file":return Gd(t,e);case"array":return Gd(Za(t),e)}}function FB(t){var e={},r=t.content;if(r.l=28,e.AnsiUserType=r.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=KM(r),r.length-r.l<=4)return e;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,e.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=qM(r),n=r.read_shift(4),n==0||n>40))return e;r.l-=4,e.Reserved2=r.read_shift(0,"lpwstr")}var bB=[60,1084,2066,2165,2175];function OB(t,e,r,n,i){var s=n,a=[],o=r.slice(r.l,r.l+s);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}a.push(o),r.l+=s;for(var l=qi(r,r.l),c=km[l],u=0;c!=null&&bB.indexOf(l)>-1;)s=qi(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+s),a.push(o),r.l+=4+s,c=km[l=qi(r,r.l)];var h=Rs(a);vr(h,0);var d=0;h.lens=[];for(var p=0;p<a.length;++p)h.lens.push(d),d+=a[p].length;if(h.length<n)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+h.length+" < "+n;return e.f(h,h.length,i)}function di(t,e,r){if(t.t!=="z"&&t.XF){var n=0;try{n=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=ze[n])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||ro[t.v]:n===0||n=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=ru(t.v):t.w=Ba(t.v):t.w=Un(n,t.v,{date1904:!!r,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&n&&t.t=="n"&&xl(ze[n]||String(n))){var i=Ta(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function If(t,e,r){return{v:t,ixfe:e,t:r}}function LB(t,e){var r={opts:{}},n={},i=e.dense?[]:{},s={},a={},o=null,l=[],c="",u={},h,d="",p,x,v,y,k={},T=[],w,D,B=[],U=[],g={Sheets:[],WBProps:{date1904:!1},Views:[{}]},E={},S=function(Ve){return Ve<8?Ra[Ve]:Ve<64&&U[Ve-8]||Ra[Ve]},C=function(Ve,xt,Ht){var ut=xt.XF.data;if(!(!ut||!ut.patternType||!Ht||!Ht.cellStyles)){xt.s={},xt.s.patternType=ut.patternType;var hn;(hn=au(S(ut.icvFore)))&&(xt.s.fgColor={rgb:hn}),(hn=au(S(ut.icvBack)))&&(xt.s.bgColor={rgb:hn})}},P=function(Ve,xt,Ht){if(!(Ee>1)&&!(Ht.sheetRows&&Ve.r>=Ht.sheetRows)){if(Ht.cellStyles&&xt.XF&&xt.XF.data&&C(Ve,xt,Ht),delete xt.ixfe,delete xt.XF,h=Ve,d=je(Ve),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),Ve.r<a.s.r&&(a.s.r=Ve.r),Ve.c<a.s.c&&(a.s.c=Ve.c),Ve.r+1>a.e.r&&(a.e.r=Ve.r+1),Ve.c+1>a.e.c&&(a.e.c=Ve.c+1),Ht.cellFormula&&xt.f){for(var ut=0;ut<T.length;++ut)if(!(T[ut][0].s.c>Ve.c||T[ut][0].s.r>Ve.r)&&!(T[ut][0].e.c<Ve.c||T[ut][0].e.r<Ve.r)){xt.F=tt(T[ut][0]),(T[ut][0].s.c!=Ve.c||T[ut][0].s.r!=Ve.r)&&delete xt.f,xt.f&&(xt.f=""+Fr(T[ut][1],a,Ve,G,R));break}}Ht.dense?(i[Ve.r]||(i[Ve.r]=[]),i[Ve.r][Ve.c]=xt):i[d]=xt}},R={enc:!1,sbcch:0,snames:[],sharedf:k,arrayf:T,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(R.password=e.password);var b,fe=[],de=[],Se=[],oe=[],ie=!1,G=[];G.SheetNames=R.snames,G.sharedf=R.sharedf,G.arrayf=R.arrayf,G.names=[],G.XTI=[];var ce=0,Ee=0,j=0,Y=[],K=[],W;R.codepage=1200,Zn(1200);for(var ae=!1;t.l<t.length-1;){var xe=t.l,ke=t.read_shift(2);if(ke===0&&ce===10)break;var he=t.l===t.length?0:t.read_shift(2),me=km[ke];if(me&&me.f){if(e.bookSheets&&ce===133&&ke!==133)break;if(ce=ke,me.r===2||me.r==12){var $e=t.read_shift(2);if(he-=2,!R.enc&&$e!==ke&&(($e&255)<<8|$e>>8)!==ke)throw new Error("rt mismatch: "+$e+"!="+ke);me.r==12&&(t.l+=10,he-=10)}var z={};if(ke===10?z=me.f(t,he,R):z=OB(ke,me,t,he,R),Ee==0&&[9,521,1033,2057].indexOf(ce)===-1)continue;switch(ke){case 34:r.opts.Date1904=g.WBProps.date1904=z;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(R.enc||(t.l=0),R.enc=z,!e.password)throw new Error("File is password-protected");if(z.valid==null)throw new Error("Encryption scheme unsupported");if(!z.valid)throw new Error("Password is incorrect");break;case 92:R.lastuser=z;break;case 66:var ot=Number(z);switch(ot){case 21010:ot=1200;break;case 32768:ot=1e4;break;case 32769:ot=1252;break}Zn(R.codepage=ot),ae=!0;break;case 317:R.rrtabid=z;break;case 25:R.winlocked=z;break;case 439:r.opts.RefreshAll=z;break;case 12:r.opts.CalcCount=z;break;case 16:r.opts.CalcDelta=z;break;case 17:r.opts.CalcIter=z;break;case 13:r.opts.CalcMode=z;break;case 14:r.opts.CalcPrecision=z;break;case 95:r.opts.CalcSaveRecalc=z;break;case 15:R.CalcRefMode=z;break;case 2211:r.opts.FullCalc=z;break;case 129:z.fDialog&&(i["!type"]="dialog"),z.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),z.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:B.push(z);break;case 430:G.push([z]),G[G.length-1].XTI=[];break;case 35:case 547:G[G.length-1].push(z);break;case 24:case 536:W={Name:z.Name,Ref:Fr(z.rgce,a,null,G,R)},z.itab>0&&(W.Sheet=z.itab-1),G.names.push(W),G[0]||(G[0]=[],G[0].XTI=[]),G[G.length-1].push(z),z.Name=="_xlnm._FilterDatabase"&&z.itab>0&&z.rgce&&z.rgce[0]&&z.rgce[0][0]&&z.rgce[0][0][0]=="PtgArea3d"&&(K[z.itab-1]={ref:tt(z.rgce[0][0][1][2])});break;case 22:R.ExternCount=z;break;case 23:G.length==0&&(G[0]=[],G[0].XTI=[]),G[G.length-1].XTI=G[G.length-1].XTI.concat(z),G.XTI=G.XTI.concat(z);break;case 2196:if(R.biff<8)break;W!=null&&(W.Comment=z[1]);break;case 18:i["!protect"]=z;break;case 19:z!==0&&R.WTF&&console.error("Password verifier: "+z);break;case 133:s[z.pos]=z,R.snames.push(z.name);break;case 10:{if(--Ee)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,i["!ref"]=tt(a),e.sheetRows&&e.sheetRows<=a.e.r){var We=a.e.r;a.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=tt(a),a.e.r=We}a.e.r++,a.e.c++}fe.length>0&&(i["!merges"]=fe),de.length>0&&(i["!objects"]=de),Se.length>0&&(i["!cols"]=Se),oe.length>0&&(i["!rows"]=oe),g.Sheets.push(E)}c===""?u=i:n[c]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(R.biff===8&&(R.biff={9:2,521:3,1033:4}[ke]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[z.BIFFVer]||8),R.biffguess=z.BIFFVer==0,z.BIFFVer==0&&z.dt==4096&&(R.biff=5,ae=!0,Zn(R.codepage=28591)),R.biff==8&&z.BIFFVer==0&&z.dt==16&&(R.biff=2),Ee++)break;if(i=e.dense?[]:{},R.biff<8&&!ae&&(ae=!0,Zn(R.codepage=e.codepage||1252)),R.biff<5||z.BIFFVer==0&&z.dt==4096){c===""&&(c="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var rt={pos:t.l-he,name:c};s[rt.pos]=rt,R.snames.push(c)}else c=(s[xe]||{name:""}).name;z.dt==32&&(i["!type"]="chart"),z.dt==64&&(i["!type"]="macro"),fe=[],de=[],R.arrayf=T=[],Se=[],oe=[],ie=!1,E={Hidden:(s[xe]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[z.r]||[])[z.c]:i[je({c:z.c,r:z.r})])&&++z.c,w={ixfe:z.ixfe,XF:B[z.ixfe]||{},v:z.val,t:"n"},j>0&&(w.z=Y[w.ixfe>>8&63]),di(w,e,r.opts.Date1904),P({c:z.c,r:z.r},w,e);break;case 5:case 517:w={ixfe:z.ixfe,XF:B[z.ixfe],v:z.val,t:z.t},j>0&&(w.z=Y[w.ixfe>>8&63]),di(w,e,r.opts.Date1904),P({c:z.c,r:z.r},w,e);break;case 638:w={ixfe:z.ixfe,XF:B[z.ixfe],v:z.rknum,t:"n"},j>0&&(w.z=Y[w.ixfe>>8&63]),di(w,e,r.opts.Date1904),P({c:z.c,r:z.r},w,e);break;case 189:for(var be=z.c;be<=z.C;++be){var Ie=z.rkrec[be-z.c][0];w={ixfe:Ie,XF:B[Ie],v:z.rkrec[be-z.c][1],t:"n"},j>0&&(w.z=Y[w.ixfe>>8&63]),di(w,e,r.opts.Date1904),P({c:be,r:z.r},w,e)}break;case 6:case 518:case 1030:{if(z.val=="String"){o=z;break}if(w=If(z.val,z.cell.ixfe,z.tt),w.XF=B[w.ixfe],e.cellFormula){var Et=z.formula;if(Et&&Et[0]&&Et[0][0]&&Et[0][0][0]=="PtgExp"){var ar=Et[0][0][1][0],Sr=Et[0][0][1][1],en=je({r:ar,c:Sr});k[en]?w.f=""+Fr(z.formula,a,z.cell,G,R):w.F=((e.dense?(i[ar]||[])[Sr]:i[en])||{}).F}else w.f=""+Fr(z.formula,a,z.cell,G,R)}j>0&&(w.z=Y[w.ixfe>>8&63]),di(w,e,r.opts.Date1904),P(z.cell,w,e),o=z}break;case 7:case 519:if(o)o.val=z,w=If(z,o.cell.ixfe,"s"),w.XF=B[w.ixfe],e.cellFormula&&(w.f=""+Fr(o.formula,a,o.cell,G,R)),j>0&&(w.z=Y[w.ixfe>>8&63]),di(w,e,r.opts.Date1904),P(o.cell,w,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{T.push(z);var Di=je(z[0].s);if(p=e.dense?(i[z[0].s.r]||[])[z[0].s.c]:i[Di],e.cellFormula&&p){if(!o||!Di||!p)break;p.f=""+Fr(z[1],a,z[0],G,R),p.F=tt(z[0])}}break;case 1212:{if(!e.cellFormula)break;if(d){if(!o)break;k[je(o.cell)]=z[0],p=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[je(o.cell)],(p||{}).f=""+Fr(z[0],a,h,G,R)}}break;case 253:w=If(l[z.isst].t,z.ixfe,"s"),l[z.isst].h&&(w.h=l[z.isst].h),w.XF=B[w.ixfe],j>0&&(w.z=Y[w.ixfe>>8&63]),di(w,e,r.opts.Date1904),P({c:z.c,r:z.r},w,e);break;case 513:e.sheetStubs&&(w={ixfe:z.ixfe,XF:B[z.ixfe],t:"z"},j>0&&(w.z=Y[w.ixfe>>8&63]),di(w,e,r.opts.Date1904),P({c:z.c,r:z.r},w,e));break;case 190:if(e.sheetStubs)for(var tn=z.c;tn<=z.C;++tn){var Tt=z.ixfe[tn-z.c];w={ixfe:Tt,XF:B[Tt],t:"z"},j>0&&(w.z=Y[w.ixfe>>8&63]),di(w,e,r.opts.Date1904),P({c:tn,r:z.r},w,e)}break;case 214:case 516:case 4:w=If(z.val,z.ixfe,"s"),w.XF=B[w.ixfe],j>0&&(w.z=Y[w.ixfe>>8&63]),di(w,e,r.opts.Date1904),P({c:z.c,r:z.r},w,e);break;case 0:case 512:Ee===1&&(a=z);break;case 252:l=z;break;case 1054:if(R.biff==4){Y[j++]=z[1];for(var or=0;or<j+163&&ze[or]!=z[1];++or);or>=163&&Ca(z[1],j+163)}else Ca(z[1],z[0]);break;case 30:{Y[j++]=z;for(var vt=0;vt<j+163&&ze[vt]!=z;++vt);vt>=163&&Ca(z,j+163)}break;case 229:fe=fe.concat(z);break;case 93:de[z.cmo[0]]=R.lastobj=z;break;case 438:R.lastobj.TxO=z;break;case 127:R.lastobj.ImData=z;break;case 440:for(y=z[0].s.r;y<=z[0].e.r;++y)for(v=z[0].s.c;v<=z[0].e.c;++v)p=e.dense?(i[y]||[])[v]:i[je({c:v,r:y})],p&&(p.l=z[1]);break;case 2048:for(y=z[0].s.r;y<=z[0].e.r;++y)for(v=z[0].s.c;v<=z[0].e.c;++v)p=e.dense?(i[y]||[])[v]:i[je({c:v,r:y})],p&&p.l&&(p.l.Tooltip=z[1]);break;case 28:{if(R.biff<=5&&R.biff>=2)break;p=e.dense?(i[z[0].r]||[])[z[0].c]:i[je(z[0])];var kt=de[z[2]];p||(e.dense?(i[z[0].r]||(i[z[0].r]=[]),p=i[z[0].r][z[0].c]={t:"z"}):p=i[je(z[0])]={t:"z"},a.e.r=Math.max(a.e.r,z[0].r),a.s.r=Math.min(a.s.r,z[0].r),a.e.c=Math.max(a.e.c,z[0].c),a.s.c=Math.min(a.s.c,z[0].c)),p.c||(p.c=[]),x={a:z[1],t:kt.TxO.t},p.c.push(x)}break;case 2173:iV(B[z.ixfe],z.ext);break;case 125:{if(!R.cellStyles)break;for(;z.e>=z.s;)Se[z.e--]={width:z.w/256,level:z.level||0,hidden:!!(z.flags&1)},ie||(ie=!0,Hv(z.w/256)),ll(Se[z.e+1])}break;case 520:{var ht={};z.level!=null&&(oe[z.r]=ht,ht.level=z.level),z.hidden&&(oe[z.r]=ht,ht.hidden=!0),z.hpt&&(oe[z.r]=ht,ht.hpt=z.hpt,ht.hpx=ou(z.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Tc(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ke]]=z;break;case 161:i["!margins"]||Tc(i["!margins"]={}),i["!margins"].header=z.header,i["!margins"].footer=z.footer;break;case 574:z.RTL&&(g.Views[0].RTL=!0);break;case 146:U=z;break;case 2198:b=z;break;case 140:D=z;break;case 442:c?E.CodeName=z||E.name:g.WBProps.CodeName=z||"ThisWorkbook";break}}else me||console.error("Missing Info for XLS Record 0x"+ke.toString(16)),t.l+=he}return r.SheetNames=Ai(s).sort(function(Dt,Ve){return Number(Dt)-Number(Ve)}).map(function(Dt){return s[Dt].name}),e.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&K.forEach(function(Dt,Ve){r.Sheets[r.SheetNames[Ve]]["!autofilter"]=Dt}),r.Strings=l,r.SSF=wr(ze),R.enc&&(r.Encryption=R.enc),b&&(r.Themes=b),r.Metadata={},D!==void 0&&(r.Metadata.Country=D),G.names.length>0&&(g.Names=G.names),r.Workbook=g,r}var Tw={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function MB(t,e,r){var n=et.find(t,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=aw(n,e8,Tw.DSI);for(var s in i)e[s]=i[s]}catch(c){if(r.WTF)throw c}var a=et.find(t,"/!SummaryInformation");if(a&&a.size>0)try{var o=aw(a,t8,Tw.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(c){if(r.WTF)throw c}e.HeadingPairs&&e.TitlesOfParts&&(kA(e.HeadingPairs,e.TitlesOfParts,e,r),delete e.HeadingPairs,delete e.TitlesOfParts)}function oI(t,e){e||(e={}),Xv(e),LS(),e.codepage&&Iv(e.codepage);var r,n;if(t.FullPaths){if(et.find(t,"/encryption"))throw new Error("File is password-protected");r=et.find(t,"!CompObj"),n=et.find(t,"/Workbook")||et.find(t,"/Book")}else{switch(e.type){case"base64":t=Qn(En(t));break;case"binary":t=Qn(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}vr(t,0),n={content:t}}var i,s;if(r&&FB(r),e.bookProps&&!e.bookSheets)i={};else{var a=Qe?"buffer":"array";if(n&&n.content)i=LB(n.content,e);else if((s=et.find(t,"PerfectOffice_MAIN"))&&s.content)i=wc.to_workbook(s.content,(e.type=a,e));else if((s=et.find(t,"NativeContent_MAIN"))&&s.content)i=wc.to_workbook(s.content,(e.type=a,e));else throw(s=et.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&et.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=EV(t))}var o={};return t.FullPaths&&MB(t,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=t),i}var Zh={0:{f:xj},1:{f:Ej},2:{f:Pj},3:{f:Aj},4:{f:kj},5:{f:Nj},6:{f:bj},7:{f:Cj},8:{f:Uj},9:{f:Vj},10:{f:Lj},11:{f:Mj},12:{f:Tj},13:{f:Dj},14:{f:Ij},15:{f:Sj},16:{f:rI},17:{f:Oj},18:{f:Rj},19:{f:Vv},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:hB},40:{},42:{},43:{f:L9},44:{f:O9},45:{f:M9},46:{f:U9},47:{f:V9},48:{},49:{f:jM},50:{},51:{f:aV},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:LA},62:{f:Fj},63:{f:fV},64:{f:qj},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Br,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Kj},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:wj},148:{f:_j,p:16},151:{f:zj},152:{},153:{f:uB},154:{},155:{},156:{f:cB},157:{},158:{},159:{T:1,f:t9},160:{T:-1},161:{T:1,f:to},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:jj},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:sV},336:{T:-1},337:{f:oV,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:_m},357:{},358:{},359:{},360:{T:1},361:{},362:{f:OA},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:$j},427:{f:Hj},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Gj},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:yj},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Bj},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:_m},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:_V},633:{T:1},634:{T:-1},635:{T:1,f:xV},636:{T:-1},637:{f:zM},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:eB},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Xj},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},km={6:{f:Hd},10:{f:ys},12:{f:qt},13:{f:qt},14:{f:Bt},15:{f:Bt},16:{f:Lr},17:{f:Bt},18:{f:Bt},19:{f:qt},20:{f:uw},21:{f:uw},23:{f:OA},24:{f:hw},25:{f:Bt},26:{},27:{},28:{f:g5},29:{},34:{f:Bt},35:{f:fw},38:{f:Lr},39:{f:Lr},40:{f:Lr},41:{f:Lr},42:{f:Bt},43:{f:Bt},47:{f:y9},49:{f:Q8},51:{f:qt},60:{},61:{f:q8},64:{f:Bt},65:{f:Y8},66:{f:qt},77:{},80:{},81:{},82:{},85:{f:qt},89:{},90:{},91:{},92:{f:j8},93:{f:x5},94:{},95:{f:Bt},96:{},97:{},99:{f:Bt},125:{f:LA},128:{f:o5},129:{f:B8},130:{f:qt},131:{f:Bt},132:{f:Bt},133:{f:z8},134:{},140:{f:k5},141:{f:qt},144:{},146:{f:A5},151:{},152:{},153:{},154:{},155:{},156:{f:qt},157:{},158:{},160:{f:P5},161:{f:C5},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:n5},190:{f:i5},193:{f:ys},197:{},198:{},199:{},200:{},201:{},202:{f:Bt},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:qt},220:{},221:{f:Bt},222:{},224:{f:a5},225:{f:U8},226:{f:ys},227:{},229:{f:v5},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:$8},253:{f:J8},255:{f:H8},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:RA},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Bt},353:{f:ys},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:c5},431:{f:Bt},432:{},433:{},434:{},437:{},438:{f:w5},439:{f:Bt},440:{f:E5},441:{},442:{f:Du},443:{},444:{f:qt},445:{},446:{},448:{f:ys},449:{f:K8,r:2},450:{f:ys},512:{f:lw},513:{f:N5},515:{f:l5},516:{f:Z8},517:{f:cw},519:{f:D5},520:{f:W8},523:{},545:{f:dw},549:{f:ow},566:{},574:{f:X8},638:{f:r5},659:{},1048:{},1054:{f:e5},1084:{},1212:{f:d5},2048:{f:T5},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:kf},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:ys},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:I5,r:12},2173:{f:nV,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Bt,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:h5,r:12},2197:{},2198:{f:Q9,r:12},2199:{},2200:{},2201:{},2202:{f:p5,r:12},2203:{f:ys},2204:{},2205:{},2206:{},2207:{},2211:{f:G8},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:qt},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:R5},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:S5},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:lw},1:{},2:{f:L5},3:{f:O5},4:{f:b5},5:{f:cw},7:{f:M5},8:{},9:{f:kf},11:{},22:{f:qt},30:{f:t5},31:{},32:{},33:{f:dw},36:{},37:{f:ow},50:{f:V5},62:{},52:{},67:{},68:{f:qt},69:{},86:{},126:{},127:{f:F5},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:U5},223:{},234:{},354:{},421:{},518:{f:Hd},521:{f:kf},536:{f:hw},547:{f:fw},561:{},579:{},1030:{f:Hd},1033:{f:kf},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Wn(t,e,r,n){var i=e;if(!isNaN(i)){var s=(r||[]).length||0,a=t.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&gA(r)&&t.push(r)}}function kw(t,e){var r=e||{},n=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),a=i.index,o=s&&s.index||t.length,l=lM(t.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,h=0,d=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},x=[];for(a=0;a<l.length;++a){var v=l[a].trim(),y=v.slice(0,3).toLowerCase();if(y=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(y!="<td"&&y!="<th")){var k=v.split(/<\/t[dh]>/i);for(o=0;o<k.length;++o){var T=k[o].trim();if(T.match(/<t[dh]/i)){for(var w=T,D=0;w.charAt(0)=="<"&&(D=w.indexOf(">"))>-1;)w=w.slice(D+1);for(var B=0;B<x.length;++B){var U=x[B];U.s.c==u&&U.s.r<c&&c<=U.e.r&&(u=U.e.c+1,B=-1)}var g=Oe(T.slice(0,T.indexOf(">")));d=g.colspan?+g.colspan:1,((h=+g.rowspan)>1||d>1)&&x.push({s:{r:c,c:u},e:{r:c+(h||1)-1,c:u+d-1}});var E=g.t||g["data-t"]||"";if(!w.length){u+=d;continue}if(w=nA(w),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),!w.length){u+=d;continue}var S={t:"s",v:w};r.raw||!w.trim().length||E=="s"||(w==="TRUE"?S={t:"b",v:!0}:w==="FALSE"?S={t:"b",v:!1}:isNaN(ii(w))?isNaN(ol(w).getDate())||(S={t:"d",v:hr(w)},r.cellDates||(S={t:"n",v:Qr(S.v)}),S.z=r.dateNF||ze[14]):S={t:"n",v:ii(w)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=S):n[je({r:c,c:u})]=S,u+=d}}}}return n["!ref"]=tt(p),x.length&&(n["!merges"]=x),n}function VB(t,e,r,n){for(var i=t["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>r||i[c].s.c>a)&&!(i[c].e.r<r||i[c].e.c<a)){if(i[c].s.r<r||i[c].s.c<a){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var u=je({r,c:a}),h=n.dense?(t[r]||[])[a]:t[u],d=h&&h.v!=null&&(h.h||Fv(h.w||(us(h),h.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),n.editable?d='<span contenteditable="true">'+d+"</span>":h&&(p["data-t"]=h&&h.t||"z",h.v!=null&&(p["data-v"]=h.v),h.z!=null&&(p["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(d='<a href="'+h.l.Target+'">'+d+"</a>")),p.id=(n.id||"sjs")+"-"+u,s.push(kM("td",d,p))}}var x="<tr>";return x+s.join("")+"</tr>"}var UB='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',jB="</body></html>";function BB(t,e){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return oa(kw(r[0],e),e);var n=Qv();return r.forEach(function(i,s){Jv(n,kw(i,e),"Sheet"+(s+1))}),n}function zB(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function $B(t,e){var r=e||{},n=r.header!=null?r.header:UB,i=r.footer!=null?r.footer:jB,s=[n],a=_l(t["!ref"]);r.dense=Array.isArray(t),s.push(zB(t,a,r));for(var o=a.s.r;o<=a.e.r;++o)s.push(VB(t,a,o,r));return s.push("</table>"+i),s.join("")}function lI(t,e,r){var n=r||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var a=typeof n.origin=="string"?Gr(n.origin):n.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var u=_l(t["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),i==-1&&(c.e.r=i=u.e.r+1)}var h=[],d=0,p=t["!rows"]||(t["!rows"]=[]),x=0,v=0,y=0,k=0,T=0,w=0;for(t["!cols"]||(t["!cols"]=[]);x<o.length&&v<l;++x){var D=o[x];if(Sw(D)){if(n.display)continue;p[v]={hidden:!0}}var B=D.children;for(y=k=0;y<B.length;++y){var U=B[y];if(!(n.display&&Sw(U))){var g=U.hasAttribute("data-v")?U.getAttribute("data-v"):U.hasAttribute("v")?U.getAttribute("v"):nA(U.innerHTML),E=U.getAttribute("data-z")||U.getAttribute("z");for(d=0;d<h.length;++d){var S=h[d];S.s.c==k+s&&S.s.r<v+i&&v+i<=S.e.r&&(k=S.e.c+1-s,d=-1)}w=+U.getAttribute("colspan")||1,((T=+U.getAttribute("rowspan")||1)>1||w>1)&&h.push({s:{r:v+i,c:k+s},e:{r:v+i+(T||1)-1,c:k+s+(w||1)-1}});var C={t:"s",v:g},P=U.getAttribute("data-t")||U.getAttribute("t")||"";g!=null&&(g.length==0?C.t=P||"z":n.raw||g.trim().length==0||P=="s"||(g==="TRUE"?C={t:"b",v:!0}:g==="FALSE"?C={t:"b",v:!1}:isNaN(ii(g))?isNaN(ol(g).getDate())||(C={t:"d",v:hr(g)},n.cellDates||(C={t:"n",v:Qr(C.v)}),C.z=n.dateNF||ze[14]):C={t:"n",v:ii(g)})),C.z===void 0&&E!=null&&(C.z=E);var R="",b=U.getElementsByTagName("A");if(b&&b.length)for(var fe=0;fe<b.length&&!(b[fe].hasAttribute("href")&&(R=b[fe].getAttribute("href"),R.charAt(0)!="#"));++fe);R&&R.charAt(0)!="#"&&(C.l={Target:R}),n.dense?(t[v+i]||(t[v+i]=[]),t[v+i][k+s]=C):t[je({c:k+s,r:v+i})]=C,c.e.c<k+s&&(c.e.c=k+s),k+=w}}++v}return h.length&&(t["!merges"]=(t["!merges"]||[]).concat(h)),c.e.r=Math.max(c.e.r,v-1+i),t["!ref"]=tt(c),v>=l&&(t["!fullref"]=tt((c.e.r=o.length-x+v-1+i,c))),t}function cI(t,e){var r=e||{},n=r.dense?[]:{};return lI(n,t,e)}function HB(t,e){return oa(cI(t,e),e)}function Sw(t){var e="",r=WB(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function WB(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function GB(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=at(e.replace(/<[^>]*>/g,""));return[r]}var Aw={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function uI(t,e){var r=e||{},n=bv(t),i=[],s,a,o={name:""},l="",c=0,u,h,d={},p=[],x=r.dense?[]:{},v,y,k={value:""},T="",w=0,D=[],B=-1,U=-1,g={s:{r:1e6,c:1e7},e:{r:0,c:0}},E=0,S={},C=[],P={},R=0,b=0,fe=[],de=1,Se=1,oe=[],ie={Names:[]},G={},ce=["",""],Ee=[],j={},Y="",K=0,W=!1,ae=!1,xe=0;for(iu.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=iu.exec(n);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"":v[1]==="/"?(g.e.c>=g.s.c&&g.e.r>=g.s.r?x["!ref"]=tt(g):x["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=g.e.r&&(x["!fullref"]=x["!ref"],g.e.r=r.sheetRows-1,x["!ref"]=tt(g)),C.length&&(x["!merges"]=C),fe.length&&(x["!rows"]=fe),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),p.push(u.name),d[u.name]=x,ae=!1):v[0].charAt(v[0].length-2)!=="/"&&(u=Oe(v[0],!1),B=U=-1,g.s.r=g.s.c=1e7,g.e.r=g.e.c=0,x=r.dense?[]:{},C=[],fe=[],ae=!0);break;case"table-row-group":v[1]==="/"?--E:++E;break;case"table-row":case"":if(v[1]==="/"){B+=de,de=1;break}if(h=Oe(v[0],!1),h.?B=h.-1:B==-1&&(B=0),de=+h["number-rows-repeated"]||1,de<10)for(xe=0;xe<de;++xe)E>0&&(fe[B+xe]={level:E});U=-1;break;case"covered-table-cell":v[1]!=="/"&&++U,r.sheetStubs&&(r.dense?(x[B]||(x[B]=[]),x[B][U]={t:"z"}):x[je({r:B,c:U})]={t:"z"}),T="",D=[];break;case"table-cell":case"":if(v[0].charAt(v[0].length-2)==="/")++U,k=Oe(v[0],!1),Se=parseInt(k["number-columns-repeated"]||"1",10),y={t:"z",v:null},k.formula&&r.cellFormula!=!1&&(y.f=yw(at(k.formula))),(k.||k["value-type"])=="string"&&(y.t="s",y.v=at(k["string-value"]||""),r.dense?(x[B]||(x[B]=[]),x[B][U]=y):x[je({r:B,c:U})]=y),U+=Se-1;else if(v[1]!=="/"){++U,T="",w=0,D=[],Se=1;var ke=de?B+de-1:B;if(U>g.e.c&&(g.e.c=U),U<g.s.c&&(g.s.c=U),B<g.s.r&&(g.s.r=B),ke>g.e.r&&(g.e.r=ke),k=Oe(v[0],!1),Ee=[],j={},y={t:k.||k["value-type"],v:null},r.cellFormula)if(k.formula&&(k.formula=at(k.formula)),k["number-matrix-columns-spanned"]&&k["number-matrix-rows-spanned"]&&(R=parseInt(k["number-matrix-rows-spanned"],10)||0,b=parseInt(k["number-matrix-columns-spanned"],10)||0,P={s:{r:B,c:U},e:{r:B+R-1,c:U+b-1}},y.F=tt(P),oe.push([P,y.F])),k.formula)y.f=yw(k.formula);else for(xe=0;xe<oe.length;++xe)B>=oe[xe][0].s.r&&B<=oe[xe][0].e.r&&U>=oe[xe][0].s.c&&U<=oe[xe][0].e.c&&(y.F=oe[xe][1]);switch((k["number-columns-spanned"]||k["number-rows-spanned"])&&(R=parseInt(k["number-rows-spanned"],10)||0,b=parseInt(k["number-columns-spanned"],10)||0,P={s:{r:B,c:U},e:{r:B+R-1,c:U+b-1}},C.push(P)),k["number-columns-repeated"]&&(Se=parseInt(k["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=Nt(k["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(k.value);break;case"percentage":y.t="n",y.v=parseFloat(k.value);break;case"currency":y.t="n",y.v=parseFloat(k.value);break;case"date":y.t="d",y.v=hr(k["date-value"]),r.cellDates||(y.t="n",y.v=Qr(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=sM(k["time-value"])/86400,r.cellDates&&(y.t="d",y.v=$0(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(k.);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",k["string-value"]!=null&&(T=at(k["string-value"]),D=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(W=!1,y.t==="s"&&(y.v=T||"",D.length&&(y.R=D),W=w==0),G.Target&&(y.l=G),Ee.length>0&&(y.c=Ee,Ee=[]),T&&r.cellText!==!1&&(y.w=T),W&&(y.t="z",delete y.v),(!W||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=B))for(var he=0;he<de;++he){if(Se=parseInt(k["number-columns-repeated"]||"1",10),r.dense)for(x[B+he]||(x[B+he]=[]),x[B+he][U]=he==0?y:wr(y);--Se>0;)x[B+he][U+Se]=wr(y);else for(x[je({r:B+he,c:U})]=y;--Se>0;)x[je({r:B+he,c:U+Se})]=wr(y);g.e.c<=U&&(g.e.c=U)}Se=parseInt(k["number-columns-repeated"]||"1",10),U+=Se-1,Se=0,y={},T="",D=[]}G={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((s=i.pop())[0]!==v[3])throw"Bad state: "+s}else v[0].charAt(v[0].length-2)!=="/"&&i.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((s=i.pop())[0]!==v[3])throw"Bad state: "+s;j.t=T,D.length&&(j.R=D),j.a=Y,Ee.push(j)}else v[0].charAt(v[0].length-2)!=="/"&&i.push([v[3],!1]);Y="",K=0,T="",w=0,D=[];break;case"creator":v[1]==="/"?Y=n.slice(K,v.index):K=v.index+v[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((s=i.pop())[0]!==v[3])throw"Bad state: "+s}else v[0].charAt(v[0].length-2)!=="/"&&i.push([v[3],!1]);T="",w=0,D=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(S[o.name]=l,(s=i.pop())[0]!==v[3])throw"Bad state: "+s}else v[0].charAt(v[0].length-2)!=="/"&&(l="",o=Oe(v[0],!1),i.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":a=Oe(v[0],!1),l+=Aw[v[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":a=Oe(v[0],!1),l+=Aw[v[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,v.index);break}else c=v.index+v[0].length;break;case"named-range":a=Oe(v[0],!1),ce=Wd(a["cell-range-address"]);var me={Name:a.name,Ref:ce[0]+"!"+ce[1]};ae&&(me.Sheet=p.length),ie.Names.push(me);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(v[1]==="/"&&(!k||!k["string-value"])){var $e=GB(n.slice(w,v.index));T=(T.length>0?T+`
`:"")+$e[0]}else Oe(v[0],!1),w=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{ce=Wd(Oe(v[0])["target-range-address"]),d[ce[0]]["!autofilter"]={ref:ce[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(G=Oe(v[0],!1),!G.href)break;G.Target=at(G.href),delete G.href,G.Target.charAt(0)=="#"&&G.Target.indexOf(".")>-1?(ce=Wd(G.Target.slice(1)),G.Target="#"+ce[0]+"!"+ce[1]):G.Target.match(/^\.\.[\\\/]/)&&(G.Target=G.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(v)}}var z={Sheets:d,SheetNames:p,Workbook:ie};return r.bookSheets&&delete z.Sheets,z}function Iw(t,e){e=e||{},Nn(t,"META-INF/manifest.xml")&&l8(Kt(t,"META-INF/manifest.xml"),e);var r=vn(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=uI(wt(r),e);return Nn(t,"meta.xml")&&(n.Props=TA(Kt(t,"meta.xml"))),n}function Cw(t,e){return uI(t,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Kv(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Sm(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):wt(Za(t))}function Am(t){var e=t.reduce(function(i,s){return i+s.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function Rw(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function KB(t,e){for(var r=(t[e+15]&127)<<7|t[e+14]>>1,n=t[e+14]&1,i=e+13;i>=e;--i)n=n*256+t[i];return(t[e+15]&128?-n:n)*Math.pow(10,r-6176)}function lu(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function sr(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Mr(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=lu(t,r),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=r[0];t[r[0]++]>=128;);o=t.slice(l,r[0])}break;case 5:a=4,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 1:a=8,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 2:a=lu(t,r),o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var c={data:o,type:s};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function qv(t,e){return(t==null?void 0:t.map(function(r){return e(r.data)}))||[]}function qB(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=lu(t,n),s=Mr(t.slice(n[0],n[0]+i));n[0]+=i;var a={id:sr(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=Mr(o.data),c=sr(l[3][0].data);a.messages.push({meta:l,data:t.slice(n[0],n[0]+c)}),n[0]+=c}),(e=s[3])!=null&&e[0]&&(a.merge=sr(s[3][0].data)>>>0>0),r.push(a)}return r}function XB(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=lu(e,r),i=[];r[0]<e.length;){var s=e[r[0]]&3;if(s==0){var a=e[r[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[r[0]],o>1&&(a|=e[r[0]+1]<<8),o>2&&(a|=e[r[0]+2]<<16),o>3&&(a|=e[r[0]+3]<<24),a>>>=0,a++,r[0]+=o}i.push(e.slice(r[0],r[0]+a)),r[0]+=a;continue}else{var l=0,c=0;if(s==1?(c=(e[r[0]]>>2&7)+4,l=(e[r[0]++]&224)<<3,l|=e[r[0]++]):(c=(e[r[0]++]>>2)+1,s==2?(l=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(l=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[Am(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var u=Am(i);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function YB(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(XB(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Am(e)}function QB(t,e,r,n){var i=Kv(t),s=i.getUint32(4,!0),a=(n>1?12:8)+Rw(s&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);s&512&&(o=i.getUint32(a,!0),a+=4),a+=Rw(s&(n>1?12288:4096))*4,s&16&&(l=i.getUint32(a,!0),a+=4),s&32&&(c=i.getFloat64(a,!0),a+=8),s&64&&(u.setTime(u.getTime()+i.getFloat64(a,!0)*1e3),a+=8);var h;switch(t[2]){case 0:break;case 2:h={t:"n",v:c};break;case 3:h={t:"s",v:e[l]};break;case 5:h={t:"d",v:u};break;case 6:h={t:"b",v:c>0};break;case 7:h={t:"n",v:c/86400};break;case 8:h={t:"e",v:0};break;case 9:if(o>-1)h={t:"s",v:r[o]};else if(l>-1)h={t:"s",v:e[l]};else if(!isNaN(c))h={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return h}function JB(t,e,r){var n=Kv(t),i=n.getUint32(8,!0),s=12,a=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);i&1&&(l=KB(t,s),s+=16),i&2&&(c=n.getFloat64(s,!0),s+=8),i&4&&(u.setTime(u.getTime()+n.getFloat64(s,!0)*1e3),s+=8),i&8&&(o=n.getUint32(s,!0),s+=4),i&16&&(a=n.getUint32(s,!0),s+=4);var h;switch(t[1]){case 0:break;case 2:h={t:"n",v:l};break;case 3:h={t:"s",v:e[o]};break;case 5:h={t:"d",v:u};break;case 6:h={t:"b",v:c>0};break;case 7:h={t:"n",v:c/86400};break;case 8:h={t:"e",v:0};break;case 9:if(a>-1)h={t:"s",v:r[a]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:h={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return h}function ZB(t,e,r){switch(t[0]){case 0:case 1:case 2:case 3:return QB(t,e,r,t[0]);case 5:return JB(t,e,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function Ks(t){var e=Mr(t);return lu(e[1][0].data)}function Nw(t,e){var r=Mr(e.data),n=sr(r[1][0].data),i=r[3],s=[];return(i||[]).forEach(function(a){var o=Mr(a.data),l=sr(o[1][0].data)>>>0;switch(n){case 1:s[l]=Sm(o[3][0].data);break;case 8:{var c=t[Ks(o[9][0].data)][0],u=Mr(c.data),h=t[Ks(u[1][0].data)][0],d=sr(h.meta[1][0].data);if(d!=2001)throw new Error("2000 unexpected reference to ".concat(d));var p=Mr(h.data);s[l]=p[3].map(function(x){return Sm(x.data)}).join("")}break}}),s}function e7(t,e){var r,n,i,s,a,o,l,c,u,h,d,p,x,v,y=Mr(t),k=sr(y[1][0].data)>>>0,T=sr(y[2][0].data)>>>0,w=((n=(r=y[8])==null?void 0:r[0])==null?void 0:n.data)&&sr(y[8][0].data)>0||!1,D,B;if((s=(i=y[7])==null?void 0:i[0])!=null&&s.data&&e!=0)D=(o=(a=y[7])==null?void 0:a[0])==null?void 0:o.data,B=(c=(l=y[6])==null?void 0:l[0])==null?void 0:c.data;else if((h=(u=y[4])==null?void 0:u[0])!=null&&h.data&&e!=1)D=(p=(d=y[4])==null?void 0:d[0])==null?void 0:p.data,B=(v=(x=y[3])==null?void 0:x[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var U=w?4:1,g=Kv(D),E=[],S=0;S<D.length/2;++S){var C=g.getUint16(S*2,!0);C<65535&&E.push([S,C])}if(E.length!=T)throw"Expected ".concat(T," cells, found ").concat(E.length);var P=[];for(S=0;S<E.length-1;++S)P[E[S][0]]=B.subarray(E[S][1]*U,E[S+1][1]*U);return E.length>=1&&(P[E[E.length-1][0]]=B.subarray(E[E.length-1][1]*U)),{R:k,cells:P}}function t7(t,e){var r,n=Mr(e.data),i=(r=n==null?void 0:n[7])!=null&&r[0]?sr(n[7][0].data)>>>0>0?1:0:-1,s=qv(n[5],function(a){return e7(a,i)});return{nrows:sr(n[4][0].data)>>>0,data:s.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(l,c){if(a[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));a[o.R][c]=l}),a},[])}}function r7(t,e,r){var n,i=Mr(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(sr(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(sr(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=tt(s);var a=Mr(i[4][0].data),o=Nw(t,t[Ks(a[4][0].data)][0]),l=(n=a[17])!=null&&n[0]?Nw(t,t[Ks(a[17][0].data)][0]):[],c=Mr(a[3][0].data),u=0;c[1].forEach(function(h){var d=Mr(h.data),p=t[Ks(d[2][0].data)][0],x=sr(p.meta[1][0].data);if(x!=6002)throw new Error("6001 unexpected reference to ".concat(x));var v=t7(t,p);v.data.forEach(function(y,k){y.forEach(function(T,w){var D=je({r:u+k,c:w}),B=ZB(T,o,l);B&&(r[D]=B)})}),u+=v.nrows})}function n7(t,e){var r=Mr(e.data),n={"!ref":"A1"},i=t[Ks(r[2][0].data)],s=sr(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return r7(t,i[0],n),n}function i7(t,e){var r,n=Mr(e.data),i={name:(r=n[1])!=null&&r[0]?Sm(n[1][0].data):"",sheets:[]},s=qv(n[2],Ks);return s.forEach(function(a){t[a].forEach(function(o){var l=sr(o.meta[1][0].data);l==6e3&&i.sheets.push(n7(t,o))})}),i}function s7(t,e){var r=Qv(),n=Mr(e.data),i=qv(n[1],Ks);if(i.forEach(function(s){t[s].forEach(function(a){var o=sr(a.meta[1][0].data);if(o==2){var l=i7(t,a);l.sheets.forEach(function(c,u){Jv(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Kd(t){var e,r,n,i,s={},a=[];if(t.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=YB(l.content)}catch(h){return console.log("?? "+l.content.length+" "+(h.message||h))}var u;try{u=qB(c)}catch(h){return console.log("## "+(h.message||h))}u.forEach(function(h){s[h.id]=h.messages,a.push(h.id)})}}),!a.length)throw new Error("File has no messages");var o=((i=(n=(r=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&sr(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||a.forEach(function(l){s[l].forEach(function(c){var u=sr(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return s7(s,o)}function a7(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function Xv(t){a7([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function o7(t){return No.WS.indexOf(t)>-1?"sheet":t==No.CS?"chart":t==No.DS?"dialog":t==No.MS?"macro":t&&t.length?t:"sheet"}function l7(t,e){if(!t)return 0;try{t=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,t["!id"][n.id].Target,o7(t["!id"][n.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function c7(t,e,r,n,i,s,a,o,l,c,u,h){try{s[n]=_c(vn(t,r,!0),e);var d=Kt(t,e),p;switch(o){case"sheet":p=mB(d,e,i,l,s[n],c,u,h);break;case"chart":if(p=gB(d,e,i,l,s[n],c,u,h),!p||!p["!drawel"])break;var x=Zl(p["!drawel"].Target,e),v=ym(x),y=pV(vn(t,x,!0),_c(vn(t,v,!0),x)),k=Zl(y,x),T=ym(k);p=Jj(vn(t,k,!0),k,l,_c(vn(t,T,!0),k),c,p);break;case"macro":p=vB(d,e,i,l,s[n],c,u,h);break;case"dialog":p=xB(d,e,i,l,s[n],c,u,h);break;default:throw new Error("Unrecognized sheet type "+o)}a[n]=p;var w=[];s&&s[n]&&Ai(s[n]).forEach(function(D){var B="";if(s[n][D].Type==No.CMNT){B=Zl(s[n][D].Target,e);var U=EB(Kt(t,B,!0),B,l);if(!U||!U.length)return;mw(p,U,!1)}s[n][D].Type==No.TCMNT&&(B=Zl(s[n][D].Target,e),w=w.concat(gV(Kt(t,B,!0),l)))}),w&&w.length&&mw(p,w,!0,l.people||[])}catch(D){if(l.WTF)throw D}}function Cn(t){return t.charAt(0)=="/"?t.slice(1):t}function u7(t,e){if(qS(),e=e||{},Xv(e),Nn(t,"META-INF/manifest.xml")||Nn(t,"objectdata.xml"))return Iw(t,e);if(Nn(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Kd<"u"){if(t.FileIndex)return Kd(t);var r=et.utils.cfb_new();return zy(t).forEach(function(fe){fM(r,fe,uM(t,fe))}),Kd(r)}throw new Error("Unsupported NUMBERS file")}if(!Nn(t,"[Content_Types].xml"))throw Nn(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Nn(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=zy(t),i=a8(vn(t,"[Content_Types].xml")),s=!1,a,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",Kt(t,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!Kt(t,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},c={};if(!e.bookSheets&&!e.bookProps){if(Ec=[],i.sst)try{Ec=wB(Kt(t,Cn(i.sst)),i.sst,e)}catch(fe){if(e.WTF)throw fe}e.cellStyles&&i.themes.length&&(l=yB(vn(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(c=_B(Kt(t,Cn(i.style)),i.style,l,e))}i.links.map(function(fe){try{var de=_c(vn(t,ym(Cn(fe))),fe);return kB(Kt(t,Cn(fe)),de,fe,e)}catch{}});var u=pB(Kt(t,Cn(i.workbooks[0])),i.workbooks[0],e),h={},d="";i.coreprops.length&&(d=Kt(t,Cn(i.coreprops[0]),!0),d&&(h=TA(d)),i.extprops.length!==0&&(d=Kt(t,Cn(i.extprops[0]),!0),d&&f8(d,h,e)));var p={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(d=vn(t,Cn(i.custprops[0]),!0),d&&(p=d8(d,e)));var x={};if((e.bookSheets||e.bookProps)&&(u.Sheets?a=u.Sheets.map(function(de){return de.name}):h.Worksheets&&h.SheetNames.length>0&&(a=h.SheetNames),e.bookProps&&(x.Props=h,x.Custprops=p),e.bookSheets&&typeof a<"u"&&(x.SheetNames=a),e.bookSheets?x.SheetNames:e.bookProps))return x;a={};var v={};e.bookDeps&&i.calcchain&&(v=TB(Kt(t,Cn(i.calcchain)),i.calcchain));var y=0,k={},T,w;{var D=u.Sheets;h.Worksheets=D.length,h.SheetNames=[];for(var B=0;B!=D.length;++B)h.SheetNames[B]=D[B].name}var U=s?"bin":"xml",g=i.workbooks[0].lastIndexOf("/"),E=(i.workbooks[0].slice(0,g+1)+"_rels/"+i.workbooks[0].slice(g+1)+".rels").replace(/^\//,"");Nn(t,E)||(E="xl/_rels/workbook."+U+".rels");var S=_c(vn(t,E,!0),E.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=SB(Kt(t,Cn(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=vV(Kt(t,Cn(i.people[0])),e)),S&&(S=l7(S,u.Sheets));var C=Kt(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=h.Worksheets;++y){var P="sheet";if(S&&S[y]?(T="xl/"+S[y][1].replace(/[\/]?xl\//,""),Nn(t,T)||(T=S[y][1]),Nn(t,T)||(T=E.replace(/_rels\/.*$/,"")+S[y][1]),P=S[y][2]):(T="xl/worksheets/sheet"+(y+1-C)+"."+U,T=T.replace(/sheet0\./,"sheet.")),w=T.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(y!=e.sheets)continue e;break;case"string":if(h.SheetNames[y].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var R=!1,b=0;b!=e.sheets.length;++b)typeof e.sheets[b]=="number"&&e.sheets[b]==y&&(R=1),typeof e.sheets[b]=="string"&&e.sheets[b].toLowerCase()==h.SheetNames[y].toLowerCase()&&(R=1);if(!R)continue e}}c7(t,T,w,h.SheetNames[y],y,k,a,P,e,u,l,c)}return x={Directory:i,Workbook:u,Props:h,Custprops:p,Deps:v,Sheets:a,SheetNames:h.SheetNames,Strings:Ec,Styles:c,Themes:l,SSF:wr(ze)},e&&e.bookFiles&&(t.files?(x.keys=n,x.files=t.files):(x.keys=[],x.files={},t.FullPaths.forEach(function(fe,de){fe=fe.replace(/^Root Entry[\/]/,""),x.keys.push(fe),x.files[fe]=t.FileIndex[de]}))),e&&e.bookVBA&&(i.vba.length>0?x.vbaraw=Kt(t,Cn(i.vba[0]),!0):i.defaults&&i.defaults.bin===wV&&(x.vbaraw=Kt(t,"xl/vbaProject.bin",!0))),x}function f7(t,e){var r=e||{},n="Workbook",i=et.find(t,n);try{if(n="/!DataSpaces/Version",i=et.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(n9(i.content),n="/!DataSpaces/DataSpaceMap",i=et.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=s9(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=et.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=a9(i.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=et.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);l9(i.content)}catch{}if(n="/EncryptionInfo",i=et.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=c9(i.content);if(n="/EncryptedPackage",i=et.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function Yv(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=En(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function h7(t,e){return et.find(t,"EncryptedPackage")?f7(t,e):oI(t,e)}function d7(t,e){var r,n=t,i=e||{};return i.type||(i.type=Qe&&Buffer.isBuffer(t)?"buffer":"base64"),r=eA(n,i),u7(r,i)}function fI(t,e){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return Tm(t.slice(r),e);default:break e}return su.to_workbook(t,e)}function p7(t,e){var r="",n=Yv(t,e);switch(e.type){case"base64":r=En(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=za(t);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=wt(r)),e.type="binary",fI(r,e)}function m7(t,e){var r=t;return e.type=="base64"&&(r=En(r)),r=tu.utils.decode(1200,r.slice(2),"str"),e.type="binary",fI(r,e)}function g7(t){return t.match(/[^\x00-\x7F]/)?ec(t):t}function qd(t,e,r,n){return n?(r.type="string",su.to_workbook(t,r)):su.to_workbook(e,r)}function Im(t,e){LS();var r=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return Im(new Uint8Array(t),(r=wr(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=t,i=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),$o={},r.dateNF&&($o.dateNF=r.dateNF),r.type||(r.type=Qe&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=Qe?"buffer":"binary",n=nM(t),typeof Uint8Array<"u"&&!Qe&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=g7(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return r=wr(r),r.type="array",Im(Cv(n),r)}switch((i=Yv(n,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return h7(et.read(n,r),r);break;case 9:if(i[1]<=8)return oI(n,r);break;case 60:return Tm(n,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return H5(n,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return z5.to_workbook(n,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?d7(n,r):qd(t,n,r,s);case 239:return i[3]===60?Tm(n,r):qd(t,n,r,s);case 255:if(i[1]===254)return m7(n,r);if(i[1]===0&&i[2]===2&&i[3]===0)return wc.to_workbook(n,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return wc.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return pw.to_workbook(n,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return w9.to_workbook(n,r);break;case 10:case 13:case 32:return p7(n,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return j5.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?pw.to_workbook(n,r):qd(t,n,r,s)}function v7(t,e,r,n,i,s,a,o){var l=Er(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),h=!0,d=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:r,enumerable:!1})}catch{d.__rowNum__=r}else d.__rowNum__=r;if(!a||t[r])for(var p=e.s.c;p<=e.e.c;++p){var x=a?t[r][p]:t[n[p]+l];if(x===void 0||x.t===void 0){if(c===void 0)continue;s[p]!=null&&(d[s[p]]=c);continue}var v=x.v;switch(x.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(s[p]!=null){if(v==null)if(x.t=="e"&&v===null)d[s[p]]=null;else if(c!==void 0)d[s[p]]=c;else if(u&&v===null)d[s[p]]=null;else continue;else d[s[p]]=u&&(x.t!=="n"||x.t==="n"&&o.rawNumbers!==!1)?v:us(x,v,o);v!=null&&(h=!1)}}return{row:d,isempty:h}}function Cm(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},u=c.range!=null?c.range:t["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=jt(u);break;case"number":l=jt(t["!ref"]),l.s.r=u;break;default:l=u}n>0&&(i=0);var h=Er(l.s.r),d=[],p=[],x=0,v=0,y=Array.isArray(t),k=l.s.r,T=0,w={};y&&!t[k]&&(t[k]=[]);var D=c.skipHidden&&t["!cols"]||[],B=c.skipHidden&&t["!rows"]||[];for(T=l.s.c;T<=l.e.c;++T)if(!(D[T]||{}).hidden)switch(d[T]=nr(T),r=y?t[k][T]:t[d[T]+h],n){case 1:s[T]=T-l.s.c;break;case 2:s[T]=d[T];break;case 3:s[T]=c.header[T-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=a=us(r,null,c),v=w[a]||0,!v)w[a]=1;else{do o=a+"_"+v++;while(w[o]);w[a]=v,w[o]=1}s[T]=o}for(k=l.s.r+i;k<=l.e.r;++k)if(!(B[k]||{}).hidden){var U=v7(t,l,k,d,n,s,y,c);(U.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(p[x++]=U.row)}return p.length=x,p}var Pw=/"/g;function x7(t,e,r,n,i,s,a,o){for(var l=!0,c=[],u="",h=Er(r),d=e.s.c;d<=e.e.c;++d)if(n[d]){var p=o.dense?(t[r]||[])[d]:t[n[d]+h];if(p==null)u="";else if(p.v!=null){l=!1,u=""+(o.rawNumbers&&p.t=="n"?p.v:us(p,null,o));for(var x=0,v=0;x!==u.length;++x)if((v=u.charCodeAt(x))===i||v===s||v===34||o.forceQuotes){u='"'+u.replace(Pw,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(l=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(Pw,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(a)}function hI(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=jt(t["!ref"]),s=n.FS!==void 0?n.FS:",",a=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),u="",h=[];n.dense=Array.isArray(t);for(var d=n.skipHidden&&t["!cols"]||[],p=n.skipHidden&&t["!rows"]||[],x=i.s.c;x<=i.e.c;++x)(d[x]||{}).hidden||(h[x]=nr(x));for(var v=0,y=i.s.r;y<=i.e.r;++y)(p[y]||{}).hidden||(u=x7(t,i,y,h,a,l,s,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((v++?o:"")+u)));return delete n.dense,r.join("")}function _7(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=hI(t,e);return r}function y7(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=jt(t["!ref"]),s="",a=[],o,l=[],c=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)a[o]=nr(o);for(var u=i.s.r;u<=i.e.r;++u)for(s=Er(u),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,r=c?(t[u]||[])[o]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=e+"="+n}return l}function dI(t,e,r){var n=r||{},i=+!n.skipHeader,s=t||{},a=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?Gr(n.origin):n.origin;a=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var h=jt(s["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),a==-1&&(a=h.e.r+1,u.e.r=a+e.length-1+i)}else a==-1&&(a=0,u.e.r=e.length-1+i);var d=n.header||[],p=0;e.forEach(function(v,y){Ai(v).forEach(function(k){(p=d.indexOf(k))==-1&&(d[p=d.length]=k);var T=v[k],w="z",D="",B=je({c:o+p,r:a+y+i});c=cu(s,B),T&&typeof T=="object"&&!(T instanceof Date)?s[B]=T:(typeof T=="number"?w="n":typeof T=="boolean"?w="b":typeof T=="string"?w="s":T instanceof Date?(w="d",n.cellDates||(w="n",T=Qr(T)),D=n.dateNF||ze[14]):T===null&&n.nullError&&(w="e",T=0),c?(c.t=w,c.v=T,delete c.w,delete c.R,D&&(c.z=D)):s[B]=c={t:w,v:T},D&&(c.z=D))})}),u.e.c=Math.max(u.e.c,o+d.length-1);var x=Er(a);if(i)for(p=0;p<d.length;++p)s[nr(p+o)+x]={t:"s",v:d[p]};return s["!ref"]=tt(u),s}function w7(t,e){return dI(null,t,e)}function cu(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Gr(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?cu(t,je(e)):cu(t,je({r:e,c:r||0}))}function E7(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function Qv(){return{SheetNames:[],Sheets:{}}}function Jv(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=a+i)!=-1;++i);}if(aB(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function T7(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=E7(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function k7(t,e){return t.z=e,t}function pI(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function S7(t,e,r){return pI(t,"#"+e,r)}function A7(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function I7(t,e,r,n){for(var i=typeof e!="string"?e:jt(e),s=typeof e=="string"?e:tt(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=cu(t,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=r,n&&(l.D=!0))}return t}var C7={encode_col:nr,encode_row:Er,encode_cell:je,encode_range:tt,decode_col:Mv,decode_row:Lv,split_cell:UM,decode_cell:Gr,decode_range:_l,format_cell:us,sheet_add_aoa:xA,sheet_add_json:dI,sheet_add_dom:lI,aoa_to_sheet:yl,json_to_sheet:w7,table_to_sheet:cI,table_to_book:HB,sheet_to_csv:hI,sheet_to_txt:_7,sheet_to_json:Cm,sheet_to_html:$B,sheet_to_formulae:y7,sheet_to_row_object_array:Cm,sheet_get_cell:cu,book_new:Qv,book_append_sheet:Jv,book_set_sheet_visibility:T7,cell_set_number_format:k7,cell_set_hyperlink:pI,cell_set_internal_link:S7,cell_add_comment:A7,sheet_set_array_formula:I7,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const R7=()=>{var Se;const t=Ka(),{currentUser:e,userProfile:r}=ds(),[n,i]=X.useState("tmdb"),[s,a]=X.useState(!1),[o,l]=X.useState(null),[c,u]=X.useState(null),[h,d]=X.useState(""),[p,x]=X.useState([]),[v,y]=X.useState(null),[k,T]=X.useState(""),[w,D]=X.useState(null),[B,U]=X.useState([]),[g,E]=X.useState(0),[S,C]=X.useState(0);X.useEffect(()=>{r!=null&&r.tmdbApiKey&&T(r.tmdbApiKey)},[r]);const P=async()=>{if(!(!h.trim()||!k))try{a(!0),l(null),y(null);const oe=await Ay(h,k);x(oe.results)}catch(oe){console.error("Search error:",oe),l(oe.message||"Failed to search movies")}finally{a(!1)}},R=async oe=>{try{a(!0),l(null);const ie=await Iy(oe.id,k);y(ie)}catch(ie){console.error("Error fetching movie details:",ie),l(ie.message||"Failed to fetch movie details")}finally{a(!1)}},b=async()=>{if(!(!e||!v))try{a(!0),l(null);const oe=Zc(Xr,"movies"),ie=dy(oe,py("tmdbId","==",v.id)),G=await eu(ie);let ce;if(G.empty){const Ee={...Cy(v),addedAt:new Date,updatedAt:new Date};ce=(await vy(oe,Ee)).id}else ce=G.docs[0].id;if(await vm(e.uid,ce,{userId:e.uid,movieId:ce,watched:!1,favorite:!1}),u("Movie added to your collection!"),y(null),x([]),d(""),k&&k!==(r==null?void 0:r.tmdbApiKey)){const Ee=li(Xr,"users",e.uid);await jh(Ee,{tmdbApiKey:k},{merge:!0})}setTimeout(()=>{t(`/movies/${ce}`)},1500)}catch(oe){console.error("Error adding movie:",oe),l(oe.message||"Failed to add movie to collection")}finally{a(!1)}},fe=oe=>{var ce;const ie=(ce=oe.target.files)==null?void 0:ce[0];if(!ie)return;D(ie);const G=new FileReader;G.onload=Ee=>{var j;try{const Y=(j=Ee.target)==null?void 0:j.result,K=Im(Y,{type:"binary"}),W=K.SheetNames[0],ae=K.Sheets[W],ke=C7.sheet_to_json(ae).map(he=>({title:he.title||he.Title||he.name||he.Name||"",releaseDate:he.releaseDate||he.ReleaseDate||he.release_date||he.year||he.Year||"",watched:he.watched||he.Watched||!1,rating:he.rating||he.Rating||null,review:he.review||he.Review||he.notes||he.Notes||""})).filter(he=>he.title);U(ke),C(ke.length)}catch(Y){console.error("Error parsing Excel file:",Y),l("Failed to parse Excel file. Please check the format.")}},G.onerror=()=>{l("Failed to read Excel file")},G.readAsBinaryString(ie)},de=async()=>{if(!e||!B.length||!k){k||l("TMDB API key is required for Excel import to match movies");return}try{a(!0),l(null),E(0);const oe=Zc(Xr,"movies");let ie=0,G=0,ce=0;for(const j of B){try{const Y=`${j.title} ${j.releaseDate||""}`,K=await Ay(Y.trim(),k);if(K.results.length===0){console.warn(`No TMDB match found for: ${j.title}`),G++;continue}const W=K.results[0],ae=await Iy(W.id,k),xe=dy(oe,py("tmdbId","==",ae.id)),ke=await eu(xe);let he;if(ke.empty){const me={...Cy(ae),addedAt:new Date,updatedAt:new Date};he=(await vy(oe,me)).id}else he=ke.docs[0].id;await vm(e.uid,he,{userId:e.uid,movieId:he,watched:j.watched||!1,rating:j.rating||null,review:j.review||"",favorite:!1}),ie++}catch(Y){console.error(`Error importing movie ${j.title}:`,Y),ce++}E(Math.round((ie+G+ce)/B.length*100))}const Ee=`Import complete: ${ie} movies imported, ${G} skipped, ${ce} errors.`;u(Ee),U([]),D(null),setTimeout(()=>{t("/movies")},2e3)}catch(oe){console.error("Error importing movies:",oe),l(oe.message||"Failed to import movies")}finally{a(!1)}};return m.jsxs("div",{className:"container mx-auto px-4 py-8",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs(it,{to:"/movies",className:"btn btn-ghost",children:[m.jsx("i",{className:"fas fa-arrow-left mr-2"})," Back to Movies"]}),m.jsxs(it,{to:"/profile",className:"btn btn-outline btn-primary",children:[m.jsx("i",{className:"fas fa-user-cog mr-2"})," Profile Settings"]})]}),m.jsx("h1",{className:"font-christmas text-3xl md:text-4xl text-xmas-line mb-6",children:"Import Movies"}),o&&m.jsxs("div",{className:"alert alert-error mb-6",children:[m.jsx("i",{className:"fas fa-exclamation-circle mr-2"}),m.jsx("span",{children:o})]}),c&&m.jsxs("div",{className:"alert alert-success mb-6",children:[m.jsx("i",{className:"fas fa-check-circle mr-2"}),m.jsx("span",{children:c})]}),m.jsxs("div",{className:"tabs tabs-boxed mb-6",children:[m.jsxs("button",{className:`tab ${n==="tmdb"?"tab-active":""}`,onClick:()=>i("tmdb"),children:[m.jsx("i",{className:"fas fa-search mr-2"})," Search TMDB"]}),m.jsxs("button",{className:`tab ${n==="excel"?"tab-active":""}`,onClick:()=>i("excel"),children:[m.jsx("i",{className:"fas fa-file-excel mr-2"})," Import from Excel"]})]}),n==="tmdb"&&m.jsxs("div",{className:"bg-xmas-card p-6 rounded-lg shadow-lg",children:[k?null:m.jsxs("div",{className:"alert alert-warning mb-6",children:[m.jsx("i",{className:"fas fa-exclamation-triangle mr-2"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-bold",children:"TMDB API Key Required"}),m.jsx("p",{className:"text-sm",children:"You need to set your TMDB API key in your profile settings to search for movies."})]}),m.jsxs(it,{to:"/profile",className:"btn btn-sm btn-primary",children:[m.jsx("i",{className:"fas fa-user-cog mr-2"})," Set API Key"]})]}),m.jsxs("div",{className:"flex gap-2 mb-6",children:[m.jsx("input",{type:"text",className:"input input-bordered flex-1",placeholder:"Search for a Christmas movie...",value:h,onChange:oe=>d(oe.target.value),onKeyDown:oe=>oe.key==="Enter"&&P()}),m.jsx("button",{className:"btn btn-primary",onClick:P,disabled:s||!k,children:s?m.jsx("span",{className:"loading loading-spinner loading-sm"}):m.jsx("i",{className:"fas fa-search"})})]}),p.length>0&&!v&&m.jsxs("div",{className:"mb-6",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"Search Results"}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:p.map(oe=>{var ie;return m.jsxs("div",{className:"card bg-base-100 shadow-xl cursor-pointer hover:shadow-2xl transition-shadow",onClick:()=>R(oe),children:[m.jsx("figure",{className:"h-48",children:oe.poster_path?m.jsx("img",{src:`https://image.tmdb.org/t/p/w500${oe.poster_path}`,alt:oe.title,className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-800",children:m.jsx("i",{className:"fas fa-film text-4xl text-gray-500"})})}),m.jsxs("div",{className:"card-body p-4",children:[m.jsx("h3",{className:"card-title text-lg",children:oe.title}),m.jsx("p",{className:"text-sm text-gray-400",children:(ie=oe.release_date)==null?void 0:ie.substring(0,4)})]})]},oe.id)})})]}),v&&m.jsxs("div",{className:"mb-6",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"Selected Movie"}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[m.jsx("div",{className:"md:w-1/3",children:v.poster_path?m.jsx("img",{src:`https://image.tmdb.org/t/p/w500${v.poster_path}`,alt:v.title,className:"w-full rounded-lg shadow-lg"}):m.jsx("div",{className:"w-full h-96 flex items-center justify-center bg-gray-800 rounded-lg",children:m.jsx("i",{className:"fas fa-film text-6xl text-gray-500"})})}),m.jsxs("div",{className:"md:w-2/3",children:[m.jsx("h3",{className:"text-2xl font-bold mb-2",children:v.title}),m.jsx("p",{className:"text-gray-400 mb-4",children:(Se=v.release_date)==null?void 0:Se.substring(0,4)}),v.genres&&m.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:v.genres.map(oe=>m.jsx("span",{className:"badge badge-outline",children:oe.name},oe.id))}),m.jsx("p",{className:"mb-6",children:v.overview}),m.jsx("button",{className:"btn btn-primary",onClick:b,disabled:s,children:s?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"loading loading-spinner loading-sm mr-2"}),"Adding..."]}):m.jsxs(m.Fragment,{children:[m.jsx("i",{className:"fas fa-plus mr-2"}),"Add to Collection"]})}),m.jsx("button",{className:"btn btn-ghost ml-2",onClick:()=>y(null),disabled:s,children:"Cancel"})]})]})]})]}),n==="excel"&&m.jsxs("div",{className:"bg-xmas-card p-6 rounded-lg shadow-lg",children:[k?null:m.jsxs("div",{className:"alert alert-warning mb-6",children:[m.jsx("i",{className:"fas fa-exclamation-triangle mr-2"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-bold",children:"TMDB API Key Required"}),m.jsx("p",{className:"text-sm",children:"You need to set your TMDB API key in your profile settings to import movies from Excel."})]}),m.jsxs(it,{to:"/profile",className:"btn btn-sm btn-primary",children:[m.jsx("i",{className:"fas fa-user-cog mr-2"})," Set API Key"]})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"Import from Excel"}),m.jsx("p",{className:"mb-4",children:"Upload an Excel file with your Christmas movie list. The file should have columns for:"}),m.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[m.jsx("li",{children:"Title (required)"}),m.jsx("li",{children:"Release Date/Year (optional)"}),m.jsx("li",{children:"Watched (optional, true/false)"}),m.jsx("li",{children:"Rating (optional, 1-10)"}),m.jsx("li",{children:"Review/Notes (optional)"})]})]}),m.jsx("div",{className:"mb-6",children:m.jsx("input",{type:"file",className:"file-input file-input-bordered w-full",accept:".xlsx,.xls",onChange:fe,disabled:s})}),B.length>0&&m.jsxs("div",{className:"mb-6",children:[m.jsxs("h3",{className:"text-lg font-bold mb-2",children:["Preview (",B.length," movies found)"]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"table table-zebra w-full",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Title"}),m.jsx("th",{children:"Year"}),m.jsx("th",{children:"Watched"}),m.jsx("th",{children:"Rating"})]})}),m.jsxs("tbody",{children:[B.slice(0,10).map((oe,ie)=>m.jsxs("tr",{children:[m.jsx("td",{children:oe.title}),m.jsx("td",{children:oe.releaseDate}),m.jsx("td",{children:oe.watched?"Yes":"No"}),m.jsx("td",{children:oe.rating||"-"})]},ie)),B.length>10&&m.jsx("tr",{children:m.jsxs("td",{colSpan:4,className:"text-center",children:["...and ",B.length-10," more"]})})]})]})}),g>0&&m.jsxs("div",{className:"mt-4",children:[m.jsx("progress",{className:"progress progress-primary w-full",value:g,max:"100"}),m.jsxs("p",{className:"text-center mt-2",children:[g,"% complete"]})]}),m.jsx("div",{className:"mt-6 flex justify-end",children:m.jsx("button",{className:"btn btn-primary",onClick:de,disabled:s||!k,children:s?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"loading loading-spinner loading-sm mr-2"}),"Importing..."]}):m.jsxs(m.Fragment,{children:[m.jsx("i",{className:"fas fa-file-import mr-2"}),"Import ",B.length," Movies"]})})})]})]})]})},N7=()=>{var y,k,T;const{currentUser:t}=ds(),[e,r]=X.useState([]),[n,i]=X.useState({}),[s,a]=X.useState(!0),[o,l]=X.useState(null),[c,u]=X.useState(null),[h,d]=X.useState(!1),[p,x]=X.useState(!1);X.useEffect(()=>{(async()=>{if(t)try{a(!0);const{userMovies:D,movies:B}=await Sv(t.uid);i(D),r(B)}catch(D){console.error("Error fetching movies:",D),l("Failed to load movies")}finally{a(!1)}})()},[t]);const v=()=>{if(e.length===0)return;x(!0),u(null);const w=e.filter(g=>{const E=n[g.id];return h||!E||!E.watched});if(w.length===0){l("No eligible movies found. Try including watched movies."),x(!1);return}let D=0;const B=20,U=setInterval(()=>{const g=Math.floor(Math.random()*w.length);u(w[g]),D++,D>=B&&(clearInterval(U),x(!1))},100)};return s?m.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-xmas-gold"})}):m.jsxs("div",{className:"container mx-auto px-4 py-8",children:[m.jsx("div",{className:"mb-4",children:m.jsxs(it,{to:"/movies",className:"btn btn-ghost",children:[m.jsx("i",{className:"fas fa-arrow-left mr-2"})," Back to Movies"]})}),m.jsx("h1",{className:"font-christmas text-3xl md:text-4xl text-xmas-line mb-6",children:"Christmas Movie Picker"}),o&&m.jsxs("div",{className:"alert alert-error mb-6",children:[m.jsx("i",{className:"fas fa-exclamation-circle mr-2"}),m.jsx("span",{children:o})]}),e.length===0?m.jsxs("div",{className:"bg-xmas-card p-8 rounded-lg text-center",children:[m.jsx("h3",{className:"text-xl mb-4",children:"No movies in your collection"}),m.jsx("p",{className:"mb-4",children:"Add some Christmas movies to use the random movie picker!"}),m.jsxs(it,{to:"/import",className:"btn btn-primary",children:[m.jsx("i",{className:"fas fa-file-import mr-2"})," Import Movies"]})]}):m.jsxs("div",{className:"bg-xmas-card p-8 rounded-lg shadow-lg",children:[m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("p",{className:"mb-4",children:"Can't decide what Christmas movie to watch? Let us pick one for you!"}),m.jsx("div",{className:"form-control mb-6",children:m.jsxs("label",{className:"label cursor-pointer justify-center",children:[m.jsx("span",{className:"label-text mr-2",children:"Include watched movies"}),m.jsx("input",{type:"checkbox",className:"toggle toggle-primary",checked:h,onChange:()=>d(!h)})]})}),m.jsx("button",{className:"btn btn-primary btn-lg",onClick:v,disabled:p,children:p?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"loading loading-spinner loading-md mr-2"}),"Picking a movie..."]}):m.jsxs(m.Fragment,{children:[m.jsx("i",{className:"fas fa-random mr-2"}),"Pick a Random Movie"]})})]}),c&&m.jsx("div",{className:"mt-8 flex flex-col items-center",children:m.jsx("div",{className:"w-full max-w-md",children:m.jsxs("div",{className:"card bg-base-100 shadow-xl overflow-hidden",children:[m.jsxs("figure",{className:"relative",children:[c.posterUrl?m.jsx("img",{src:c.posterUrl,alt:c.title,className:"w-full object-contain",style:{aspectRatio:"2/3",maxHeight:"500px"},loading:"lazy"}):m.jsx("div",{className:"w-full flex items-center justify-center bg-gray-800",style:{aspectRatio:"2/3",maxHeight:"500px"},children:m.jsx("i",{className:"fas fa-film text-6xl text-gray-500"})}),((y=n[c.id])==null?void 0:y.watched)&&m.jsx("div",{className:"absolute top-4 left-4 badge badge-lg badge-success",children:"Already Watched"}),((k=n[c.id])==null?void 0:k.rating)&&m.jsxs("div",{className:"absolute top-4 right-4 badge badge-lg badge-warning",children:[m.jsx("i",{className:"fas fa-star mr-1"}),n[c.id].rating,"/10"]})]}),m.jsxs("div",{className:"card-body",children:[m.jsx("h2",{className:"card-title text-2xl font-christmas",children:c.title}),m.jsx("p",{className:"text-gray-400",children:(T=c.releaseDate)==null?void 0:T.substring(0,4)}),c.overview&&m.jsx("p",{className:"mt-2",children:c.overview}),m.jsxs("div",{className:"card-actions justify-end mt-4",children:[m.jsx(it,{to:`/movies/${c.id}`,className:"btn btn-primary",children:"View Details"}),m.jsx("button",{className:"btn btn-outline",onClick:v,disabled:p,children:"Pick Another"})]})]})]})})})]})]})},P7=(t,e)=>{const r=["Title","TMDB ID","Release Year","Watched","Watched Date","Rating","Review","Favorite","Date Added"].join(","),n=t.map(i=>{const s=e[i.id];if(!s)return null;const a=i.releaseDate?i.releaseDate.substring(0,4):"",o=s.watchedDate?Rm(s.watchedDate):"",l=s.addedAt?Rm(s.addedAt):"",c=Dw(i.title),u=s.review?Dw(s.review):"";return[c,i.tmdbId||"",a,s.watched?"Yes":"No",o,s.rating!==null&&s.rating!==void 0?s.rating:"",u,s.favorite?"Yes":"No",l].join(",")}).filter(Boolean);return[r,...n].join(`
`)},Rm=t=>{if(!(t instanceof Date))try{t&&typeof t.toDate=="function"?t=t.toDate():t=new Date(t)}catch{return""}return t.toISOString().split("T")[0]},Dw=t=>t?t.includes(",")||t.includes('"')||t.includes(`
`)?`"${t.replace(/"/g,'""')}"`:t:"",D7=(t,e,r)=>{const n=document.createElement("a"),i=new Blob([t],{type:r});n.href=URL.createObjectURL(i),n.download=e,n.click(),URL.revokeObjectURL(n.href)},F7=async(t,e,r)=>{const n=P7(t,e),i=`${r.replace(/\s+/g,"_")}_christmas_movies_${Rm(new Date)}.csv`;D7(n,i,"text/csv;charset=utf-8;")},mI=async()=>{const t=Zc(Xr,"movies"),e=await eu(t);let r=0;const n=e.size;for(const i of e.docs){const s=i.data();if(s.sortTitle)continue;const a=FS(s.title);a!==s.title&&(await kv(li(Xr,"movies",i.id),{sortTitle:a,updatedAt:new Date}),r++)}return{updated:r,total:n}},b7=()=>{const{currentUser:t,userProfile:e,signOut:r}=ds(),{isAdmin:n}=z0(),[i,s]=X.useState(""),[a,o]=X.useState(!1),[l,c]=X.useState(!1),[u,h]=X.useState(!1),[d,p]=X.useState(null),[x,v]=X.useState(null),[y,k]=X.useState({totalMovies:0,watchedMovies:0,unwatchedMovies:0,averageRating:0,favoriteMovies:0});X.useEffect(()=>{e!=null&&e.tmdbApiKey&&s(e.tmdbApiKey),(async()=>{if(t)try{const g=await DS(t.uid),E=g.length,S=g.filter(fe=>fe.watched).length,C=E-S,P=g.filter(fe=>fe.favorite).length,R=g.filter(fe=>fe.rating!==void 0&&fe.rating!==null),b=R.length>0?R.reduce((fe,de)=>fe+(de.rating||0),0)/R.length:0;k({totalMovies:E,watchedMovies:S,unwatchedMovies:C,averageRating:b,favoriteMovies:P})}catch(g){console.error("Error fetching user stats:",g)}})()},[t,e]);const T=async()=>{if(t)try{o(!0),p(null);const U=li(Xr,"users",t.uid);await kv(U,{tmdbApiKey:i}),v("TMDB API key saved successfully!"),setTimeout(()=>{v(null)},3e3)}catch(U){console.error("Error saving API key:",U),p(U.message||"Failed to save API key")}finally{o(!1)}},w=async()=>{try{await r()}catch(U){console.error("Error signing out:",U)}},D=async()=>{if(t)try{c(!0),p(null);const{userMovies:U,movies:g}=await Sv(t.uid);await F7(g,U,e.displayName||"User"),v("Movies exported successfully!"),setTimeout(()=>{v(null)},3e3)}catch(U){console.error("Error exporting movies:",U),p(U.message||"Failed to export movies")}finally{c(!1)}},B=async()=>{try{h(!0),p(null);const U=await mI();v(`Sort titles updated for ${U.updated} out of ${U.total} movies.`),setTimeout(()=>{v(null)},5e3)}catch(U){console.error("Error updating sort titles:",U),p(U.message||"Failed to update sort titles")}finally{h(!1)}};return!t||!e?m.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-xmas-gold"})}):m.jsxs("div",{className:"container mx-auto px-4 py-8",children:[m.jsx("h1",{className:"font-christmas text-3xl md:text-4xl text-xmas-line mb-6",children:"Your Profile"}),d&&m.jsxs("div",{className:"alert alert-error mb-6",children:[m.jsx("i",{className:"fas fa-exclamation-circle mr-2"}),m.jsx("span",{children:d})]}),x&&m.jsxs("div",{className:"alert alert-success mb-6",children:[m.jsx("i",{className:"fas fa-check-circle mr-2"}),m.jsx("span",{children:x})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[m.jsx("div",{className:"md:col-span-1",children:m.jsxs("div",{className:"bg-xmas-card p-6 rounded-lg shadow-lg",children:[m.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.photoURL?m.jsx("img",{src:e.photoURL,alt:e.displayName,className:"w-24 h-24 rounded-full mb-4"}):m.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-700 flex items-center justify-center mb-4",children:m.jsx("i",{className:"fas fa-user text-4xl text-gray-400"})}),m.jsx("h2",{className:"text-xl font-bold",children:e.displayName}),m.jsx("p",{className:"text-gray-400",children:e.email})]}),m.jsx("div",{className:"divider"}),m.jsxs("div",{className:"mb-6",children:[m.jsx("h3",{className:"text-lg font-bold mb-2",children:"Your Stats"}),m.jsxs("ul",{className:"space-y-2",children:[m.jsxs("li",{className:"flex justify-between",children:[m.jsx("span",{children:"Total Movies:"}),m.jsx("span",{className:"font-bold",children:y.totalMovies})]}),m.jsxs("li",{className:"flex justify-between",children:[m.jsx("span",{children:"Watched:"}),m.jsx("span",{className:"font-bold",children:y.watchedMovies})]}),m.jsxs("li",{className:"flex justify-between",children:[m.jsx("span",{children:"Unwatched:"}),m.jsx("span",{className:"font-bold",children:y.unwatchedMovies})]}),m.jsxs("li",{className:"flex justify-between",children:[m.jsx("span",{children:"Favorites:"}),m.jsx("span",{className:"font-bold",children:y.favoriteMovies})]}),m.jsxs("li",{className:"flex justify-between",children:[m.jsx("span",{children:"Average Rating:"}),m.jsxs("span",{className:"font-bold",children:[y.averageRating.toFixed(1),"/10"]})]})]})]}),m.jsx("div",{className:"divider"}),m.jsxs("div",{className:"mt-6 space-y-3",children:[m.jsxs("button",{className:"btn btn-outline btn-primary w-full",onClick:D,disabled:l||y.totalMovies===0,children:[l?m.jsx("span",{className:"loading loading-spinner loading-sm mr-2"}):m.jsx("i",{className:"fas fa-file-export mr-2"}),"Export Movie Data"]}),m.jsxs("button",{className:"btn btn-outline btn-error w-full",onClick:w,children:[m.jsx("i",{className:"fas fa-sign-out-alt mr-2"}),"Sign Out"]})]})]})}),m.jsx("div",{className:"md:col-span-2",children:m.jsxs("div",{className:"bg-xmas-card p-6 rounded-lg shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Settings"}),m.jsxs("div",{className:"mb-6",children:[m.jsx("h3",{className:"text-lg font-bold mb-2",children:"TMDB API Key"}),m.jsxs("p",{className:"mb-4",children:["Your TMDB API key is used to search for movies and fetch movie details. If you don't have one, you can get it for free from ",m.jsx("a",{href:"https://www.themoviedb.org/settings/api",target:"_blank",rel:"noopener noreferrer",className:"link link-primary",children:"The Movie Database"}),"."]}),m.jsxs("div",{className:"form-control",children:[m.jsx("label",{className:"label",children:m.jsx("span",{className:"label-text",children:"API Key"})}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",className:"input input-bordered flex-1",value:i,onChange:U=>s(U.target.value),placeholder:"Enter your TMDB API key"}),m.jsx("button",{className:"btn btn-primary",onClick:T,disabled:a,children:a?m.jsx("span",{className:"loading loading-spinner loading-sm"}):m.jsx("i",{className:"fas fa-save"})})]})]})]}),m.jsx("div",{className:"divider"}),m.jsxs("div",{className:"mb-6",children:[m.jsx("h3",{className:"text-lg font-bold mb-2",children:"Quick Links"}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsxs(it,{to:"/movies",className:"btn btn-outline btn-sm",children:[m.jsx("i",{className:"fas fa-film mr-2"}),"My Movies"]}),m.jsxs(it,{to:"/import",className:"btn btn-outline btn-sm",children:[m.jsx("i",{className:"fas fa-file-import mr-2"}),"Import Movies"]}),m.jsxs(it,{to:"/random",className:"btn btn-outline btn-sm",children:[m.jsx("i",{className:"fas fa-random mr-2"}),"Random Movie Picker"]})]})]}),n&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"divider"}),m.jsxs("div",{className:"mb-6",children:[m.jsx("h3",{className:"text-lg font-bold mb-2",children:"Admin Tools"}),m.jsx("div",{className:"space-y-4",children:m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium mb-1",children:"Sort Title Migration"}),m.jsx("p",{className:"text-sm mb-2",children:'Update all movies to include sort titles (e.g., "The Grinch"  "Grinch") for better alphabetical sorting.'}),m.jsxs("button",{className:"btn btn-outline btn-warning btn-sm",onClick:B,disabled:u,children:[u?m.jsx("span",{className:"loading loading-spinner loading-sm mr-2"}):m.jsx("i",{className:"fas fa-sort-alpha-down mr-2"}),"Update Sort Titles"]})]})})]})]})]})})]})]})},O7=()=>{const t=Ka(),{isAdmin:e,loading:r,currentUser:n}=z0(),[i,s]=X.useState(!1),[a,o]=X.useState(null),l=!1;X.useEffect(()=>{e&&!r&&t("/admin")},[e,r,t]);const c=async()=>{o(null),s(!0);try{await tk(mc,c6)}catch(u){console.error("Login error:",u),u.code==="auth/popup-closed-by-user"?o("Sign-in popup was closed. Please try again."):u.code==="auth/cancelled-popup-request"?o("Another popup is already open. Please try again."):u.code==="auth/unauthorized-domain"?(console.error("Unauthorized domain error:",window.location.hostname),o("This domain is not authorized for OAuth operations. Please add "+window.location.hostname+" to your Firebase authorized domains list in the Firebase console under Authentication > Sign-in method > Authorized domains.")):o("Failed to sign in. Please try again."),s(!1)}};return r?m.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-xmas-gold"})}):m.jsx("div",{className:"container mx-auto px-4 py-12",children:m.jsxs("div",{className:"max-w-md mx-auto",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("h1",{className:"font-christmas text-4xl text-xmas-line mb-2",children:"Admin Login"}),m.jsx("p",{className:"text-xmas-mute",children:"Sign in to manage the Christmas Quiz"})]}),m.jsxs("div",{className:"bg-xmas-card rounded-lg shadow-lg p-6",children:[l,n&&m.jsxs("div",{className:"bg-info bg-opacity-10 border-l-4 border-info p-4 mb-6 rounded",children:[m.jsx("p",{className:"text-info font-bold mb-2",children:"User Authenticated"}),m.jsxs("p",{className:"text-info text-sm mb-1",children:["Email: ",n.email]}),m.jsxs("p",{className:"text-info text-sm mb-2",children:["UID: ",n.uid]}),m.jsxs("p",{className:"text-info text-sm",children:["To grant admin access, create a document in the ",m.jsx("code",{className:"bg-base-300 px-1 py-0.5 rounded",children:"admins"})," collection with this UID as the document ID."]}),l]}),a&&m.jsx("div",{className:"bg-error bg-opacity-10 border-l-4 border-error p-4 mb-6 rounded",children:m.jsx("p",{className:"text-error",children:a})}),m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("p",{className:"mb-4",children:"Sign in with your Google account to access the admin panel."}),m.jsx("p",{className:"text-sm text-xmas-mute mb-6",children:"Only authorized administrators will be granted access."}),m.jsx("button",{onClick:c,className:"btn btn-primary w-full flex items-center justify-center gap-2",disabled:i,children:i?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"loading loading-spinner loading-sm"}),"Signing in..."]}):m.jsxs(m.Fragment,{children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 48 48",children:[m.jsx("path",{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12
                      s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24s8.955,20,20,20
                      s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`}),m.jsx("path",{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039
                      l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`}),m.jsx("path",{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36
                      c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`}),m.jsx("path",{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571
                      c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`})]}),"Sign in with Google"]})})]})]}),m.jsx("div",{className:"text-center mt-6",children:m.jsx("button",{onClick:()=>t("/"),className:"btn btn-link text-xmas-mute",children:"Back to Home"})})]})})},L7=()=>{const t=Ka(),{isAdmin:e,loading:r}=z0(),[n,i]=X.useState(!0),[s,a]=X.useState(null),[o,l]=X.useState(null),[c,u]=X.useState(!1),[h,d]=X.useState({totalMovies:0,moviesWithSortTitle:0});if(X.useEffect(()=>{!r&&!e&&t("/admin/login")},[e,r,t]),X.useEffect(()=>{e&&(async()=>{if(e){i(!0);try{const v=await eu(Zc(Xr,"movies")),y=v.size;let k=0;v.forEach(T=>{T.data().sortTitle&&k++}),d({totalMovies:y,moviesWithSortTitle:k})}catch(v){console.error("Error fetching movie data:",v),a("Failed to load movie data")}finally{i(!1)}}})()},[e]),r||n)return m.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-xmas-gold"})});const p=async()=>{try{u(!0),a(null);const x=await mI();l(`Sort titles updated for ${x.updated} out of ${x.total} movies.`),d(v=>({...v,moviesWithSortTitle:v.moviesWithSortTitle+x.updated})),setTimeout(()=>{l(null)},5e3)}catch(x){console.error("Error updating sort titles:",x),a(x.message||"Failed to update sort titles")}finally{u(!1)}};return m.jsxs("div",{className:"container mx-auto px-4 py-8",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsx("h1",{className:"font-christmas text-3xl md:text-4xl text-xmas-line",children:"Admin Dashboard"}),m.jsx("div",{className:"flex gap-2",children:m.jsxs(it,{to:"/movies",className:"btn btn-outline",children:[m.jsx("i",{className:"fas fa-film mr-2"})," Movies"]})})]}),s&&m.jsxs("div",{className:"alert alert-error mb-6",children:[m.jsx("i",{className:"fas fa-exclamation-circle mr-2"}),m.jsx("span",{children:s})]}),o&&m.jsxs("div",{className:"alert alert-success mb-6",children:[m.jsx("i",{className:"fas fa-check-circle mr-2"}),m.jsx("span",{children:o})]}),m.jsxs("div",{className:"mb-8",children:[m.jsx("h2",{className:"text-2xl font-christmas mb-4 text-xmas-gold",children:"Movie Administration"}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:m.jsx("div",{className:"card bg-xmas-card shadow-xl",children:m.jsxs("div",{className:"card-body",children:[m.jsxs("h2",{className:"card-title font-christmas",children:[m.jsx("i",{className:"fas fa-sort-alpha-down text-primary mr-2"})," Sort Title Migration"]}),m.jsx("p",{className:"mb-4",children:'Update all movies to include sort titles (e.g., "The Grinch"  "Grinch") for better alphabetical sorting.'}),m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsxs("div",{className:"stats bg-base-200 text-base-content",children:[m.jsxs("div",{className:"stat",children:[m.jsx("div",{className:"stat-title",children:"Total Movies"}),m.jsx("div",{className:"stat-value",children:h.totalMovies})]}),m.jsxs("div",{className:"stat",children:[m.jsx("div",{className:"stat-title",children:"With Sort Titles"}),m.jsx("div",{className:"stat-value",children:h.moviesWithSortTitle}),m.jsx("div",{className:"stat-desc",children:h.totalMovies>0?`${Math.round(h.moviesWithSortTitle/h.totalMovies*100)}%`:"0%"})]})]}),m.jsxs("button",{className:"btn btn-primary w-full",onClick:p,disabled:c||h.moviesWithSortTitle===h.totalMovies,children:[c?m.jsx("span",{className:"loading loading-spinner loading-sm mr-2"}):m.jsx("i",{className:"fas fa-sync-alt mr-2"}),h.moviesWithSortTitle===h.totalMovies?"All Movies Updated":"Update Sort Titles"]})]})]})})})]})]})},M7=RN([{element:m.jsx(d6,{}),children:[{path:"/",element:m.jsx(p6,{})},{path:"/login",element:m.jsx(m6,{})},{element:m.jsx(Sy,{}),children:[{path:"/movies",element:m.jsx(T6,{})},{path:"/movies/:movieId",element:m.jsx(k6,{})},{path:"/import",element:m.jsx(R7,{})},{path:"/random",element:m.jsx(N7,{})},{path:"/profile",element:m.jsx(b7,{})}]},{path:"/admin/login",element:m.jsx(O7,{})},{path:"/admin",element:m.jsx(Sy,{children:m.jsx(L7,{})})}]}]);Xd.createRoot(document.getElementById("root")).render(m.jsx(Ww.StrictMode,{children:m.jsx(u6,{children:m.jsx(MN,{router:M7})})}));
